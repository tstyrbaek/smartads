(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Nr(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Oe={},wn=[],Et=()=>{},wo=()=>!1,As=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Lr=e=>e.startsWith("onUpdate:"),ze=Object.assign,$r=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ru=Object.prototype.hasOwnProperty,Ee=(e,t)=>Ru.call(e,t),ae=Array.isArray,Sn=e=>ts(e)==="[object Map]",In=e=>ts(e)==="[object Set]",wi=e=>ts(e)==="[object Date]",he=e=>typeof e=="function",Be=e=>typeof e=="string",Pt=e=>typeof e=="symbol",Le=e=>e!==null&&typeof e=="object",So=e=>(Le(e)||he(e))&&he(e.then)&&he(e.catch),ko=Object.prototype.toString,ts=e=>ko.call(e),Iu=e=>ts(e).slice(8,-1),Co=e=>ts(e)==="[object Object]",Dr=e=>Be(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Mn=Nr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ps=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ou=/-\w/g,gt=Ps(e=>e.replace(Ou,t=>t.slice(1).toUpperCase())),Nu=/\B([A-Z])/g,gn=Ps(e=>e.replace(Nu,"-$1").toLowerCase()),Rs=Ps(e=>e.charAt(0).toUpperCase()+e.slice(1)),tr=Ps(e=>e?`on${Rs(e)}`:""),nn=(e,t)=>!Object.is(e,t),gs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},To=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Is=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Si;const Os=()=>Si||(Si=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function en(e){if(ae(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=Be(s)?ju(s):en(s);if(i)for(const o in i)t[o]=i[o]}return t}else if(Be(e)||Le(e))return e}const Lu=/;(?![^(]*\))/g,$u=/:([^]+)/,Du=/\/\*[^]*?\*\//g;function ju(e){const t={};return e.replace(Du,"").split(Lu).forEach(n=>{if(n){const s=n.split($u);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function mn(e){let t="";if(Be(e))t=e;else if(ae(e))for(let n=0;n<e.length;n++){const s=mn(e[n]);s&&(t+=s+" ")}else if(Le(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Uu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mu=Nr(Uu);function Eo(e){return!!e||e===""}function Hu(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=ns(e[s],t[s]);return n}function ns(e,t){if(e===t)return!0;let n=wi(e),s=wi(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Pt(e),s=Pt(t),n||s)return e===t;if(n=ae(e),s=ae(t),n||s)return n&&s?Hu(e,t):!1;if(n=Le(e),s=Le(t),n||s){if(!n||!s)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const u in e){const c=e.hasOwnProperty(u),d=t.hasOwnProperty(u);if(c&&!d||!c&&d||!ns(e[u],t[u]))return!1}}return String(e)===String(t)}function jr(e,t){return e.findIndex(n=>ns(n,t))}const Ao=e=>!!(e&&e.__v_isRef===!0),te=e=>Be(e)?e:e==null?"":ae(e)||Le(e)&&(e.toString===ko||!he(e.toString))?Ao(e)?te(e.value):JSON.stringify(e,Po,2):String(e),Po=(e,t)=>Ao(t)?Po(e,t.value):Sn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i],o)=>(n[nr(s,o)+" =>"]=i,n),{})}:In(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>nr(n))}:Pt(t)?nr(t):Le(t)&&!ae(t)&&!Co(t)?String(t):t,nr=(e,t="")=>{var n;return Pt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ot;class Fu{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ot,!t&&ot&&(this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ot;try{return ot=this,t()}finally{ot=n}}}on(){++this._on===1&&(this.prevScope=ot,ot=this)}off(){this._on>0&&--this._on===0&&(ot=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Bu(){return ot}let $e;const sr=new WeakSet;class Ro{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ot&&ot.active&&ot.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,sr.has(this)&&(sr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Oo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ki(this),No(this);const t=$e,n=vt;$e=this,vt=!0;try{return this.fn()}finally{Lo(this),$e=t,vt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Hr(t);this.deps=this.depsTail=void 0,ki(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?sr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vr(this)&&this.run()}get dirty(){return vr(this)}}let Io=0,Hn,Fn;function Oo(e,t=!1){if(e.flags|=8,t){e.next=Fn,Fn=e;return}e.next=Hn,Hn=e}function Ur(){Io++}function Mr(){if(--Io>0)return;if(Fn){let t=Fn;for(Fn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Hn;){let t=Hn;for(Hn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function No(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Lo(e){let t,n=e.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Hr(s),Vu(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=n}function vr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&($o(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function $o(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Wn)||(e.globalVersion=Wn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!vr(e))))return;e.flags|=2;const t=e.dep,n=$e,s=vt;$e=e,vt=!0;try{No(e);const i=e.fn(e._value);(t.version===0||nn(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{$e=n,vt=s,Lo(e),e.flags&=-3}}function Hr(e,t=!1){const{dep:n,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Hr(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Vu(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let vt=!0;const Do=[];function qt(){Do.push(vt),vt=!1}function zt(){const e=Do.pop();vt=e===void 0?!0:e}function ki(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=$e;$e=void 0;try{t()}finally{$e=n}}}let Wn=0;class qu{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Fr{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!$e||!vt||$e===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==$e)n=this.activeLink=new qu($e,this),$e.deps?(n.prevDep=$e.depsTail,$e.depsTail.nextDep=n,$e.depsTail=n):$e.deps=$e.depsTail=n,jo(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=$e.depsTail,n.nextDep=void 0,$e.depsTail.nextDep=n,$e.depsTail=n,$e.deps===n&&($e.deps=s)}return n}trigger(t){this.version++,Wn++,this.notify(t)}notify(t){Ur();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Mr()}}}function jo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)jo(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const yr=new WeakMap,hn=Symbol(""),br=Symbol(""),Jn=Symbol("");function Xe(e,t,n){if(vt&&$e){let s=yr.get(e);s||yr.set(e,s=new Map);let i=s.get(n);i||(s.set(n,i=new Fr),i.map=s,i.key=n),i.track()}}function Mt(e,t,n,s,i,o){const u=yr.get(e);if(!u){Wn++;return}const c=d=>{d&&d.trigger()};if(Ur(),t==="clear")u.forEach(c);else{const d=ae(e),m=d&&Dr(n);if(d&&n==="length"){const h=Number(s);u.forEach((g,y)=>{(y==="length"||y===Jn||!Pt(y)&&y>=h)&&c(g)})}else switch((n!==void 0||u.has(void 0))&&c(u.get(n)),m&&c(u.get(Jn)),t){case"add":d?m&&c(u.get("length")):(c(u.get(hn)),Sn(e)&&c(u.get(br)));break;case"delete":d||(c(u.get(hn)),Sn(e)&&c(u.get(br)));break;case"set":Sn(e)&&c(u.get(hn));break}}Mr()}function bn(e){const t=Te(e);return t===e?t:(Xe(t,"iterate",Jn),pt(e)?t:t.map(_t))}function Ns(e){return Xe(e=Te(e),"iterate",Jn),e}function Xt(e,t){return Kt(e)?Tn(pn(e)?_t(t):t):_t(t)}const zu={__proto__:null,[Symbol.iterator](){return rr(this,Symbol.iterator,e=>Xt(this,e))},concat(...e){return bn(this).concat(...e.map(t=>ae(t)?bn(t):t))},entries(){return rr(this,"entries",e=>(e[1]=Xt(this,e[1]),e))},every(e,t){return Dt(this,"every",e,t,void 0,arguments)},filter(e,t){return Dt(this,"filter",e,t,n=>n.map(s=>Xt(this,s)),arguments)},find(e,t){return Dt(this,"find",e,t,n=>Xt(this,n),arguments)},findIndex(e,t){return Dt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Dt(this,"findLast",e,t,n=>Xt(this,n),arguments)},findLastIndex(e,t){return Dt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Dt(this,"forEach",e,t,void 0,arguments)},includes(...e){return ir(this,"includes",e)},indexOf(...e){return ir(this,"indexOf",e)},join(e){return bn(this).join(e)},lastIndexOf(...e){return ir(this,"lastIndexOf",e)},map(e,t){return Dt(this,"map",e,t,void 0,arguments)},pop(){return $n(this,"pop")},push(...e){return $n(this,"push",e)},reduce(e,...t){return Ci(this,"reduce",e,t)},reduceRight(e,...t){return Ci(this,"reduceRight",e,t)},shift(){return $n(this,"shift")},some(e,t){return Dt(this,"some",e,t,void 0,arguments)},splice(...e){return $n(this,"splice",e)},toReversed(){return bn(this).toReversed()},toSorted(e){return bn(this).toSorted(e)},toSpliced(...e){return bn(this).toSpliced(...e)},unshift(...e){return $n(this,"unshift",e)},values(){return rr(this,"values",e=>Xt(this,e))}};function rr(e,t,n){const s=Ns(e),i=s[t]();return s!==e&&!pt(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.done||(o.value=n(o.value)),o}),i}const Ku=Array.prototype;function Dt(e,t,n,s,i,o){const u=Ns(e),c=u!==e&&!pt(e),d=u[t];if(d!==Ku[t]){const g=d.apply(e,o);return c?_t(g):g}let m=n;u!==e&&(c?m=function(g,y){return n.call(this,Xt(e,g),y,e)}:n.length>2&&(m=function(g,y){return n.call(this,g,y,e)}));const h=d.call(u,m,s);return c&&i?i(h):h}function Ci(e,t,n,s){const i=Ns(e);let o=n;return i!==e&&(pt(e)?n.length>3&&(o=function(u,c,d){return n.call(this,u,c,d,e)}):o=function(u,c,d){return n.call(this,u,Xt(e,c),d,e)}),i[t](o,...s)}function ir(e,t,n){const s=Te(e);Xe(s,"iterate",Jn);const i=s[t](...n);return(i===-1||i===!1)&&qr(n[0])?(n[0]=Te(n[0]),s[t](...n)):i}function $n(e,t,n=[]){qt(),Ur();const s=Te(e)[t].apply(e,n);return Mr(),zt(),s}const Gu=Nr("__proto__,__v_isRef,__isVue"),Uo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pt));function Wu(e){Pt(e)||(e=String(e));const t=Te(this);return Xe(t,"has",e),t.hasOwnProperty(e)}class Mo{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(i?o?rc:Vo:o?Bo:Fo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const u=ae(t);if(!i){let d;if(u&&(d=zu[n]))return d;if(n==="hasOwnProperty")return Wu}const c=Reflect.get(t,n,Ye(t)?t:s);if((Pt(n)?Uo.has(n):Gu(n))||(i||Xe(t,"get",n),o))return c;if(Ye(c)){const d=u&&Dr(n)?c:c.value;return i&&Le(d)?xr(d):d}return Le(c)?i?xr(c):Ls(c):c}}class Ho extends Mo{constructor(t=!1){super(!1,t)}set(t,n,s,i){let o=t[n];const u=ae(t)&&Dr(n);if(!this._isShallow){const m=Kt(o);if(!pt(s)&&!Kt(s)&&(o=Te(o),s=Te(s)),!u&&Ye(o)&&!Ye(s))return m||(o.value=s),!0}const c=u?Number(n)<t.length:Ee(t,n),d=Reflect.set(t,n,s,Ye(t)?t:i);return t===Te(i)&&(c?nn(s,o)&&Mt(t,"set",n,s):Mt(t,"add",n,s)),d}deleteProperty(t,n){const s=Ee(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&s&&Mt(t,"delete",n,void 0),i}has(t,n){const s=Reflect.has(t,n);return(!Pt(n)||!Uo.has(n))&&Xe(t,"has",n),s}ownKeys(t){return Xe(t,"iterate",ae(t)?"length":hn),Reflect.ownKeys(t)}}class Ju extends Mo{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Xu=new Ho,Qu=new Ju,Yu=new Ho(!0);const _r=e=>e,fs=e=>Reflect.getPrototypeOf(e);function Zu(e,t,n){return function(...s){const i=this.__v_raw,o=Te(i),u=Sn(o),c=e==="entries"||e===Symbol.iterator&&u,d=e==="keys"&&u,m=i[e](...s),h=n?_r:t?Tn:_t;return!t&&Xe(o,"iterate",d?br:hn),ze(Object.create(m),{next(){const{value:g,done:y}=m.next();return y?{value:g,done:y}:{value:c?[h(g[0]),h(g[1])]:h(g),done:y}}})}}function hs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ec(e,t){const n={get(i){const o=this.__v_raw,u=Te(o),c=Te(i);e||(nn(i,c)&&Xe(u,"get",i),Xe(u,"get",c));const{has:d}=fs(u),m=t?_r:e?Tn:_t;if(d.call(u,i))return m(o.get(i));if(d.call(u,c))return m(o.get(c));o!==u&&o.get(i)},get size(){const i=this.__v_raw;return!e&&Xe(Te(i),"iterate",hn),i.size},has(i){const o=this.__v_raw,u=Te(o),c=Te(i);return e||(nn(i,c)&&Xe(u,"has",i),Xe(u,"has",c)),i===c?o.has(i):o.has(i)||o.has(c)},forEach(i,o){const u=this,c=u.__v_raw,d=Te(c),m=t?_r:e?Tn:_t;return!e&&Xe(d,"iterate",hn),c.forEach((h,g)=>i.call(o,m(h),m(g),u))}};return ze(n,e?{add:hs("add"),set:hs("set"),delete:hs("delete"),clear:hs("clear")}:{add(i){!t&&!pt(i)&&!Kt(i)&&(i=Te(i));const o=Te(this);return fs(o).has.call(o,i)||(o.add(i),Mt(o,"add",i,i)),this},set(i,o){!t&&!pt(o)&&!Kt(o)&&(o=Te(o));const u=Te(this),{has:c,get:d}=fs(u);let m=c.call(u,i);m||(i=Te(i),m=c.call(u,i));const h=d.call(u,i);return u.set(i,o),m?nn(o,h)&&Mt(u,"set",i,o):Mt(u,"add",i,o),this},delete(i){const o=Te(this),{has:u,get:c}=fs(o);let d=u.call(o,i);d||(i=Te(i),d=u.call(o,i)),c&&c.call(o,i);const m=o.delete(i);return d&&Mt(o,"delete",i,void 0),m},clear(){const i=Te(this),o=i.size!==0,u=i.clear();return o&&Mt(i,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Zu(i,e,t)}),n}function Br(e,t){const n=ec(e,t);return(s,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(Ee(n,i)&&i in s?n:s,i,o)}const tc={get:Br(!1,!1)},nc={get:Br(!1,!0)},sc={get:Br(!0,!1)};const Fo=new WeakMap,Bo=new WeakMap,Vo=new WeakMap,rc=new WeakMap;function ic(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oc(e){return e.__v_skip||!Object.isExtensible(e)?0:ic(Iu(e))}function Ls(e){return Kt(e)?e:Vr(e,!1,Xu,tc,Fo)}function qo(e){return Vr(e,!1,Yu,nc,Bo)}function xr(e){return Vr(e,!0,Qu,sc,Vo)}function Vr(e,t,n,s,i){if(!Le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=oc(e);if(o===0)return e;const u=i.get(e);if(u)return u;const c=new Proxy(e,o===2?s:n);return i.set(e,c),c}function pn(e){return Kt(e)?pn(e.__v_raw):!!(e&&e.__v_isReactive)}function Kt(e){return!!(e&&e.__v_isReadonly)}function pt(e){return!!(e&&e.__v_isShallow)}function qr(e){return e?!!e.__v_raw:!1}function Te(e){const t=e&&e.__v_raw;return t?Te(t):e}function lc(e){return!Ee(e,"__v_skip")&&Object.isExtensible(e)&&To(e,"__v_skip",!0),e}const _t=e=>Le(e)?Ls(e):e,Tn=e=>Le(e)?xr(e):e;function Ye(e){return e?e.__v_isRef===!0:!1}function B(e){return zo(e,!1)}function ac(e){return zo(e,!0)}function zo(e,t){return Ye(e)?e:new uc(e,t)}class uc{constructor(t,n){this.dep=new Fr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Te(t),this._value=n?t:_t(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||pt(t)||Kt(t);t=s?t:Te(t),nn(t,n)&&(this._rawValue=t,this._value=s?t:_t(t),this.dep.trigger())}}function Je(e){return Ye(e)?e.value:e}const cc={get:(e,t,n)=>t==="__v_raw"?e:Je(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return Ye(i)&&!Ye(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function Ko(e){return pn(e)?e:new Proxy(e,cc)}class dc{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Fr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Wn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&$e!==this)return Oo(this,!0),!0}get value(){const t=this.dep.track();return $o(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function fc(e,t,n=!1){let s,i;return he(e)?s=e:(s=e.get,i=e.set),new dc(s,i,n)}const ps={},_s=new WeakMap;let cn;function hc(e,t=!1,n=cn){if(n){let s=_s.get(n);s||_s.set(n,s=[]),s.push(e)}}function pc(e,t,n=Oe){const{immediate:s,deep:i,once:o,scheduler:u,augmentJob:c,call:d}=n,m=D=>i?D:pt(D)||i===!1||i===0?Ht(D,1):Ht(D);let h,g,y,_,w=!1,E=!1;if(Ye(e)?(g=()=>e.value,w=pt(e)):pn(e)?(g=()=>m(e),w=!0):ae(e)?(E=!0,w=e.some(D=>pn(D)||pt(D)),g=()=>e.map(D=>{if(Ye(D))return D.value;if(pn(D))return m(D);if(he(D))return d?d(D,2):D()})):he(e)?t?g=d?()=>d(e,2):e:g=()=>{if(y){qt();try{y()}finally{zt()}}const D=cn;cn=h;try{return d?d(e,3,[_]):e(_)}finally{cn=D}}:g=Et,t&&i){const D=g,F=i===!0?1/0:i;g=()=>Ht(D(),F)}const A=Bu(),T=()=>{h.stop(),A&&A.active&&$r(A.effects,h)};if(o&&t){const D=t;t=(...F)=>{D(...F),T()}}let C=E?new Array(e.length).fill(ps):ps;const M=D=>{if(!(!(h.flags&1)||!h.dirty&&!D))if(t){const F=h.run();if(i||w||(E?F.some((ue,ce)=>nn(ue,C[ce])):nn(F,C))){y&&y();const ue=cn;cn=h;try{const ce=[F,C===ps?void 0:E&&C[0]===ps?[]:C,_];C=F,d?d(t,3,ce):t(...ce)}finally{cn=ue}}}else h.run()};return c&&c(M),h=new Ro(g),h.scheduler=u?()=>u(M,!1):M,_=D=>hc(D,!1,h),y=h.onStop=()=>{const D=_s.get(h);if(D){if(d)d(D,4);else for(const F of D)F();_s.delete(h)}},t?s?M(!0):C=h.run():u?u(M.bind(null,!0),!0):h.run(),T.pause=h.pause.bind(h),T.resume=h.resume.bind(h),T.stop=T,T}function Ht(e,t=1/0,n){if(t<=0||!Le(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Ye(e))Ht(e.value,t,n);else if(ae(e))for(let s=0;s<e.length;s++)Ht(e[s],t,n);else if(In(e)||Sn(e))e.forEach(s=>{Ht(s,t,n)});else if(Co(e)){for(const s in e)Ht(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Ht(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ss(e,t,n,s){try{return s?e(...s):e()}catch(i){$s(i,t,n)}}function Rt(e,t,n,s){if(he(e)){const i=ss(e,t,n,s);return i&&So(i)&&i.catch(o=>{$s(o,t,n)}),i}if(ae(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Rt(e[o],t,n,s));return i}}function $s(e,t,n,s=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:u}=t&&t.appContext.config||Oe;if(t){let c=t.parent;const d=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const h=c.ec;if(h){for(let g=0;g<h.length;g++)if(h[g](e,d,m)===!1)return}c=c.parent}if(o){qt(),ss(o,null,10,[e,d,m]),zt();return}}gc(e,n,i,s,u)}function gc(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}const it=[];let St=-1;const kn=[];let Qt=null,_n=0;const Go=Promise.resolve();let xs=null;function zr(e){const t=xs||Go;return e?t.then(this?e.bind(this):e):t}function mc(e){let t=St+1,n=it.length;for(;t<n;){const s=t+n>>>1,i=it[s],o=Xn(i);o<e||o===e&&i.flags&2?t=s+1:n=s}return t}function Kr(e){if(!(e.flags&1)){const t=Xn(e),n=it[it.length-1];!n||!(e.flags&2)&&t>=Xn(n)?it.push(e):it.splice(mc(t),0,e),e.flags|=1,Wo()}}function Wo(){xs||(xs=Go.then(Xo))}function vc(e){ae(e)?kn.push(...e):Qt&&e.id===-1?Qt.splice(_n+1,0,e):e.flags&1||(kn.push(e),e.flags|=1),Wo()}function Ti(e,t,n=St+1){for(;n<it.length;n++){const s=it[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;it.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Jo(e){if(kn.length){const t=[...new Set(kn)].sort((n,s)=>Xn(n)-Xn(s));if(kn.length=0,Qt){Qt.push(...t);return}for(Qt=t,_n=0;_n<Qt.length;_n++){const n=Qt[_n];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Qt=null,_n=0}}const Xn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Xo(e){try{for(St=0;St<it.length;St++){const t=it[St];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ss(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;St<it.length;St++){const t=it[St];t&&(t.flags&=-2)}St=-1,it.length=0,Jo(),xs=null,(it.length||kn.length)&&Xo()}}let ut=null,Qo=null;function ws(e){const t=ut;return ut=e,Qo=e&&e.type.__scopeId||null,t}function kt(e,t=ut,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&Cs(-1);const o=ws(t);let u;try{u=e(...i)}finally{ws(o),s._d&&Cs(1)}return u};return s._n=!0,s._c=!0,s._d=!0,s}function xe(e,t){if(ut===null)return e;const n=Ms(ut),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,u,c,d=Oe]=t[i];o&&(he(o)&&(o={mounted:o,updated:o}),o.deep&&Ht(u),s.push({dir:o,instance:n,value:u,oldValue:void 0,arg:c,modifiers:d}))}return e}function an(e,t,n,s){const i=e.dirs,o=t&&t.dirs;for(let u=0;u<i.length;u++){const c=i[u];o&&(c.oldValue=o[u].value);let d=c.dir[s];d&&(qt(),Rt(d,n,8,[e.el,c,e,t]),zt())}}function ms(e,t){if(Qe){let n=Qe.provides;const s=Qe.parent&&Qe.parent.provides;s===n&&(n=Qe.provides=Object.create(s)),n[e]=t}}function yt(e,t,n=!1){const s=md();if(s||Cn){let i=Cn?Cn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&he(t)?t.call(s&&s.proxy):t}}const yc=Symbol.for("v-scx"),bc=()=>yt(yc);function Bt(e,t,n){return Yo(e,t,n)}function Yo(e,t,n=Oe){const{immediate:s,deep:i,flush:o,once:u}=n,c=ze({},n),d=t&&s||!t&&o!=="post";let m;if(Yn){if(o==="sync"){const _=bc();m=_.__watcherHandles||(_.__watcherHandles=[])}else if(!d){const _=()=>{};return _.stop=Et,_.resume=Et,_.pause=Et,_}}const h=Qe;c.call=(_,w,E)=>Rt(_,h,w,E);let g=!1;o==="post"?c.scheduler=_=>{lt(_,h&&h.suspense)}:o!=="sync"&&(g=!0,c.scheduler=(_,w)=>{w?_():Kr(_)}),c.augmentJob=_=>{t&&(_.flags|=4),g&&(_.flags|=2,h&&(_.id=h.uid,_.i=h))};const y=pc(e,t,c);return Yn&&(m?m.push(y):d&&y()),y}function _c(e,t,n){const s=this.proxy,i=Be(e)?e.includes(".")?Zo(s,e):()=>s[e]:e.bind(s,s);let o;he(t)?o=t:(o=t.handler,n=t);const u=rs(this),c=Yo(i,o.bind(s),n);return u(),c}function Zo(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const xc=Symbol("_vte"),wc=e=>e.__isTeleport,Sc=Symbol("_leaveCb");function Gr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Gr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function mt(e,t){return he(e)?ze({name:e.name},t,{setup:e}):e}function el(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ss=new WeakMap;function Bn(e,t,n,s,i=!1){if(ae(e)){e.forEach((w,E)=>Bn(w,t&&(ae(t)?t[E]:t),n,s,i));return}if(Vn(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Bn(e,t,n,s.component.subTree);return}const o=s.shapeFlag&4?Ms(s.component):s.el,u=i?null:o,{i:c,r:d}=e,m=t&&t.r,h=c.refs===Oe?c.refs={}:c.refs,g=c.setupState,y=Te(g),_=g===Oe?wo:w=>Ee(y,w);if(m!=null&&m!==d){if(Ei(t),Be(m))h[m]=null,_(m)&&(g[m]=null);else if(Ye(m)){m.value=null;const w=t;w.k&&(h[w.k]=null)}}if(he(d))ss(d,c,12,[u,h]);else{const w=Be(d),E=Ye(d);if(w||E){const A=()=>{if(e.f){const T=w?_(d)?g[d]:h[d]:d.value;if(i)ae(T)&&$r(T,o);else if(ae(T))T.includes(o)||T.push(o);else if(w)h[d]=[o],_(d)&&(g[d]=h[d]);else{const C=[o];d.value=C,e.k&&(h[e.k]=C)}}else w?(h[d]=u,_(d)&&(g[d]=u)):E&&(d.value=u,e.k&&(h[e.k]=u))};if(u){const T=()=>{A(),Ss.delete(e)};T.id=-1,Ss.set(e,T),lt(T,n)}else Ei(e),A()}}}function Ei(e){const t=Ss.get(e);t&&(t.flags|=8,Ss.delete(e))}Os().requestIdleCallback;Os().cancelIdleCallback;const Vn=e=>!!e.type.__asyncLoader,tl=e=>e.type.__isKeepAlive;function kc(e,t){nl(e,"a",t)}function Cc(e,t){nl(e,"da",t)}function nl(e,t,n=Qe){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Ds(t,s,n),n){let i=n.parent;for(;i&&i.parent;)tl(i.parent.vnode)&&Tc(s,t,n,i),i=i.parent}}function Tc(e,t,n,s){const i=Ds(t,e,s,!0);sl(()=>{$r(s[t],i)},n)}function Ds(e,t,n=Qe,s=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...u)=>{qt();const c=rs(n),d=Rt(t,n,e,u);return c(),zt(),d});return s?i.unshift(o):i.push(o),o}}const Gt=e=>(t,n=Qe)=>{(!Yn||e==="sp")&&Ds(e,(...s)=>t(...s),n)},Ec=Gt("bm"),It=Gt("m"),Ac=Gt("bu"),Pc=Gt("u"),On=Gt("bum"),sl=Gt("um"),Rc=Gt("sp"),Ic=Gt("rtg"),Oc=Gt("rtc");function Nc(e,t=Qe){Ds("ec",e,t)}const Lc="components";function rl(e,t){return Dc(Lc,e,!0,t)||e}const $c=Symbol.for("v-ndc");function Dc(e,t,n=!0,s=!1){const i=ut||Qe;if(i){const o=i.type;{const c=xd(o,!1);if(c&&(c===t||c===gt(t)||c===Rs(gt(t))))return o}const u=Ai(i[e]||o[e],t)||Ai(i.appContext[e],t);return!u&&s?o:u}}function Ai(e,t){return e&&(e[t]||e[gt(t)]||e[Rs(gt(t))])}function At(e,t,n,s){let i;const o=n,u=ae(e);if(u||Be(e)){const c=u&&pn(e);let d=!1,m=!1;c&&(d=!pt(e),m=Kt(e),e=Ns(e)),i=new Array(e.length);for(let h=0,g=e.length;h<g;h++)i[h]=t(d?m?Tn(_t(e[h])):_t(e[h]):e[h],h,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let c=0;c<e;c++)i[c]=t(c+1,c,void 0,o)}else if(Le(e))if(e[Symbol.iterator])i=Array.from(e,(c,d)=>t(c,d,void 0,o));else{const c=Object.keys(e);i=new Array(c.length);for(let d=0,m=c.length;d<m;d++){const h=c[d];i[d]=t(e[h],h,d,o)}}else i=[];return i}const wr=e=>e?Sl(e)?Ms(e):wr(e.parent):null,qn=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wr(e.parent),$root:e=>wr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ol(e),$forceUpdate:e=>e.f||(e.f=()=>{Kr(e.update)}),$nextTick:e=>e.n||(e.n=zr.bind(e.proxy)),$watch:e=>_c.bind(e)}),or=(e,t)=>e!==Oe&&!e.__isScriptSetup&&Ee(e,t),jc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:o,accessCache:u,type:c,appContext:d}=e;if(t[0]!=="$"){const y=u[t];if(y!==void 0)switch(y){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(or(s,t))return u[t]=1,s[t];if(i!==Oe&&Ee(i,t))return u[t]=2,i[t];if(Ee(o,t))return u[t]=3,o[t];if(n!==Oe&&Ee(n,t))return u[t]=4,n[t];Sr&&(u[t]=0)}}const m=qn[t];let h,g;if(m)return t==="$attrs"&&Xe(e.attrs,"get",""),m(e);if((h=c.__cssModules)&&(h=h[t]))return h;if(n!==Oe&&Ee(n,t))return u[t]=4,n[t];if(g=d.config.globalProperties,Ee(g,t))return g[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:o}=e;return or(i,t)?(i[t]=n,!0):s!==Oe&&Ee(s,t)?(s[t]=n,!0):Ee(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,props:o,type:u}},c){let d;return!!(n[c]||e!==Oe&&c[0]!=="$"&&Ee(e,c)||or(t,c)||Ee(o,c)||Ee(s,c)||Ee(qn,c)||Ee(i.config.globalProperties,c)||(d=u.__cssModules)&&d[c])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ee(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Pi(e){return ae(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Sr=!0;function Uc(e){const t=ol(e),n=e.proxy,s=e.ctx;Sr=!1,t.beforeCreate&&Ri(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:u,watch:c,provide:d,inject:m,created:h,beforeMount:g,mounted:y,beforeUpdate:_,updated:w,activated:E,deactivated:A,beforeDestroy:T,beforeUnmount:C,destroyed:M,unmounted:D,render:F,renderTracked:ue,renderTriggered:ce,errorCaptured:Ae,serverPrefetch:V,expose:k,inheritAttrs:be,components:K,directives:Re,filters:Ze}=t;if(m&&Mc(m,s,null),u)for(const j in u){const U=u[j];he(U)&&(s[j]=U.bind(n))}if(i){const j=i.call(n,n);Le(j)&&(e.data=Ls(j))}if(Sr=!0,o)for(const j in o){const U=o[j],Q=he(U)?U.bind(n,n):he(U.get)?U.get.bind(n,n):Et,de=!he(U)&&he(U.set)?U.set.bind(n):Et,Se=Ne({get:Q,set:de});Object.defineProperty(s,j,{enumerable:!0,configurable:!0,get:()=>Se.value,set:me=>Se.value=me})}if(c)for(const j in c)il(c[j],s,n,j);if(d){const j=he(d)?d.call(n):d;Reflect.ownKeys(j).forEach(U=>{ms(U,j[U])})}h&&Ri(h,e,"c");function ee(j,U){ae(U)?U.forEach(Q=>j(Q.bind(n))):U&&j(U.bind(n))}if(ee(Ec,g),ee(It,y),ee(Ac,_),ee(Pc,w),ee(kc,E),ee(Cc,A),ee(Nc,Ae),ee(Oc,ue),ee(Ic,ce),ee(On,C),ee(sl,D),ee(Rc,V),ae(k))if(k.length){const j=e.exposed||(e.exposed={});k.forEach(U=>{Object.defineProperty(j,U,{get:()=>n[U],set:Q=>n[U]=Q,enumerable:!0})})}else e.exposed||(e.exposed={});F&&e.render===Et&&(e.render=F),be!=null&&(e.inheritAttrs=be),K&&(e.components=K),Re&&(e.directives=Re),V&&el(e)}function Mc(e,t,n=Et){ae(e)&&(e=kr(e));for(const s in e){const i=e[s];let o;Le(i)?"default"in i?o=yt(i.from||s,i.default,!0):o=yt(i.from||s):o=yt(i),Ye(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:u=>o.value=u}):t[s]=o}}function Ri(e,t,n){Rt(ae(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function il(e,t,n,s){let i=s.includes(".")?Zo(n,s):()=>n[s];if(Be(e)){const o=t[e];he(o)&&Bt(i,o)}else if(he(e))Bt(i,e.bind(n));else if(Le(e))if(ae(e))e.forEach(o=>il(o,t,n,s));else{const o=he(e.handler)?e.handler.bind(n):t[e.handler];he(o)&&Bt(i,o,e)}}function ol(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:u}}=e.appContext,c=o.get(t);let d;return c?d=c:!i.length&&!n&&!s?d=t:(d={},i.length&&i.forEach(m=>ks(d,m,u,!0)),ks(d,t,u)),Le(t)&&o.set(t,d),d}function ks(e,t,n,s=!1){const{mixins:i,extends:o}=t;o&&ks(e,o,n,!0),i&&i.forEach(u=>ks(e,u,n,!0));for(const u in t)if(!(s&&u==="expose")){const c=Hc[u]||n&&n[u];e[u]=c?c(e[u],t[u]):t[u]}return e}const Hc={data:Ii,props:Oi,emits:Oi,methods:Un,computed:Un,beforeCreate:nt,created:nt,beforeMount:nt,mounted:nt,beforeUpdate:nt,updated:nt,beforeDestroy:nt,beforeUnmount:nt,destroyed:nt,unmounted:nt,activated:nt,deactivated:nt,errorCaptured:nt,serverPrefetch:nt,components:Un,directives:Un,watch:Bc,provide:Ii,inject:Fc};function Ii(e,t){return t?e?function(){return ze(he(e)?e.call(this,this):e,he(t)?t.call(this,this):t)}:t:e}function Fc(e,t){return Un(kr(e),kr(t))}function kr(e){if(ae(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function nt(e,t){return e?[...new Set([].concat(e,t))]:t}function Un(e,t){return e?ze(Object.create(null),e,t):t}function Oi(e,t){return e?ae(e)&&ae(t)?[...new Set([...e,...t])]:ze(Object.create(null),Pi(e),Pi(t??{})):t}function Bc(e,t){if(!e)return t;if(!t)return e;const n=ze(Object.create(null),e);for(const s in t)n[s]=nt(e[s],t[s]);return n}function ll(){return{app:null,config:{isNativeTag:wo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vc=0;function qc(e,t){return function(s,i=null){he(s)||(s=ze({},s)),i!=null&&!Le(i)&&(i=null);const o=ll(),u=new WeakSet,c=[];let d=!1;const m=o.app={_uid:Vc++,_component:s,_props:i,_container:null,_context:o,_instance:null,version:Sd,get config(){return o.config},set config(h){},use(h,...g){return u.has(h)||(h&&he(h.install)?(u.add(h),h.install(m,...g)):he(h)&&(u.add(h),h(m,...g))),m},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),m},component(h,g){return g?(o.components[h]=g,m):o.components[h]},directive(h,g){return g?(o.directives[h]=g,m):o.directives[h]},mount(h,g,y){if(!d){const _=m._ceVNode||je(s,i);return _.appContext=o,y===!0?y="svg":y===!1&&(y=void 0),e(_,h,y),d=!0,m._container=h,h.__vue_app__=m,Ms(_.component)}},onUnmount(h){c.push(h)},unmount(){d&&(Rt(c,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(h,g){return o.provides[h]=g,m},runWithContext(h){const g=Cn;Cn=m;try{return h()}finally{Cn=g}}};return m}}let Cn=null;const zc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${gt(t)}Modifiers`]||e[`${gn(t)}Modifiers`];function Kc(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Oe;let i=n;const o=t.startsWith("update:"),u=o&&zc(s,t.slice(7));u&&(u.trim&&(i=n.map(h=>Be(h)?h.trim():h)),u.number&&(i=n.map(Is)));let c,d=s[c=tr(t)]||s[c=tr(gt(t))];!d&&o&&(d=s[c=tr(gn(t))]),d&&Rt(d,e,6,i);const m=s[c+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Rt(m,e,6,i)}}const Gc=new WeakMap;function al(e,t,n=!1){const s=n?Gc:t.emitsCache,i=s.get(e);if(i!==void 0)return i;const o=e.emits;let u={},c=!1;if(!he(e)){const d=m=>{const h=al(m,t,!0);h&&(c=!0,ze(u,h))};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!o&&!c?(Le(e)&&s.set(e,null),null):(ae(o)?o.forEach(d=>u[d]=null):ze(u,o),Le(e)&&s.set(e,u),u)}function js(e,t){return!e||!As(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ee(e,t[0].toLowerCase()+t.slice(1))||Ee(e,gn(t))||Ee(e,t))}function Ni(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[o],slots:u,attrs:c,emit:d,render:m,renderCache:h,props:g,data:y,setupState:_,ctx:w,inheritAttrs:E}=e,A=ws(e);let T,C;try{if(n.shapeFlag&4){const D=i||s,F=D;T=Ct(m.call(F,D,h,g,_,y,w)),C=c}else{const D=t;T=Ct(D.length>1?D(g,{attrs:c,slots:u,emit:d}):D(g,null)),C=t.props?c:Wc(c)}}catch(D){zn.length=0,$s(D,e,1),T=je(sn)}let M=T;if(C&&E!==!1){const D=Object.keys(C),{shapeFlag:F}=M;D.length&&F&7&&(o&&D.some(Lr)&&(C=Jc(C,o)),M=En(M,C,!1,!0))}return n.dirs&&(M=En(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&Gr(M,n.transition),T=M,ws(A),T}const Wc=e=>{let t;for(const n in e)(n==="class"||n==="style"||As(n))&&((t||(t={}))[n]=e[n]);return t},Jc=(e,t)=>{const n={};for(const s in e)(!Lr(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Xc(e,t,n){const{props:s,children:i,component:o}=e,{props:u,children:c,patchFlag:d}=t,m=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return s?Li(s,u,m):!!u;if(d&8){const h=t.dynamicProps;for(let g=0;g<h.length;g++){const y=h[g];if(u[y]!==s[y]&&!js(m,y))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:s===u?!1:s?u?Li(s,u,m):!0:!!u;return!1}function Li(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const o=s[i];if(t[o]!==e[o]&&!js(n,o))return!0}return!1}function Qc({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const ul={},cl=()=>Object.create(ul),dl=e=>Object.getPrototypeOf(e)===ul;function Yc(e,t,n,s=!1){const i={},o=cl();e.propsDefaults=Object.create(null),fl(e,t,i,o);for(const u in e.propsOptions[0])u in i||(i[u]=void 0);n?e.props=s?i:qo(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Zc(e,t,n,s){const{props:i,attrs:o,vnode:{patchFlag:u}}=e,c=Te(i),[d]=e.propsOptions;let m=!1;if((s||u>0)&&!(u&16)){if(u&8){const h=e.vnode.dynamicProps;for(let g=0;g<h.length;g++){let y=h[g];if(js(e.emitsOptions,y))continue;const _=t[y];if(d)if(Ee(o,y))_!==o[y]&&(o[y]=_,m=!0);else{const w=gt(y);i[w]=Cr(d,c,w,_,e,!1)}else _!==o[y]&&(o[y]=_,m=!0)}}}else{fl(e,t,i,o)&&(m=!0);let h;for(const g in c)(!t||!Ee(t,g)&&((h=gn(g))===g||!Ee(t,h)))&&(d?n&&(n[g]!==void 0||n[h]!==void 0)&&(i[g]=Cr(d,c,g,void 0,e,!0)):delete i[g]);if(o!==c)for(const g in o)(!t||!Ee(t,g))&&(delete o[g],m=!0)}m&&Mt(e.attrs,"set","")}function fl(e,t,n,s){const[i,o]=e.propsOptions;let u=!1,c;if(t)for(let d in t){if(Mn(d))continue;const m=t[d];let h;i&&Ee(i,h=gt(d))?!o||!o.includes(h)?n[h]=m:(c||(c={}))[h]=m:js(e.emitsOptions,d)||(!(d in s)||m!==s[d])&&(s[d]=m,u=!0)}if(o){const d=Te(n),m=c||Oe;for(let h=0;h<o.length;h++){const g=o[h];n[g]=Cr(i,d,g,m[g],e,!Ee(m,g))}}return u}function Cr(e,t,n,s,i,o){const u=e[n];if(u!=null){const c=Ee(u,"default");if(c&&s===void 0){const d=u.default;if(u.type!==Function&&!u.skipFactory&&he(d)){const{propsDefaults:m}=i;if(n in m)s=m[n];else{const h=rs(i);s=m[n]=d.call(null,t),h()}}else s=d;i.ce&&i.ce._setProp(n,s)}u[0]&&(o&&!c?s=!1:u[1]&&(s===""||s===gn(n))&&(s=!0))}return s}const ed=new WeakMap;function hl(e,t,n=!1){const s=n?ed:t.propsCache,i=s.get(e);if(i)return i;const o=e.props,u={},c=[];let d=!1;if(!he(e)){const h=g=>{d=!0;const[y,_]=hl(g,t,!0);ze(u,y),_&&c.push(..._)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!o&&!d)return Le(e)&&s.set(e,wn),wn;if(ae(o))for(let h=0;h<o.length;h++){const g=gt(o[h]);$i(g)&&(u[g]=Oe)}else if(o)for(const h in o){const g=gt(h);if($i(g)){const y=o[h],_=u[g]=ae(y)||he(y)?{type:y}:ze({},y),w=_.type;let E=!1,A=!0;if(ae(w))for(let T=0;T<w.length;++T){const C=w[T],M=he(C)&&C.name;if(M==="Boolean"){E=!0;break}else M==="String"&&(A=!1)}else E=he(w)&&w.name==="Boolean";_[0]=E,_[1]=A,(E||Ee(_,"default"))&&c.push(g)}}const m=[u,c];return Le(e)&&s.set(e,m),m}function $i(e){return e[0]!=="$"&&!Mn(e)}const Wr=e=>e==="_"||e==="_ctx"||e==="$stable",Jr=e=>ae(e)?e.map(Ct):[Ct(e)],td=(e,t,n)=>{if(t._n)return t;const s=kt((...i)=>Jr(t(...i)),n);return s._c=!1,s},pl=(e,t,n)=>{const s=e._ctx;for(const i in e){if(Wr(i))continue;const o=e[i];if(he(o))t[i]=td(i,o,s);else if(o!=null){const u=Jr(o);t[i]=()=>u}}},gl=(e,t)=>{const n=Jr(t);e.slots.default=()=>n},ml=(e,t,n)=>{for(const s in t)(n||!Wr(s))&&(e[s]=t[s])},nd=(e,t,n)=>{const s=e.slots=cl();if(e.vnode.shapeFlag&32){const i=t._;i?(ml(s,t,n),n&&To(s,"_",i,!0)):pl(t,s)}else t&&gl(e,t)},sd=(e,t,n)=>{const{vnode:s,slots:i}=e;let o=!0,u=Oe;if(s.shapeFlag&32){const c=t._;c?n&&c===1?o=!1:ml(i,t,n):(o=!t.$stable,pl(t,i)),u=t}else t&&(gl(e,t),u={default:1});if(o)for(const c in i)!Wr(c)&&u[c]==null&&delete i[c]},lt=ad;function rd(e){return id(e)}function id(e,t){const n=Os();n.__VUE__=!0;const{insert:s,remove:i,patchProp:o,createElement:u,createText:c,createComment:d,setText:m,setElementText:h,parentNode:g,nextSibling:y,setScopeId:_=Et,insertStaticContent:w}=e,E=(v,x,S,O=null,$=null,L=null,J=void 0,W=null,z=!!x.dynamicChildren)=>{if(v===x)return;v&&!Dn(v,x)&&(O=N(v),me(v,$,L,!0),v=null),x.patchFlag===-2&&(z=!1,x.dynamicChildren=null);const{type:H,ref:oe,shapeFlag:X}=x;switch(H){case Us:A(v,x,S,O);break;case sn:T(v,x,S,O);break;case vs:v==null&&C(x,S,O,J);break;case Fe:K(v,x,S,O,$,L,J,W,z);break;default:X&1?F(v,x,S,O,$,L,J,W,z):X&6?Re(v,x,S,O,$,L,J,W,z):(X&64||X&128)&&H.process(v,x,S,O,$,L,J,W,z,se)}oe!=null&&$?Bn(oe,v&&v.ref,L,x||v,!x):oe==null&&v&&v.ref!=null&&Bn(v.ref,null,L,v,!0)},A=(v,x,S,O)=>{if(v==null)s(x.el=c(x.children),S,O);else{const $=x.el=v.el;x.children!==v.children&&m($,x.children)}},T=(v,x,S,O)=>{v==null?s(x.el=d(x.children||""),S,O):x.el=v.el},C=(v,x,S,O)=>{[v.el,v.anchor]=w(v.children,x,S,O,v.el,v.anchor)},M=({el:v,anchor:x},S,O)=>{let $;for(;v&&v!==x;)$=y(v),s(v,S,O),v=$;s(x,S,O)},D=({el:v,anchor:x})=>{let S;for(;v&&v!==x;)S=y(v),i(v),v=S;i(x)},F=(v,x,S,O,$,L,J,W,z)=>{if(x.type==="svg"?J="svg":x.type==="math"&&(J="mathml"),v==null)ue(x,S,O,$,L,J,W,z);else{const H=v.el&&v.el._isVueCE?v.el:null;try{H&&H._beginPatch(),V(v,x,$,L,J,W,z)}finally{H&&H._endPatch()}}},ue=(v,x,S,O,$,L,J,W)=>{let z,H;const{props:oe,shapeFlag:X,transition:ie,dirs:Y}=v;if(z=v.el=u(v.type,L,oe&&oe.is,oe),X&8?h(z,v.children):X&16&&Ae(v.children,z,null,O,$,lr(v,L),J,W),Y&&an(v,null,O,"created"),ce(z,v,v.scopeId,J,O),oe){for(const Ie in oe)Ie!=="value"&&!Mn(Ie)&&o(z,Ie,null,oe[Ie],L,O);"value"in oe&&o(z,"value",null,oe.value,L),(H=oe.onVnodeBeforeMount)&&wt(H,O,v)}Y&&an(v,null,O,"beforeMount");const ye=od($,ie);ye&&ie.beforeEnter(z),s(z,x,S),((H=oe&&oe.onVnodeMounted)||ye||Y)&&lt(()=>{H&&wt(H,O,v),ye&&ie.enter(z),Y&&an(v,null,O,"mounted")},$)},ce=(v,x,S,O,$)=>{if(S&&_(v,S),O)for(let L=0;L<O.length;L++)_(v,O[L]);if($){let L=$.subTree;if(x===L||_l(L.type)&&(L.ssContent===x||L.ssFallback===x)){const J=$.vnode;ce(v,J,J.scopeId,J.slotScopeIds,$.parent)}}},Ae=(v,x,S,O,$,L,J,W,z=0)=>{for(let H=z;H<v.length;H++){const oe=v[H]=W?Yt(v[H]):Ct(v[H]);E(null,oe,x,S,O,$,L,J,W)}},V=(v,x,S,O,$,L,J)=>{const W=x.el=v.el;let{patchFlag:z,dynamicChildren:H,dirs:oe}=x;z|=v.patchFlag&16;const X=v.props||Oe,ie=x.props||Oe;let Y;if(S&&un(S,!1),(Y=ie.onVnodeBeforeUpdate)&&wt(Y,S,x,v),oe&&an(x,v,S,"beforeUpdate"),S&&un(S,!0),(X.innerHTML&&ie.innerHTML==null||X.textContent&&ie.textContent==null)&&h(W,""),H?k(v.dynamicChildren,H,W,S,O,lr(x,$),L):J||U(v,x,W,null,S,O,lr(x,$),L,!1),z>0){if(z&16)be(W,X,ie,S,$);else if(z&2&&X.class!==ie.class&&o(W,"class",null,ie.class,$),z&4&&o(W,"style",X.style,ie.style,$),z&8){const ye=x.dynamicProps;for(let Ie=0;Ie<ye.length;Ie++){const ke=ye[Ie],Ge=X[ke],We=ie[ke];(We!==Ge||ke==="value")&&o(W,ke,Ge,We,$,S)}}z&1&&v.children!==x.children&&h(W,x.children)}else!J&&H==null&&be(W,X,ie,S,$);((Y=ie.onVnodeUpdated)||oe)&&lt(()=>{Y&&wt(Y,S,x,v),oe&&an(x,v,S,"updated")},O)},k=(v,x,S,O,$,L,J)=>{for(let W=0;W<x.length;W++){const z=v[W],H=x[W],oe=z.el&&(z.type===Fe||!Dn(z,H)||z.shapeFlag&198)?g(z.el):S;E(z,H,oe,null,O,$,L,J,!0)}},be=(v,x,S,O,$)=>{if(x!==S){if(x!==Oe)for(const L in x)!Mn(L)&&!(L in S)&&o(v,L,x[L],null,$,O);for(const L in S){if(Mn(L))continue;const J=S[L],W=x[L];J!==W&&L!=="value"&&o(v,L,W,J,$,O)}"value"in S&&o(v,"value",x.value,S.value,$)}},K=(v,x,S,O,$,L,J,W,z)=>{const H=x.el=v?v.el:c(""),oe=x.anchor=v?v.anchor:c("");let{patchFlag:X,dynamicChildren:ie,slotScopeIds:Y}=x;Y&&(W=W?W.concat(Y):Y),v==null?(s(H,S,O),s(oe,S,O),Ae(x.children||[],S,oe,$,L,J,W,z)):X>0&&X&64&&ie&&v.dynamicChildren&&v.dynamicChildren.length===ie.length?(k(v.dynamicChildren,ie,S,$,L,J,W),(x.key!=null||$&&x===$.subTree)&&vl(v,x,!0)):U(v,x,S,oe,$,L,J,W,z)},Re=(v,x,S,O,$,L,J,W,z)=>{x.slotScopeIds=W,v==null?x.shapeFlag&512?$.ctx.activate(x,S,O,J,z):Ze(x,S,O,$,L,J,z):et(v,x,z)},Ze=(v,x,S,O,$,L,J)=>{const W=v.component=gd(v,O,$);if(tl(v)&&(W.ctx.renderer=se),vd(W,!1,J),W.asyncDep){if($&&$.registerDep(W,ee,J),!v.el){const z=W.subTree=je(sn);T(null,z,x,S),v.placeholder=z.el}}else ee(W,v,x,S,$,L,J)},et=(v,x,S)=>{const O=x.component=v.component;if(Xc(v,x,S))if(O.asyncDep&&!O.asyncResolved){j(O,x,S);return}else O.next=x,O.update();else x.el=v.el,O.vnode=x},ee=(v,x,S,O,$,L,J)=>{const W=()=>{if(v.isMounted){let{next:X,bu:ie,u:Y,parent:ye,vnode:Ie}=v;{const ft=yl(v);if(ft){X&&(X.el=Ie.el,j(v,X,J)),ft.asyncDep.then(()=>{v.isUnmounted||W()});return}}let ke=X,Ge;un(v,!1),X?(X.el=Ie.el,j(v,X,J)):X=Ie,ie&&gs(ie),(Ge=X.props&&X.props.onVnodeBeforeUpdate)&&wt(Ge,ye,X,Ie),un(v,!0);const We=Ni(v),dt=v.subTree;v.subTree=We,E(dt,We,g(dt.el),N(dt),v,$,L),X.el=We.el,ke===null&&Qc(v,We.el),Y&&lt(Y,$),(Ge=X.props&&X.props.onVnodeUpdated)&&lt(()=>wt(Ge,ye,X,Ie),$)}else{let X;const{el:ie,props:Y}=x,{bm:ye,m:Ie,parent:ke,root:Ge,type:We}=v,dt=Vn(x);un(v,!1),ye&&gs(ye),!dt&&(X=Y&&Y.onVnodeBeforeMount)&&wt(X,ke,x),un(v,!0);{Ge.ce&&Ge.ce._def.shadowRoot!==!1&&Ge.ce._injectChildStyle(We);const ft=v.subTree=Ni(v);E(null,ft,S,O,v,$,L),x.el=ft.el}if(Ie&&lt(Ie,$),!dt&&(X=Y&&Y.onVnodeMounted)){const ft=x;lt(()=>wt(X,ke,ft),$)}(x.shapeFlag&256||ke&&Vn(ke.vnode)&&ke.vnode.shapeFlag&256)&&v.a&&lt(v.a,$),v.isMounted=!0,x=S=O=null}};v.scope.on();const z=v.effect=new Ro(W);v.scope.off();const H=v.update=z.run.bind(z),oe=v.job=z.runIfDirty.bind(z);oe.i=v,oe.id=v.uid,z.scheduler=()=>Kr(oe),un(v,!0),H()},j=(v,x,S)=>{x.component=v;const O=v.vnode.props;v.vnode=x,v.next=null,Zc(v,x.props,O,S),sd(v,x.children,S),qt(),Ti(v),zt()},U=(v,x,S,O,$,L,J,W,z=!1)=>{const H=v&&v.children,oe=v?v.shapeFlag:0,X=x.children,{patchFlag:ie,shapeFlag:Y}=x;if(ie>0){if(ie&128){de(H,X,S,O,$,L,J,W,z);return}else if(ie&256){Q(H,X,S,O,$,L,J,W,z);return}}Y&8?(oe&16&&_e(H,$,L),X!==H&&h(S,X)):oe&16?Y&16?de(H,X,S,O,$,L,J,W,z):_e(H,$,L,!0):(oe&8&&h(S,""),Y&16&&Ae(X,S,O,$,L,J,W,z))},Q=(v,x,S,O,$,L,J,W,z)=>{v=v||wn,x=x||wn;const H=v.length,oe=x.length,X=Math.min(H,oe);let ie;for(ie=0;ie<X;ie++){const Y=x[ie]=z?Yt(x[ie]):Ct(x[ie]);E(v[ie],Y,S,null,$,L,J,W,z)}H>oe?_e(v,$,L,!0,!1,X):Ae(x,S,O,$,L,J,W,z,X)},de=(v,x,S,O,$,L,J,W,z)=>{let H=0;const oe=x.length;let X=v.length-1,ie=oe-1;for(;H<=X&&H<=ie;){const Y=v[H],ye=x[H]=z?Yt(x[H]):Ct(x[H]);if(Dn(Y,ye))E(Y,ye,S,null,$,L,J,W,z);else break;H++}for(;H<=X&&H<=ie;){const Y=v[X],ye=x[ie]=z?Yt(x[ie]):Ct(x[ie]);if(Dn(Y,ye))E(Y,ye,S,null,$,L,J,W,z);else break;X--,ie--}if(H>X){if(H<=ie){const Y=ie+1,ye=Y<oe?x[Y].el:O;for(;H<=ie;)E(null,x[H]=z?Yt(x[H]):Ct(x[H]),S,ye,$,L,J,W,z),H++}}else if(H>ie)for(;H<=X;)me(v[H],$,L,!0),H++;else{const Y=H,ye=H,Ie=new Map;for(H=ye;H<=ie;H++){const tt=x[H]=z?Yt(x[H]):Ct(x[H]);tt.key!=null&&Ie.set(tt.key,H)}let ke,Ge=0;const We=ie-ye+1;let dt=!1,ft=0;const Nt=new Array(We);for(H=0;H<We;H++)Nt[H]=0;for(H=Y;H<=X;H++){const tt=v[H];if(Ge>=We){me(tt,$,L,!0);continue}let ht;if(tt.key!=null)ht=Ie.get(tt.key);else for(ke=ye;ke<=ie;ke++)if(Nt[ke-ye]===0&&Dn(tt,x[ke])){ht=ke;break}ht===void 0?me(tt,$,L,!0):(Nt[ht-ye]=H+1,ht>=ft?ft=ht:dt=!0,E(tt,x[ht],S,null,$,L,J,W,z),Ge++)}const vn=dt?ld(Nt):wn;for(ke=vn.length-1,H=We-1;H>=0;H--){const tt=ye+H,ht=x[tt],os=x[tt+1],ls=tt+1<oe?os.el||bl(os):O;Nt[H]===0?E(null,ht,S,ls,$,L,J,W,z):dt&&(ke<0||H!==vn[ke]?Se(ht,S,ls,2):ke--)}}},Se=(v,x,S,O,$=null)=>{const{el:L,type:J,transition:W,children:z,shapeFlag:H}=v;if(H&6){Se(v.component.subTree,x,S,O);return}if(H&128){v.suspense.move(x,S,O);return}if(H&64){J.move(v,x,S,se);return}if(J===Fe){s(L,x,S);for(let X=0;X<z.length;X++)Se(z[X],x,S,O);s(v.anchor,x,S);return}if(J===vs){M(v,x,S);return}if(O!==2&&H&1&&W)if(O===0)W.beforeEnter(L),s(L,x,S),lt(()=>W.enter(L),$);else{const{leave:X,delayLeave:ie,afterLeave:Y}=W,ye=()=>{v.ctx.isUnmounted?i(L):s(L,x,S)},Ie=()=>{L._isLeaving&&L[Sc](!0),X(L,()=>{ye(),Y&&Y()})};ie?ie(L,ye,Ie):Ie()}else s(L,x,S)},me=(v,x,S,O=!1,$=!1)=>{const{type:L,props:J,ref:W,children:z,dynamicChildren:H,shapeFlag:oe,patchFlag:X,dirs:ie,cacheIndex:Y}=v;if(X===-2&&($=!1),W!=null&&(qt(),Bn(W,null,S,v,!0),zt()),Y!=null&&(x.renderCache[Y]=void 0),oe&256){x.ctx.deactivate(v);return}const ye=oe&1&&ie,Ie=!Vn(v);let ke;if(Ie&&(ke=J&&J.onVnodeBeforeUnmount)&&wt(ke,x,v),oe&6)ge(v.component,S,O);else{if(oe&128){v.suspense.unmount(S,O);return}ye&&an(v,null,x,"beforeUnmount"),oe&64?v.type.remove(v,x,S,se,O):H&&!H.hasOnce&&(L!==Fe||X>0&&X&64)?_e(H,x,S,!1,!0):(L===Fe&&X&384||!$&&oe&16)&&_e(z,x,S),O&&le(v)}(Ie&&(ke=J&&J.onVnodeUnmounted)||ye)&&lt(()=>{ke&&wt(ke,x,v),ye&&an(v,null,x,"unmounted")},S)},le=v=>{const{type:x,el:S,anchor:O,transition:$}=v;if(x===Fe){Ke(S,O);return}if(x===vs){D(v);return}const L=()=>{i(S),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(v.shapeFlag&1&&$&&!$.persisted){const{leave:J,delayLeave:W}=$,z=()=>J(S,L);W?W(v.el,L,z):z()}else L()},Ke=(v,x)=>{let S;for(;v!==x;)S=y(v),i(v),v=S;i(x)},ge=(v,x,S)=>{const{bum:O,scope:$,job:L,subTree:J,um:W,m:z,a:H}=v;Di(z),Di(H),O&&gs(O),$.stop(),L&&(L.flags|=8,me(J,v,x,S)),W&&lt(W,x),lt(()=>{v.isUnmounted=!0},x)},_e=(v,x,S,O=!1,$=!1,L=0)=>{for(let J=L;J<v.length;J++)me(v[J],x,S,O,$)},N=v=>{if(v.shapeFlag&6)return N(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const x=y(v.anchor||v.el),S=x&&x[xc];return S?y(S):x};let Z=!1;const G=(v,x,S)=>{let O;v==null?x._vnode&&(me(x._vnode,null,null,!0),O=x._vnode.component):E(x._vnode||null,v,x,null,null,null,S),x._vnode=v,Z||(Z=!0,Ti(O),Jo(),Z=!1)},se={p:E,um:me,m:Se,r:le,mt:Ze,mc:Ae,pc:U,pbc:k,n:N,o:e};return{render:G,hydrate:void 0,createApp:qc(G)}}function lr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function un({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function od(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function vl(e,t,n=!1){const s=e.children,i=t.children;if(ae(s)&&ae(i))for(let o=0;o<s.length;o++){const u=s[o];let c=i[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[o]=Yt(i[o]),c.el=u.el),!n&&c.patchFlag!==-2&&vl(u,c)),c.type===Us&&(c.patchFlag!==-1?c.el=u.el:c.__elIndex=o+(e.type===Fe?1:0)),c.type===sn&&!c.el&&(c.el=u.el)}}function ld(e){const t=e.slice(),n=[0];let s,i,o,u,c;const d=e.length;for(s=0;s<d;s++){const m=e[s];if(m!==0){if(i=n[n.length-1],e[i]<m){t[s]=i,n.push(s);continue}for(o=0,u=n.length-1;o<u;)c=o+u>>1,e[n[c]]<m?o=c+1:u=c;m<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,u=n[o-1];o-- >0;)n[o]=u,u=t[u];return n}function yl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:yl(t)}function Di(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function bl(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?bl(t.subTree):null}const _l=e=>e.__isSuspense;function ad(e,t){t&&t.pendingBranch?ae(e)?t.effects.push(...e):t.effects.push(e):vc(e)}const Fe=Symbol.for("v-fgt"),Us=Symbol.for("v-txt"),sn=Symbol.for("v-cmt"),vs=Symbol.for("v-stc"),zn=[];let ct=null;function P(e=!1){zn.push(ct=e?null:[])}function ud(){zn.pop(),ct=zn[zn.length-1]||null}let Qn=1;function Cs(e,t=!1){Qn+=e,e<0&&ct&&t&&(ct.hasOnce=!0)}function xl(e){return e.dynamicChildren=Qn>0?ct||wn:null,ud(),Qn>0&&ct&&ct.push(e),e}function R(e,t,n,s,i,o){return xl(f(e,t,n,s,i,o,!0))}function Xr(e,t,n,s,i){return xl(je(e,t,n,s,i,!0))}function Ts(e){return e?e.__v_isVNode===!0:!1}function Dn(e,t){return e.type===t.type&&e.key===t.key}const wl=({key:e})=>e??null,ys=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Be(e)||Ye(e)||he(e)?{i:ut,r:e,k:t,f:!!n}:e:null);function f(e,t=null,n=null,s=0,i=null,o=e===Fe?0:1,u=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wl(t),ref:t&&ys(t),scopeId:Qo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ut};return c?(Qr(d,n),o&128&&e.normalize(d)):n&&(d.shapeFlag|=Be(n)?8:16),Qn>0&&!u&&ct&&(d.patchFlag>0||o&6)&&d.patchFlag!==32&&ct.push(d),d}const je=cd;function cd(e,t=null,n=null,s=0,i=null,o=!1){if((!e||e===$c)&&(e=sn),Ts(e)){const c=En(e,t,!0);return n&&Qr(c,n),Qn>0&&!o&&ct&&(c.shapeFlag&6?ct[ct.indexOf(e)]=c:ct.push(c)),c.patchFlag=-2,c}if(wd(e)&&(e=e.__vccOpts),t){t=dd(t);let{class:c,style:d}=t;c&&!Be(c)&&(t.class=mn(c)),Le(d)&&(qr(d)&&!ae(d)&&(d=ze({},d)),t.style=en(d))}const u=Be(e)?1:_l(e)?128:wc(e)?64:Le(e)?4:he(e)?2:0;return f(e,t,n,s,i,u,o,!0)}function dd(e){return e?qr(e)||dl(e)?ze({},e):e:null}function En(e,t,n=!1,s=!1){const{props:i,ref:o,patchFlag:u,children:c,transition:d}=e,m=t?fd(i||{},t):i,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&wl(m),ref:t&&t.ref?n&&o?ae(o)?o.concat(ys(t)):[o,ys(t)]:ys(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fe?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&En(e.ssContent),ssFallback:e.ssFallback&&En(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&s&&Gr(h,d.clone(h)),h}function at(e=" ",t=0){return je(Us,null,e,t)}function ar(e,t){const n=je(vs,null,e);return n.staticCount=t,n}function re(e="",t=!1){return t?(P(),Xr(sn,null,e)):je(sn,null,e)}function Ct(e){return e==null||typeof e=="boolean"?je(sn):ae(e)?je(Fe,null,e.slice()):Ts(e)?Yt(e):je(Us,null,String(e))}function Yt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:En(e)}function Qr(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ae(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),Qr(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!dl(t)?t._ctx=ut:i===3&&ut&&(ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else he(t)?(t={default:t,_ctx:ut},n=32):(t=String(t),s&64?(n=16,t=[at(t)]):n=8);e.children=t,e.shapeFlag|=n}function fd(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=mn([t.class,s.class]));else if(i==="style")t.style=en([t.style,s.style]);else if(As(i)){const o=t[i],u=s[i];u&&o!==u&&!(ae(o)&&o.includes(u))&&(t[i]=o?[].concat(o,u):u)}else i!==""&&(t[i]=s[i])}return t}function wt(e,t,n,s=null){Rt(e,t,7,[n,s])}const hd=ll();let pd=0;function gd(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||hd,o={uid:pd++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Fu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hl(s,i),emitsOptions:al(s,i),emit:null,emitted:null,propsDefaults:Oe,inheritAttrs:s.inheritAttrs,ctx:Oe,data:Oe,props:Oe,attrs:Oe,slots:Oe,refs:Oe,setupState:Oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Kc.bind(null,o),e.ce&&e.ce(o),o}let Qe=null;const md=()=>Qe||ut;let Es,Tr;{const e=Os(),t=(n,s)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(s),o=>{i.length>1?i.forEach(u=>u(o)):i[0](o)}};Es=t("__VUE_INSTANCE_SETTERS__",n=>Qe=n),Tr=t("__VUE_SSR_SETTERS__",n=>Yn=n)}const rs=e=>{const t=Qe;return Es(e),e.scope.on(),()=>{e.scope.off(),Es(t)}},ji=()=>{Qe&&Qe.scope.off(),Es(null)};function Sl(e){return e.vnode.shapeFlag&4}let Yn=!1;function vd(e,t=!1,n=!1){t&&Tr(t);const{props:s,children:i}=e.vnode,o=Sl(e);Yc(e,s,o,t),nd(e,i,n||t);const u=o?yd(e,t):void 0;return t&&Tr(!1),u}function yd(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,jc);const{setup:s}=n;if(s){qt();const i=e.setupContext=s.length>1?_d(e):null,o=rs(e),u=ss(s,e,0,[e.props,i]),c=So(u);if(zt(),o(),(c||e.sp)&&!Vn(e)&&el(e),c){if(u.then(ji,ji),t)return u.then(d=>{Ui(e,d)}).catch(d=>{$s(d,e,0)});e.asyncDep=u}else Ui(e,u)}else kl(e)}function Ui(e,t,n){he(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Le(t)&&(e.setupState=Ko(t)),kl(e)}function kl(e,t,n){const s=e.type;e.render||(e.render=s.render||Et);{const i=rs(e);qt();try{Uc(e)}finally{zt(),i()}}}const bd={get(e,t){return Xe(e,"get",""),e[t]}};function _d(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,bd),slots:e.slots,emit:e.emit,expose:t}}function Ms(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ko(lc(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in qn)return qn[n](e)},has(t,n){return n in t||n in qn}})):e.proxy}function xd(e,t=!0){return he(e)?e.displayName||e.name:e.name||t&&e.__name}function wd(e){return he(e)&&"__vccOpts"in e}const Ne=(e,t)=>fc(e,t,Yn);function Cl(e,t,n){try{Cs(-1);const s=arguments.length;return s===2?Le(t)&&!ae(t)?Ts(t)?je(e,null,[t]):je(e,t):je(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ts(n)&&(n=[n]),je(e,t,n))}finally{Cs(1)}}const Sd="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Er;const Mi=typeof window<"u"&&window.trustedTypes;if(Mi)try{Er=Mi.createPolicy("vue",{createHTML:e=>e})}catch{}const Tl=Er?e=>Er.createHTML(e):e=>e,kd="http://www.w3.org/2000/svg",Cd="http://www.w3.org/1998/Math/MathML",Ut=typeof document<"u"?document:null,Hi=Ut&&Ut.createElement("template"),Td={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t==="svg"?Ut.createElementNS(kd,e):t==="mathml"?Ut.createElementNS(Cd,e):n?Ut.createElement(e,{is:n}):Ut.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>Ut.createTextNode(e),createComment:e=>Ut.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ut.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,o){const u=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Hi.innerHTML=Tl(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const c=Hi.content;if(s==="svg"||s==="mathml"){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}t.insertBefore(c,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ed=Symbol("_vtc");function Ad(e,t,n){const s=e[Ed];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Fi=Symbol("_vod"),Pd=Symbol("_vsh"),Rd=Symbol(""),Id=/(?:^|;)\s*display\s*:/;function Od(e,t,n){const s=e.style,i=Be(n);let o=!1;if(n&&!i){if(t)if(Be(t))for(const u of t.split(";")){const c=u.slice(0,u.indexOf(":")).trim();n[c]==null&&bs(s,c,"")}else for(const u in t)n[u]==null&&bs(s,u,"");for(const u in n)u==="display"&&(o=!0),bs(s,u,n[u])}else if(i){if(t!==n){const u=s[Rd];u&&(n+=";"+u),s.cssText=n,o=Id.test(n)}}else t&&e.removeAttribute("style");Fi in e&&(e[Fi]=o?s.display:"",e[Pd]&&(s.display="none"))}const Bi=/\s*!important$/;function bs(e,t,n){if(ae(n))n.forEach(s=>bs(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Nd(e,t);Bi.test(n)?e.setProperty(gn(s),n.replace(Bi,""),"important"):e[s]=n}}const Vi=["Webkit","Moz","ms"],ur={};function Nd(e,t){const n=ur[t];if(n)return n;let s=gt(t);if(s!=="filter"&&s in e)return ur[t]=s;s=Rs(s);for(let i=0;i<Vi.length;i++){const o=Vi[i]+s;if(o in e)return ur[t]=o}return t}const qi="http://www.w3.org/1999/xlink";function zi(e,t,n,s,i,o=Mu(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(qi,t.slice(6,t.length)):e.setAttributeNS(qi,t,n):n==null||o&&!Eo(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Pt(n)?String(n):n)}function Ki(e,t,n,s,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Tl(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const c=o==="OPTION"?e.getAttribute("value")||"":e.value,d=n==null?e.type==="checkbox"?"on":"":String(n);(c!==d||!("_value"in e))&&(e.value=d),n==null&&e.removeAttribute(t),e._value=n;return}let u=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Eo(n):n==null&&c==="string"?(n="",u=!0):c==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(i||t)}function tn(e,t,n,s){e.addEventListener(t,n,s)}function Ld(e,t,n,s){e.removeEventListener(t,n,s)}const Gi=Symbol("_vei");function $d(e,t,n,s,i=null){const o=e[Gi]||(e[Gi]={}),u=o[t];if(s&&u)u.value=s;else{const[c,d]=Dd(t);if(s){const m=o[t]=Md(s,i);tn(e,c,m,d)}else u&&(Ld(e,c,u,d),o[t]=void 0)}}const Wi=/(?:Once|Passive|Capture)$/;function Dd(e){let t;if(Wi.test(e)){t={};let s;for(;s=e.match(Wi);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):gn(e.slice(2)),t]}let cr=0;const jd=Promise.resolve(),Ud=()=>cr||(jd.then(()=>cr=0),cr=Date.now());function Md(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Rt(Hd(s,n.value),t,5,[s])};return n.value=e,n.attached=Ud(),n}function Hd(e,t){if(ae(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const Ji=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Fd=(e,t,n,s,i,o)=>{const u=i==="svg";t==="class"?Ad(e,s,u):t==="style"?Od(e,n,s):As(t)?Lr(t)||$d(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bd(e,t,s,u))?(Ki(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&zi(e,t,s,u,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Be(s))?Ki(e,gt(t),s,o,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),zi(e,t,s,u))};function Bd(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ji(t)&&he(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ji(t)&&Be(n)?!1:t in e}const An=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ae(t)?n=>gs(t,n):t};function Vd(e){e.target.composing=!0}function Xi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vt=Symbol("_assign");function Qi(e,t,n){return t&&(e=e.trim()),n&&(e=Is(e)),e}const De={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[Vt]=An(i);const o=s||i.props&&i.props.type==="number";tn(e,t?"change":"input",u=>{u.target.composing||e[Vt](Qi(e.value,n,o))}),(n||o)&&tn(e,"change",()=>{e.value=Qi(e.value,n,o)}),t||(tn(e,"compositionstart",Vd),tn(e,"compositionend",Xi),tn(e,"change",Xi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:o}},u){if(e[Vt]=An(u),e.composing)return;const c=(o||e.type==="number")&&!/^0\d/.test(e.value)?Is(e.value):e.value,d=t??"";c!==d&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||i&&e.value.trim()===d)||(e.value=d))}},Hs={deep:!0,created(e,t,n){e[Vt]=An(n),tn(e,"change",()=>{const s=e._modelValue,i=Zn(e),o=e.checked,u=e[Vt];if(ae(s)){const c=jr(s,i),d=c!==-1;if(o&&!d)u(s.concat(i));else if(!o&&d){const m=[...s];m.splice(c,1),u(m)}}else if(In(s)){const c=new Set(s);o?c.add(i):c.delete(i),u(c)}else u(El(e,o))})},mounted:Yi,beforeUpdate(e,t,n){e[Vt]=An(n),Yi(e,t,n)}};function Yi(e,{value:t,oldValue:n},s){e._modelValue=t;let i;if(ae(t))i=jr(t,s.props.value)>-1;else if(In(t))i=t.has(s.props.value);else{if(t===n)return;i=ns(t,El(e,!0))}e.checked!==i&&(e.checked=i)}const Ar={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const i=In(t);tn(e,"change",()=>{const o=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?Is(Zn(u)):Zn(u));e[Vt](e.multiple?i?new Set(o):o:o[0]),e._assigning=!0,zr(()=>{e._assigning=!1})}),e[Vt]=An(s)},mounted(e,{value:t}){Zi(e,t)},beforeUpdate(e,t,n){e[Vt]=An(n)},updated(e,{value:t}){e._assigning||Zi(e,t)}};function Zi(e,t){const n=e.multiple,s=ae(t);if(!(n&&!s&&!In(t))){for(let i=0,o=e.options.length;i<o;i++){const u=e.options[i],c=Zn(u);if(n)if(s){const d=typeof c;d==="string"||d==="number"?u.selected=t.some(m=>String(m)===String(c)):u.selected=jr(t,c)>-1}else u.selected=t.has(c);else if(ns(Zn(u),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Zn(e){return"_value"in e?e._value:e.value}function El(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const qd=["ctrl","shift","alt","meta"],zd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>qd.some(n=>e[`${n}Key`]&&!t.includes(n))},Ot=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(i,...o)=>{for(let u=0;u<t.length;u++){const c=zd[t[u]];if(c&&c(i,t))return}return e(i,...o)})},Kd=ze({patchProp:Fd},Td);let eo;function Gd(){return eo||(eo=rd(Kd))}const Wd=(...e)=>{const t=Gd().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=Xd(s);if(!i)return;const o=t._component;!he(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const u=n(i,!1,Jd(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),u},t};function Jd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Xd(e){return Be(e)?document.querySelector(e):e}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const xn=typeof document<"u";function Al(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Qd(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Al(e.default)}const Ce=Object.assign;function dr(e,t){const n={};for(const s in t){const i=t[s];n[s]=xt(i)?i.map(e):e(i)}return n}const Kn=()=>{},xt=Array.isArray;function to(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}const Pl=/#/g,Yd=/&/g,Zd=/\//g,ef=/=/g,tf=/\?/g,Rl=/\+/g,nf=/%5B/g,sf=/%5D/g,Il=/%5E/g,rf=/%60/g,Ol=/%7B/g,of=/%7C/g,Nl=/%7D/g,lf=/%20/g;function Yr(e){return e==null?"":encodeURI(""+e).replace(of,"|").replace(nf,"[").replace(sf,"]")}function af(e){return Yr(e).replace(Ol,"{").replace(Nl,"}").replace(Il,"^")}function Pr(e){return Yr(e).replace(Rl,"%2B").replace(lf,"+").replace(Pl,"%23").replace(Yd,"%26").replace(rf,"`").replace(Ol,"{").replace(Nl,"}").replace(Il,"^")}function uf(e){return Pr(e).replace(ef,"%3D")}function cf(e){return Yr(e).replace(Pl,"%23").replace(tf,"%3F")}function df(e){return cf(e).replace(Zd,"%2F")}function es(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const ff=/\/$/,hf=e=>e.replace(ff,"");function fr(e,t,n="/"){let s,i={},o="",u="";const c=t.indexOf("#");let d=t.indexOf("?");return d=c>=0&&d>c?-1:d,d>=0&&(s=t.slice(0,d),o=t.slice(d,c>0?c:t.length),i=e(o.slice(1))),c>=0&&(s=s||t.slice(0,c),u=t.slice(c,t.length)),s=vf(s??t,n),{fullPath:s+o+u,path:s,query:i,hash:es(u)}}function pf(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function no(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function gf(e,t,n){const s=t.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Pn(t.matched[s],n.matched[i])&&Ll(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Pn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ll(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!mf(e[n],t[n]))return!1;return!0}function mf(e,t){return xt(e)?so(e,t):xt(t)?so(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function so(e,t){return xt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function vf(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let o=n.length-1,u,c;for(u=0;u<s.length;u++)if(c=s[u],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(u).join("/")}const Wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Rr=function(e){return e.pop="pop",e.push="push",e}({}),hr=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function yf(e){if(!e)if(xn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),hf(e)}const bf=/^[^#]+#/;function _f(e,t){return e.replace(bf,"#")+t}function xf(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Fs=()=>({left:window.scrollX,top:window.scrollY});function wf(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=xf(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ro(e,t){return(history.state?history.state.position-t:-1)+e}const Ir=new Map;function Sf(e,t){Ir.set(e,t)}function kf(e){const t=Ir.get(e);return Ir.delete(e),t}function Cf(e){return typeof e=="string"||e&&typeof e=="object"}function $l(e){return typeof e=="string"||typeof e=="symbol"}let Ue=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Dl=Symbol("");Ue.MATCHER_NOT_FOUND+"",Ue.NAVIGATION_GUARD_REDIRECT+"",Ue.NAVIGATION_ABORTED+"",Ue.NAVIGATION_CANCELLED+"",Ue.NAVIGATION_DUPLICATED+"";function Rn(e,t){return Ce(new Error,{type:e,[Dl]:!0},t)}function jt(e,t){return e instanceof Error&&Dl in e&&(t==null||!!(e.type&t))}const Tf=["params","query","hash"];function Ef(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of Tf)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function Af(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(Rl," "),o=i.indexOf("="),u=es(o<0?i:i.slice(0,o)),c=o<0?null:es(i.slice(o+1));if(u in t){let d=t[u];xt(d)||(d=t[u]=[d]),d.push(c)}else t[u]=c}return t}function io(e){let t="";for(let n in e){const s=e[n];if(n=uf(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(xt(s)?s.map(i=>i&&Pr(i)):[s&&Pr(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Pf(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=xt(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return t}const Rf=Symbol(""),oo=Symbol(""),Bs=Symbol(""),Zr=Symbol(""),Or=Symbol("");function jn(){let e=[];function t(s){return e.push(s),()=>{const i=e.indexOf(s);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Zt(e,t,n,s,i,o=u=>u()){const u=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((c,d)=>{const m=y=>{y===!1?d(Rn(Ue.NAVIGATION_ABORTED,{from:n,to:t})):y instanceof Error?d(y):Cf(y)?d(Rn(Ue.NAVIGATION_GUARD_REDIRECT,{from:t,to:y})):(u&&s.enterCallbacks[i]===u&&typeof y=="function"&&u.push(y),c())},h=o(()=>e.call(s&&s.instances[i],t,n,m));let g=Promise.resolve(h);e.length<3&&(g=g.then(m)),g.catch(y=>d(y))})}function pr(e,t,n,s,i=o=>o()){const o=[];for(const u of e)for(const c in u.components){let d=u.components[c];if(!(t!=="beforeRouteEnter"&&!u.instances[c]))if(Al(d)){const m=(d.__vccOpts||d)[t];m&&o.push(Zt(m,n,s,u,c,i))}else{let m=d();o.push(()=>m.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${c}" at "${u.path}"`);const g=Qd(h)?h.default:h;u.mods[c]=h,u.components[c]=g;const y=(g.__vccOpts||g)[t];return y&&Zt(y,n,s,u,c,i)()}))}}return o}function If(e,t){const n=[],s=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let u=0;u<o;u++){const c=t.matched[u];c&&(e.matched.find(m=>Pn(m,c))?s.push(c):n.push(c));const d=e.matched[u];d&&(t.matched.find(m=>Pn(m,d))||i.push(d))}return[n,s,i]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Of=()=>location.protocol+"//"+location.host;function jl(e,t){const{pathname:n,search:s,hash:i}=t,o=e.indexOf("#");if(o>-1){let u=i.includes(e.slice(o))?e.slice(o).length:1,c=i.slice(u);return c[0]!=="/"&&(c="/"+c),no(c,"")}return no(n,e)+s+i}function Nf(e,t,n,s){let i=[],o=[],u=null;const c=({state:y})=>{const _=jl(e,location),w=n.value,E=t.value;let A=0;if(y){if(n.value=_,t.value=y,u&&u===w){u=null;return}A=E?y.position-E.position:0}else s(_);i.forEach(T=>{T(n.value,w,{delta:A,type:Rr.pop,direction:A?A>0?hr.forward:hr.back:hr.unknown})})};function d(){u=n.value}function m(y){i.push(y);const _=()=>{const w=i.indexOf(y);w>-1&&i.splice(w,1)};return o.push(_),_}function h(){if(document.visibilityState==="hidden"){const{history:y}=window;if(!y.state)return;y.replaceState(Ce({},y.state,{scroll:Fs()}),"")}}function g(){for(const y of o)y();o=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",h),document.removeEventListener("visibilitychange",h)}return window.addEventListener("popstate",c),window.addEventListener("pagehide",h),document.addEventListener("visibilitychange",h),{pauseListeners:d,listen:m,destroy:g}}function lo(e,t,n,s=!1,i=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:i?Fs():null}}function Lf(e){const{history:t,location:n}=window,s={value:jl(e,n)},i={value:t.state};i.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(d,m,h){const g=e.indexOf("#"),y=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+d:Of()+e+d;try{t[h?"replaceState":"pushState"](m,"",y),i.value=m}catch(_){console.error(_),n[h?"replace":"assign"](y)}}function u(d,m){o(d,Ce({},t.state,lo(i.value.back,d,i.value.forward,!0),m,{position:i.value.position}),!0),s.value=d}function c(d,m){const h=Ce({},i.value,t.state,{forward:d,scroll:Fs()});o(h.current,h,!0),o(d,Ce({},lo(s.value,d,null),{position:h.position+1},m),!1),s.value=d}return{location:s,state:i,push:c,replace:u}}function $f(e){e=yf(e);const t=Lf(e),n=Nf(e,t.state,t.location,t.replace);function s(o,u=!0){u||n.pauseListeners(),history.go(o)}const i=Ce({location:"",base:e,go:s,createHref:_f.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}let dn=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var Ve=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(Ve||{});const Df={type:dn.Static,value:""},jf=/[a-zA-Z0-9_]/;function Uf(e){if(!e)return[[]];if(e==="/")return[[Df]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${n})/"${m}": ${_}`)}let n=Ve.Static,s=n;const i=[];let o;function u(){o&&i.push(o),o=[]}let c=0,d,m="",h="";function g(){m&&(n===Ve.Static?o.push({type:dn.Static,value:m}):n===Ve.Param||n===Ve.ParamRegExp||n===Ve.ParamRegExpEnd?(o.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),o.push({type:dn.Param,value:m,regexp:h,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),m="")}function y(){m+=d}for(;c<e.length;){if(d=e[c++],d==="\\"&&n!==Ve.ParamRegExp){s=n,n=Ve.EscapeNext;continue}switch(n){case Ve.Static:d==="/"?(m&&g(),u()):d===":"?(g(),n=Ve.Param):y();break;case Ve.EscapeNext:y(),n=s;break;case Ve.Param:d==="("?n=Ve.ParamRegExp:jf.test(d)?y():(g(),n=Ve.Static,d!=="*"&&d!=="?"&&d!=="+"&&c--);break;case Ve.ParamRegExp:d===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+d:n=Ve.ParamRegExpEnd:h+=d;break;case Ve.ParamRegExpEnd:g(),n=Ve.Static,d!=="*"&&d!=="?"&&d!=="+"&&c--,h="";break;default:t("Unknown state");break}}return n===Ve.ParamRegExp&&t(`Unfinished custom RegExp for param "${m}"`),g(),u(),i}const ao="[^/]+?",Mf={sensitive:!1,strict:!1,start:!0,end:!0};var st=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(st||{});const Hf=/[.+*?^${}()[\]/\\]/g;function Ff(e,t){const n=Ce({},Mf,t),s=[];let i=n.start?"^":"";const o=[];for(const m of e){const h=m.length?[]:[st.Root];n.strict&&!m.length&&(i+="/");for(let g=0;g<m.length;g++){const y=m[g];let _=st.Segment+(n.sensitive?st.BonusCaseSensitive:0);if(y.type===dn.Static)g||(i+="/"),i+=y.value.replace(Hf,"\\$&"),_+=st.Static;else if(y.type===dn.Param){const{value:w,repeatable:E,optional:A,regexp:T}=y;o.push({name:w,repeatable:E,optional:A});const C=T||ao;if(C!==ao){_+=st.BonusCustomRegExp;try{`${C}`}catch(D){throw new Error(`Invalid custom RegExp for param "${w}" (${C}): `+D.message)}}let M=E?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;g||(M=A&&m.length<2?`(?:/${M})`:"/"+M),A&&(M+="?"),i+=M,_+=st.Dynamic,A&&(_+=st.BonusOptional),E&&(_+=st.BonusRepeatable),C===".*"&&(_+=st.BonusWildcard)}h.push(_)}s.push(h)}if(n.strict&&n.end){const m=s.length-1;s[m][s[m].length-1]+=st.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const u=new RegExp(i,n.sensitive?"":"i");function c(m){const h=m.match(u),g={};if(!h)return null;for(let y=1;y<h.length;y++){const _=h[y]||"",w=o[y-1];g[w.name]=_&&w.repeatable?_.split("/"):_}return g}function d(m){let h="",g=!1;for(const y of e){(!g||!h.endsWith("/"))&&(h+="/"),g=!1;for(const _ of y)if(_.type===dn.Static)h+=_.value;else if(_.type===dn.Param){const{value:w,repeatable:E,optional:A}=_,T=w in m?m[w]:"";if(xt(T)&&!E)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const C=xt(T)?T.join("/"):T;if(!C)if(A)y.length<2&&(h.endsWith("/")?h=h.slice(0,-1):g=!0);else throw new Error(`Missing required param "${w}"`);h+=C}}return h||"/"}return{re:u,score:s,keys:o,parse:c,stringify:d}}function Bf(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===st.Static+st.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===st.Static+st.Segment?1:-1:0}function Ul(e,t){let n=0;const s=e.score,i=t.score;for(;n<s.length&&n<i.length;){const o=Bf(s[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-s.length)===1){if(uo(s))return 1;if(uo(i))return-1}return i.length-s.length}function uo(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Vf={strict:!1,end:!0,sensitive:!1};function qf(e,t,n){const s=Ff(Uf(e.path),n),i=Ce(s,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function zf(e,t){const n=[],s=new Map;t=to(Vf,t);function i(g){return s.get(g)}function o(g,y,_){const w=!_,E=fo(g);E.aliasOf=_&&_.record;const A=to(t,g),T=[E];if("alias"in g){const D=typeof g.alias=="string"?[g.alias]:g.alias;for(const F of D)T.push(fo(Ce({},E,{components:_?_.record.components:E.components,path:F,aliasOf:_?_.record:E})))}let C,M;for(const D of T){const{path:F}=D;if(y&&F[0]!=="/"){const ue=y.record.path,ce=ue[ue.length-1]==="/"?"":"/";D.path=y.record.path+(F&&ce+F)}if(C=qf(D,y,A),_?_.alias.push(C):(M=M||C,M!==C&&M.alias.push(C),w&&g.name&&!ho(C)&&u(g.name)),Ml(C)&&d(C),E.children){const ue=E.children;for(let ce=0;ce<ue.length;ce++)o(ue[ce],C,_&&_.children[ce])}_=_||C}return M?()=>{u(M)}:Kn}function u(g){if($l(g)){const y=s.get(g);y&&(s.delete(g),n.splice(n.indexOf(y),1),y.children.forEach(u),y.alias.forEach(u))}else{const y=n.indexOf(g);y>-1&&(n.splice(y,1),g.record.name&&s.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function c(){return n}function d(g){const y=Wf(g,n);n.splice(y,0,g),g.record.name&&!ho(g)&&s.set(g.record.name,g)}function m(g,y){let _,w={},E,A;if("name"in g&&g.name){if(_=s.get(g.name),!_)throw Rn(Ue.MATCHER_NOT_FOUND,{location:g});A=_.record.name,w=Ce(co(y.params,_.keys.filter(M=>!M.optional).concat(_.parent?_.parent.keys.filter(M=>M.optional):[]).map(M=>M.name)),g.params&&co(g.params,_.keys.map(M=>M.name))),E=_.stringify(w)}else if(g.path!=null)E=g.path,_=n.find(M=>M.re.test(E)),_&&(w=_.parse(E),A=_.record.name);else{if(_=y.name?s.get(y.name):n.find(M=>M.re.test(y.path)),!_)throw Rn(Ue.MATCHER_NOT_FOUND,{location:g,currentLocation:y});A=_.record.name,w=Ce({},y.params,g.params),E=_.stringify(w)}const T=[];let C=_;for(;C;)T.unshift(C.record),C=C.parent;return{name:A,path:E,params:w,matched:T,meta:Gf(T)}}e.forEach(g=>o(g));function h(){n.length=0,s.clear()}return{addRoute:o,resolve:m,removeRoute:u,clearRoutes:h,getRoutes:c,getRecordMatcher:i}}function co(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function fo(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Kf(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Kf(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ho(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Gf(e){return e.reduce((t,n)=>Ce(t,n.meta),{})}function Wf(e,t){let n=0,s=t.length;for(;n!==s;){const o=n+s>>1;Ul(e,t[o])<0?s=o:n=o+1}const i=Jf(e);return i&&(s=t.lastIndexOf(i,s-1)),s}function Jf(e){let t=e;for(;t=t.parent;)if(Ml(t)&&Ul(e,t)===0)return t}function Ml({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function po(e){const t=yt(Bs),n=yt(Zr),s=Ne(()=>{const d=Je(e.to);return t.resolve(d)}),i=Ne(()=>{const{matched:d}=s.value,{length:m}=d,h=d[m-1],g=n.matched;if(!h||!g.length)return-1;const y=g.findIndex(Pn.bind(null,h));if(y>-1)return y;const _=go(d[m-2]);return m>1&&go(h)===_&&g[g.length-1].path!==_?g.findIndex(Pn.bind(null,d[m-2])):y}),o=Ne(()=>i.value>-1&&Zf(n.params,s.value.params)),u=Ne(()=>i.value>-1&&i.value===n.matched.length-1&&Ll(n.params,s.value.params));function c(d={}){if(Yf(d)){const m=t[Je(e.replace)?"replace":"push"](Je(e.to)).catch(Kn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:s,href:Ne(()=>s.value.href),isActive:o,isExactActive:u,navigate:c}}function Xf(e){return e.length===1?e[0]:e}const Qf=mt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:po,setup(e,{slots:t}){const n=Ls(po(e)),{options:s}=yt(Bs),i=Ne(()=>({[mo(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[mo(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&Xf(t.default(n));return e.custom?o:Cl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),Jt=Qf;function Yf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Zf(e,t){for(const n in t){const s=t[n],i=e[n];if(typeof s=="string"){if(s!==i)return!1}else if(!xt(i)||i.length!==s.length||s.some((o,u)=>o.valueOf()!==i[u].valueOf()))return!1}return!0}function go(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const mo=(e,t,n)=>e??t??n,eh=mt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=yt(Or),i=Ne(()=>e.route||s.value),o=yt(oo,0),u=Ne(()=>{let m=Je(o);const{matched:h}=i.value;let g;for(;(g=h[m])&&!g.components;)m++;return m}),c=Ne(()=>i.value.matched[u.value]);ms(oo,Ne(()=>u.value+1)),ms(Rf,c),ms(Or,i);const d=B();return Bt(()=>[d.value,c.value,e.name],([m,h,g],[y,_,w])=>{h&&(h.instances[g]=m,_&&_!==h&&m&&m===y&&(h.leaveGuards.size||(h.leaveGuards=_.leaveGuards),h.updateGuards.size||(h.updateGuards=_.updateGuards))),m&&h&&(!_||!Pn(h,_)||!y)&&(h.enterCallbacks[g]||[]).forEach(E=>E(m))},{flush:"post"}),()=>{const m=i.value,h=e.name,g=c.value,y=g&&g.components[h];if(!y)return vo(n.default,{Component:y,route:m});const _=g.props[h],w=_?_===!0?m.params:typeof _=="function"?_(m):_:null,A=Cl(y,Ce({},w,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(g.instances[h]=null)},ref:d}));return vo(n.default,{Component:A,route:m})||A}}});function vo(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Hl=eh;function th(e){const t=zf(e.routes,e),n=e.parseQuery||Af,s=e.stringifyQuery||io,i=e.history,o=jn(),u=jn(),c=jn(),d=ac(Wt);let m=Wt;xn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=dr.bind(null,N=>""+N),g=dr.bind(null,df),y=dr.bind(null,es);function _(N,Z){let G,se;return $l(N)?(G=t.getRecordMatcher(N),se=Z):se=N,t.addRoute(se,G)}function w(N){const Z=t.getRecordMatcher(N);Z&&t.removeRoute(Z)}function E(){return t.getRoutes().map(N=>N.record)}function A(N){return!!t.getRecordMatcher(N)}function T(N,Z){if(Z=Ce({},Z||d.value),typeof N=="string"){const S=fr(n,N,Z.path),O=t.resolve({path:S.path},Z),$=i.createHref(S.fullPath);return Ce(S,O,{params:y(O.params),hash:es(S.hash),redirectedFrom:void 0,href:$})}let G;if(N.path!=null)G=Ce({},N,{path:fr(n,N.path,Z.path).path});else{const S=Ce({},N.params);for(const O in S)S[O]==null&&delete S[O];G=Ce({},N,{params:g(S)}),Z.params=g(Z.params)}const se=t.resolve(G,Z),ve=N.hash||"";se.params=h(y(se.params));const v=pf(s,Ce({},N,{hash:af(ve),path:se.path})),x=i.createHref(v);return Ce({fullPath:v,hash:ve,query:s===io?Pf(N.query):N.query||{}},se,{redirectedFrom:void 0,href:x})}function C(N){return typeof N=="string"?fr(n,N,d.value.path):Ce({},N)}function M(N,Z){if(m!==N)return Rn(Ue.NAVIGATION_CANCELLED,{from:Z,to:N})}function D(N){return ce(N)}function F(N){return D(Ce(C(N),{replace:!0}))}function ue(N,Z){const G=N.matched[N.matched.length-1];if(G&&G.redirect){const{redirect:se}=G;let ve=typeof se=="function"?se(N,Z):se;return typeof ve=="string"&&(ve=ve.includes("?")||ve.includes("#")?ve=C(ve):{path:ve},ve.params={}),Ce({query:N.query,hash:N.hash,params:ve.path!=null?{}:N.params},ve)}}function ce(N,Z){const G=m=T(N),se=d.value,ve=N.state,v=N.force,x=N.replace===!0,S=ue(G,se);if(S)return ce(Ce(C(S),{state:typeof S=="object"?Ce({},ve,S.state):ve,force:v,replace:x}),Z||G);const O=G;O.redirectedFrom=Z;let $;return!v&&gf(s,se,G)&&($=Rn(Ue.NAVIGATION_DUPLICATED,{to:O,from:se}),Se(se,se,!0,!1)),($?Promise.resolve($):k(O,se)).catch(L=>jt(L)?jt(L,Ue.NAVIGATION_GUARD_REDIRECT)?L:de(L):U(L,O,se)).then(L=>{if(L){if(jt(L,Ue.NAVIGATION_GUARD_REDIRECT))return ce(Ce({replace:x},C(L.to),{state:typeof L.to=="object"?Ce({},ve,L.to.state):ve,force:v}),Z||O)}else L=K(O,se,!0,x,ve);return be(O,se,L),L})}function Ae(N,Z){const G=M(N,Z);return G?Promise.reject(G):Promise.resolve()}function V(N){const Z=Ke.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(N):N()}function k(N,Z){let G;const[se,ve,v]=If(N,Z);G=pr(se.reverse(),"beforeRouteLeave",N,Z);for(const S of se)S.leaveGuards.forEach(O=>{G.push(Zt(O,N,Z))});const x=Ae.bind(null,N,Z);return G.push(x),_e(G).then(()=>{G=[];for(const S of o.list())G.push(Zt(S,N,Z));return G.push(x),_e(G)}).then(()=>{G=pr(ve,"beforeRouteUpdate",N,Z);for(const S of ve)S.updateGuards.forEach(O=>{G.push(Zt(O,N,Z))});return G.push(x),_e(G)}).then(()=>{G=[];for(const S of v)if(S.beforeEnter)if(xt(S.beforeEnter))for(const O of S.beforeEnter)G.push(Zt(O,N,Z));else G.push(Zt(S.beforeEnter,N,Z));return G.push(x),_e(G)}).then(()=>(N.matched.forEach(S=>S.enterCallbacks={}),G=pr(v,"beforeRouteEnter",N,Z,V),G.push(x),_e(G))).then(()=>{G=[];for(const S of u.list())G.push(Zt(S,N,Z));return G.push(x),_e(G)}).catch(S=>jt(S,Ue.NAVIGATION_CANCELLED)?S:Promise.reject(S))}function be(N,Z,G){c.list().forEach(se=>V(()=>se(N,Z,G)))}function K(N,Z,G,se,ve){const v=M(N,Z);if(v)return v;const x=Z===Wt,S=xn?history.state:{};G&&(se||x?i.replace(N.fullPath,Ce({scroll:x&&S&&S.scroll},ve)):i.push(N.fullPath,ve)),d.value=N,Se(N,Z,G,x),de()}let Re;function Ze(){Re||(Re=i.listen((N,Z,G)=>{if(!ge.listening)return;const se=T(N),ve=ue(se,ge.currentRoute.value);if(ve){ce(Ce(ve,{replace:!0,force:!0}),se).catch(Kn);return}m=se;const v=d.value;xn&&Sf(ro(v.fullPath,G.delta),Fs()),k(se,v).catch(x=>jt(x,Ue.NAVIGATION_ABORTED|Ue.NAVIGATION_CANCELLED)?x:jt(x,Ue.NAVIGATION_GUARD_REDIRECT)?(ce(Ce(C(x.to),{force:!0}),se).then(S=>{jt(S,Ue.NAVIGATION_ABORTED|Ue.NAVIGATION_DUPLICATED)&&!G.delta&&G.type===Rr.pop&&i.go(-1,!1)}).catch(Kn),Promise.reject()):(G.delta&&i.go(-G.delta,!1),U(x,se,v))).then(x=>{x=x||K(se,v,!1),x&&(G.delta&&!jt(x,Ue.NAVIGATION_CANCELLED)?i.go(-G.delta,!1):G.type===Rr.pop&&jt(x,Ue.NAVIGATION_ABORTED|Ue.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),be(se,v,x)}).catch(Kn)}))}let et=jn(),ee=jn(),j;function U(N,Z,G){de(N);const se=ee.list();return se.length?se.forEach(ve=>ve(N,Z,G)):console.error(N),Promise.reject(N)}function Q(){return j&&d.value!==Wt?Promise.resolve():new Promise((N,Z)=>{et.add([N,Z])})}function de(N){return j||(j=!N,Ze(),et.list().forEach(([Z,G])=>N?G(N):Z()),et.reset()),N}function Se(N,Z,G,se){const{scrollBehavior:ve}=e;if(!xn||!ve)return Promise.resolve();const v=!G&&kf(ro(N.fullPath,0))||(se||!G)&&history.state&&history.state.scroll||null;return zr().then(()=>ve(N,Z,v)).then(x=>x&&wf(x)).catch(x=>U(x,N,Z))}const me=N=>i.go(N);let le;const Ke=new Set,ge={currentRoute:d,listening:!0,addRoute:_,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:A,getRoutes:E,resolve:T,options:e,push:D,replace:F,go:me,back:()=>me(-1),forward:()=>me(1),beforeEach:o.add,beforeResolve:u.add,afterEach:c.add,onError:ee.add,isReady:Q,install(N){N.component("RouterLink",Jt),N.component("RouterView",Hl),N.config.globalProperties.$router=ge,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Je(d)}),xn&&!le&&d.value===Wt&&(le=!0,D(i.location).catch(se=>{}));const Z={};for(const se in Wt)Object.defineProperty(Z,se,{get:()=>d.value[se],enumerable:!0});N.provide(Bs,ge),N.provide(Zr,qo(Z)),N.provide(Or,d);const G=N.unmount;Ke.add(N),N.unmount=function(){Ke.delete(N),Ke.size<1&&(m=Wt,Re&&Re(),Re=null,d.value=Wt,le=!1,j=!1),G()}}};function _e(N){return N.reduce((Z,G)=>Z.then(()=>V(G)),Promise.resolve())}return ge}function is(){return yt(Bs)}function Fl(e){return yt(Zr)}const nh="https://smartadd.ddev.site:33005",Gn=typeof window<"u"&&window.location.hostname==="localhost"?"":nh,Ft=B(typeof window<"u"?localStorage.getItem("apiToken"):null),rt=B(typeof window<"u"?localStorage.getItem("activeCompanyId"):null);function Bl(e){typeof window>"u"||(e?localStorage.setItem("apiToken",e):localStorage.removeItem("apiToken"),Ft.value=e)}function bt(e){return!e||e.startsWith("http://")||e.startsWith("https://")||!Gn?e:e.startsWith("/")?`${Gn}${e}`:`${Gn}/${e}`}async function Me(e,t){const n=Ft.value,s=rt.value,i=new Headers((t==null?void 0:t.headers)??void 0);i.has("accept")||i.set("accept","application/json"),n&&i.set("authorization",`Bearer ${n}`),s&&i.set("X-Company-Id",s);const o=await fetch(`${Gn}${e}`,{...t,headers:i}),u=o.headers.get("content-type")??"",c=e.startsWith("/api/"),d=u.includes("text/html");if(c&&d){const h=(await o.text()).slice(0,200).replace(/\s+/g," ").trim();throw new Error(`Uventet HTML-svar fra API (HTTP ${o.status}). ${h}`)}if(!o.ok){const h=(await o.text()).slice(0,200).replace(/\s+/g," ").trim();throw new Error(h||`HTTP ${o.status}`)}return o}async function sh(e,t,n){const i=await(await Me("/api/auth/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e,password:t,device_name:"frontend"})})).json();return Bl(i.token),i}async function rh(e){const t=await fetch(`${Gn}/api/auth/forgot-password`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok){const n=await t.text();throw new Error(n||`HTTP ${t.status}`)}}async function Vs(){return await(await Me("/api/me")).json()}async function ih(){await Me("/api/auth/logout",{method:"POST"}),Bl(null),ah()}async function oh(e){return(await(await Me("/api/profile",{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(e)})).json()).user}async function lh(e){await Me("/api/profile/password",{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(e)})}function Vl(e){if(typeof window>"u")return;const t=String(e);localStorage.setItem("activeCompanyId",t),rt.value=t}function ah(){typeof window>"u"||(localStorage.removeItem("activeCompanyId"),rt.value=null)}async function uh(){return await(await Me("/api/brand")).json()}async function ch(){return await(await Me("/api/subscription")).json()}async function ei(){return await(await Me("/api/tokens/summary")).json()}async function dh(e=10){return await(await Me(`/api/notifications?limit=${encodeURIComponent(String(e))}`)).json()}const fn=B(null);async function ti(){fn.value=await ei()}async function fh(e){return await(await Me("/api/brand",{method:"POST",body:e})).json()}async function hh(){return await(await Me("/api/integrations/definitions")).json()}async function ql(){return await(await Me("/api/integrations/instances")).json()}async function ph(e){return await(await Me("/api/integrations/instances",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)})).json()}async function gh(e,t){return await(await Me(`/api/integrations/instances/${encodeURIComponent(String(e))}`,{method:"PATCH",headers:{"content-type":"application/json"},body:JSON.stringify(t)})).json()}async function mh(e){await Me(`/api/integrations/instances/${encodeURIComponent(String(e))}`,{method:"DELETE"})}async function zl(){return await(await Me("/api/meta/ad-sizes")).json()}async function Kl(e,t){const n=((t==null?void 0:t.images)??[]).slice(0,5),s=((t==null?void 0:t.instructions)??"").trim(),i=typeof(t==null?void 0:t.imageWidth)=="number"&&Number.isFinite(t.imageWidth)?t.imageWidth:null,o=typeof(t==null?void 0:t.imageHeight)=="number"&&Number.isFinite(t.imageHeight)?t.imageHeight:null;return await(n.length>0?await Me("/api/ads",{method:"POST",body:(()=>{const c=new FormData;c.set("text",e),s!==""&&c.set("instructions",s),i!==null&&c.set("image_width",String(i)),o!==null&&c.set("image_height",String(o)),(t==null?void 0:t.debug)===!0&&c.set("debug","1");for(const d of n)c.append("images[]",d);return c})()}):await Me("/api/ads",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({text:e,instructions:s!==""?s:null,image_width:i,image_height:o,debug:(t==null?void 0:t.debug)===!0})})).json()}async function Gl(e){return await(await Me(`/api/ads/${encodeURIComponent(e)}`)).json()}async function vh(){return await(await Me("/api/ads")).json()}async function yh(e){await Me(`/api/ads/${encodeURIComponent(e)}`,{method:"DELETE"})}async function bh(e,t){return await(await Me(`/api/ads/${encodeURIComponent(e)}/integrations`,{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({instance_ids:t})})).json()}const _h={key:0,class:"grid gap-3"},xh={class:"flex items-start justify-between gap-4"},wh={class:"min-w-0"},Sh={class:"text-sm font-semibold"},kh={key:0,class:"mt-1 text-sm text-gray-700"},Ch={__name:"NoticeStack",props:{items:{type:Array,required:!0,default:()=>[]}},setup(e){function t(n){return n==="success"?"border-green-200 bg-green-50":n==="warning"?"border-yellow-200 bg-yellow-50":n==="error"?"border-red-200 bg-red-50":"border-blue-200 bg-blue-50"}return(n,s)=>e.items.length?(P(),R("div",_h,[(P(!0),R(Fe,null,At(e.items,i=>(P(),R("div",{key:i.id,class:mn(["rounded-lg border bg-white p-4",t(i.level)])},[f("div",xh,[f("div",wh,[f("div",Sh,te(i.title),1),i.message?(P(),R("div",kh,te(i.message),1)):re("",!0)])])],2))),128))])):re("",!0)}},Tt=B([]);function yo(e){const t=Tt.value.findIndex(s=>s.id===e.id);if(t===-1){Tt.value=[...Tt.value,e];return}const n=[...Tt.value];n[t]={...n[t],...e},Tt.value=n}function bo(e){Tt.value=Tt.value.filter(t=>t.id!==e)}function gr(e,t){const n=Tt.value.filter(s=>s.source!==e);Tt.value=[...n,...Array.isArray(t)?t:[]]}const Th={class:"min-h-screen bg-gray-50 text-gray-900"},Eh={class:"border-b bg-white fixed top-0 left-0 right-0 z-50"},Ah={class:"mx-auto flex max-w-4xl items-center justify-between px-4 py-4"},Ph={class:"flex items-center gap-2"},Rh={key:0,class:"text-sm text-gray-600"},Ih={class:"ml-2"},Oh={key:0,class:"flex items-center gap-2"},Nh={class:"hidden md:flex gap-3 text-sm"},Lh=["aria-expanded"],$h={class:"px-3 py-2"},Dh={class:"truncate font-medium"},jh={class:"truncate text-xs text-gray-600"},Uh={class:"md:hidden"},Mh={key:0,class:"md:hidden border-t"},Hh={class:"mx-auto max-w-4xl px-4 py-8 pt-20"},Fh={key:0,class:"mb-6"},mr=1e3,Bh=mt({__name:"App",setup(e){const t=is(),n=Ne(()=>!!Ft.value),s=B(!1),i=B(!1),o=B(null),u=B(null),c=Ne(()=>{var T,C,M;return!((C=(T=u.value)==null?void 0:T.companies)!=null&&C.length)||!rt.value?null:((M=u.value.companies.find(D=>String(D.id)===rt.value))==null?void 0:M.name)??null});async function d(){try{await ih()}finally{u.value=null,await t.push("/login")}}async function m(){if(n.value)try{u.value=await Vs()}catch(T){console.error("Failed to load user data, logging out.",T),await d()}else u.value=null}Bt(Ft,()=>m(),{immediate:!0});const h=Ne(()=>fn.value),g=Ne(()=>Tt.value);async function y(){if(!n.value||!rt.value){gr("backend",[]);return}try{const C=((await dh(10)).notifications??[]).map(M=>({id:`backend-${M.id}`,source:"backend",level:M.level,title:M.title,message:M.message,meta:{data:M.data,starts_at:M.starts_at,ends_at:M.ends_at}}));gr("backend",C)}catch{gr("backend",[])}}async function _(){if(!n.value){fn.value=null;return}if(!rt.value){fn.value=null;return}try{await ti()}catch{fn.value=null}}function w(){const T=h.value;if(!n.value||!rt.value){bo("tokens-insufficient");return}if(!T||T.status!=="active"){yo({id:"tokens-insufficient",source:"system",level:"warning",title:"Tokens",message:`Du har ikke nok tokens til at oprette en annonce. Der krves mindst ${mr.toLocaleString("da-DK")} tokens.`});return}if(T.remaining<mr){yo({id:"tokens-insufficient",source:"system",level:"warning",title:"Tokens",message:`Du har ikke nok tokens til at oprette en annonce. Der krves mindst ${mr.toLocaleString("da-DK")} tokens.`});return}bo("tokens-insufficient")}Bt([Ft,rt],()=>{_(),y()}),Bt([h,Ft,rt],()=>{w()});const E=T=>{o.value&&!o.value.contains(T.target)&&(s.value=!1)};It(()=>{document.addEventListener("click",E),_(),w(),y()});let A=null;return Bt([Ft,rt],()=>{A&&(window.clearInterval(A),A=null),!(!n.value||!rt.value)&&(A=window.setInterval(()=>{y()},6e4))}),On(()=>{document.removeEventListener("click",E),A&&(window.clearInterval(A),A=null)}),(T,C)=>{var M,D,F,ue;return P(),R("div",Th,[f("header",Eh,[f("div",Ah,[f("div",Ph,[je(Je(Jt),{to:"/",class:"font-semibold text-2xl text-green-600"},{default:kt(()=>[...C[4]||(C[4]=[at("SmartAds",-1)])]),_:1}),n.value&&c.value?(P(),R("div",Rh,[C[5]||(C[5]=f("span",{class:"text-gray-400"},"/",-1)),f("span",Ih,te(c.value),1)])):re("",!0)]),n.value?(P(),R("div",Oh,[f("nav",Nh,[je(Je(Jt),{class:"rounded px-3 py-2 hover:bg-gray-100",to:"/company"},{default:kt(()=>[...C[6]||(C[6]=[at("Forretning",-1)])]),_:1}),je(Je(Jt),{class:"rounded px-3 py-2 hover:bg-gray-100",to:"/ads"},{default:kt(()=>[...C[7]||(C[7]=[at("Annoncer",-1)])]),_:1})]),f("div",{class:"relative",ref_key:"userMenuContainer",ref:o},[f("button",{class:"ml-1 inline-flex h-9 w-9 items-center justify-center rounded hover:bg-gray-100",type:"button","aria-expanded":s.value?"true":"false","aria-haspopup":"menu",onClick:C[0]||(C[0]=ce=>s.value=!s.value)},[...C[8]||(C[8]=[f("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{d:"M20 21a8 8 0 10-16 0",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"}),f("path",{d:"M12 13a5 5 0 100-10 5 5 0 000 10z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])],8,Lh),s.value?(P(),R("div",{key:0,class:"absolute right-0 z-10 mt-2 w-56 rounded-md border bg-white p-1 text-sm shadow",role:"menu",onClick:C[1]||(C[1]=ce=>s.value=!1)},[f("div",$h,[f("div",Dh,te(((M=u.value)==null?void 0:M.user.name)??"User"),1),f("div",jh,te(((D=u.value)==null?void 0:D.user.email)??""),1)]),C[11]||(C[11]=f("div",{class:"my-1 border-t"},null,-1)),je(Je(Jt),{class:"block rounded px-3 py-2 hover:bg-gray-100",to:"/profile",role:"menuitem"},{default:kt(()=>[...C[9]||(C[9]=[at(" Profil ",-1)])]),_:1}),(((ue=(F=u.value)==null?void 0:F.companies)==null?void 0:ue.length)??0)>1?(P(),Xr(Je(Jt),{key:0,class:"block rounded px-3 py-2 hover:bg-gray-100",to:"/select-company",role:"menuitem"},{default:kt(()=>[...C[10]||(C[10]=[at(" Skift company ",-1)])]),_:1})):re("",!0),f("button",{class:"block w-full rounded px-3 py-2 text-left hover:bg-gray-100",type:"button",role:"menuitem",onClick:d}," Logout ")])):re("",!0)],512),f("div",Uh,[f("button",{class:"inline-flex h-9 w-9 items-center justify-center rounded hover:bg-gray-100",type:"button",onClick:C[2]||(C[2]=ce=>i.value=!i.value)},[...C[12]||(C[12]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("line",{x1:"3",x2:"21",y1:"6",y2:"6"}),f("line",{x1:"3",x2:"21",y1:"12",y2:"12"}),f("line",{x1:"3",x2:"21",y1:"18",y2:"18"})],-1)])])])])):re("",!0)]),i.value?(P(),R("div",Mh,[f("nav",{class:"flex flex-col p-4 text-sm",onClick:C[3]||(C[3]=ce=>i.value=!1)},[je(Je(Jt),{class:"rounded px-3 py-2 hover:bg-gray-100",to:"/company"},{default:kt(()=>[...C[13]||(C[13]=[at("Forretning",-1)])]),_:1}),je(Je(Jt),{class:"rounded px-3 py-2 hover:bg-gray-100",to:"/ads"},{default:kt(()=>[...C[14]||(C[14]=[at("Annoncer",-1)])]),_:1})])])):re("",!0)]),f("main",Hh,[n.value?(P(),R("div",Fh,[je(Ch,{items:g.value},null,8,["items"])])):re("",!0),je(Je(Hl))])])}}}),Vh={class:"space-y-6"},qh={class:"grid gap-6 rounded-lg border bg-white p-4"},zh={class:"grid gap-2"},Kh={class:"grid gap-2"},Gh={class:"grid gap-2"},Wh={class:"grid gap-2"},Jh={class:"group grid gap-6 rounded-lg border bg-white p-4",open:""},Xh={class:"grid gap-4 rounded border bg-gray-50 p-4"},Qh={class:"grid gap-4 md:grid-cols-4"},Yh={class:"grid gap-2"},Zh={class:"grid gap-2"},ep={class:"grid gap-2"},tp={class:"grid gap-2"},np={class:"grid gap-2"},sp={class:"grid gap-2"},rp={class:"grid gap-2"},ip={class:"grid gap-2"},op={class:"group grid gap-6 rounded-lg border bg-white p-4"},lp={key:0,class:"text-sm text-gray-600"},ap={key:1,class:"grid gap-4"},up={key:0,class:"text-sm text-gray-700"},cp={key:1,class:"grid gap-4 rounded border bg-gray-50 p-4"},dp={class:"flex items-center justify-between"},fp={class:"text-sm font-semibold text-gray-900"},hp={class:"grid gap-2"},pp=["value"],gp={class:"grid gap-2"},mp={class:"flex items-center gap-3"},vp={key:0,class:"grid gap-4 rounded border bg-white p-4"},yp={class:"grid gap-2"},bp=["value"],_p={class:"grid gap-2"},xp={key:0,class:"grid gap-2"},wp=["value"],Sp={class:"flex items-center gap-3"},kp=["disabled"],Cp={key:2,class:"text-sm text-gray-600"},Tp={key:3,class:"grid gap-3"},Ep=["onClick"],Ap={class:"min-w-0"},Pp={class:"font-semibold text-gray-900"},Rp={class:"text-xs text-gray-500"},Ip={key:0,class:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20"},Op={key:1,class:"inline-flex items-center rounded-full bg-gray-50 px-2 py-1 text-xs font-medium text-gray-700 ring-1 ring-inset ring-gray-600/20"},Np={class:"group grid gap-6 rounded-lg border bg-white p-4"},Lp={class:"grid gap-4 md:grid-cols-2"},$p={class:"grid gap-4 rounded border bg-gray-50 p-4"},Dp={key:0,class:"grid gap-2 text-sm"},jp={class:"font-semibold"},Up={class:"mt-1"},Mp={key:0,class:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20"},Hp={key:1,class:"inline-flex items-center rounded-full bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-800 ring-1 ring-inset ring-yellow-600/20"},Fp={key:2,class:"inline-flex items-center rounded-full bg-gray-50 px-2 py-1 text-xs font-medium text-gray-700 ring-1 ring-inset ring-gray-600/20"},Bp={key:0},Vp={class:"font-semibold"},qp={key:1,class:"text-sm text-gray-600"},zp={class:"grid gap-4 rounded border bg-gray-50 p-4"},Kp={key:0,class:"grid gap-3 text-sm"},Gp={class:"grid grid-cols-3 gap-3"},Wp={class:"font-semibold"},Jp={class:"font-semibold"},Xp={class:"font-semibold"},Qp={class:"grid gap-2"},Yp={class:"flex items-center justify-between text-xs text-gray-600"},Zp={class:"h-2 w-full rounded bg-gray-200"},eg={key:0,class:"rounded bg-yellow-50 p-3 text-sm text-yellow-900"},tg={key:1,class:"text-sm text-gray-600"},ng={class:"flex items-center gap-3"},sg=["disabled"],rg={key:0,class:"text-sm text-gray-700"},ig={class:"rounded-lg border bg-white p-4"},og={class:"flex items-center justify-between"},lg={class:"flex gap-2"},ag={class:"mt-4 grid gap-3 md:grid-cols-[120px_1fr]"},ug={class:"flex items-center justify-center rounded border bg-gray-50 p-2"},cg=["src"],dg={key:1,class:"text-xs text-gray-500"},fg={class:"grid gap-1"},hg={class:"font-semibold"},pg={class:"text-sm text-gray-700"},gg={class:"text-sm text-gray-700"},mg=mt({__name:"BrandPage",setup(e){const t=B({companyName:"",websiteUrl:"",companyDescription:"",audienceDescription:"",primaryColor1:"#0ea5e9",primaryColor2:"#111827",primaryColor3:"#ffffff",primaryColor4:"#000000",fonts:"",slogan:"",visual_guidelines:""}),n=B(null),s=B(null),i=B(!1),o=B(null),u=B(null),c=B(null),d=B(!1),m=B(null),h=B([]),g=B([]),y=B(!1),_=B([]),w=B({open:!1,mode:"create",id:null,integrationKey:"website_embed",name:"",isActive:!0,embedToken:"",adSize:""});function E(V){var K;const be=((K=V.target.files)==null?void 0:K[0])??null;n.value=be}async function A(){const[V,k,be]=await Promise.all([uh(),ch(),ei()]);t.value.companyName=V.companyName??"",t.value.websiteUrl=V.websiteUrl??"",t.value.companyDescription=V.companyDescription??"",t.value.audienceDescription=V.audienceDescription??"",t.value.primaryColor1=V.primaryColor1??"#0ea5e9",t.value.primaryColor2=V.primaryColor2??"#111827",t.value.primaryColor3=V.primaryColor3??"#ffffff",t.value.primaryColor4=V.primaryColor4??"#000000",t.value.fonts=V.fonts??"",t.value.slogan=V.slogan??"",t.value.visual_guidelines=V.visual_guidelines??"",s.value=V.logoPath?bt(V.logoPath):null,u.value=k.subscription,c.value=be,await T()}async function T(){d.value=!0,m.value=null;try{const[V,k]=await Promise.all([hh(),ql()]);h.value=V.definitions,g.value=k.instances;const be=await zl();_.value=Array.isArray(be.sizes)?be.sizes:[],h.value.length>0&&!h.value.some(K=>K.key===w.value.integrationKey)&&(w.value.integrationKey=h.value[0].key)}catch(V){m.value=V instanceof Error?V.message:"Kunne ikke hente integrationer"}finally{d.value=!1}}function C(){w.value.open=!0,w.value.mode="create",w.value.id=null,w.value.name="",w.value.isActive=!0,w.value.embedToken="",w.value.adSize="",h.value.length>0?w.value.integrationKey=h.value[0].key:w.value.integrationKey="website_embed"}function M(V){var Ze,et,ee;w.value.open=!0,w.value.mode="edit",w.value.id=V.id,w.value.integrationKey=V.integration_key,w.value.name=V.name,w.value.isActive=V.is_active,w.value.embedToken=String(((Ze=V.config)==null?void 0:Ze.embed_token)??"");const k=(et=V.config)==null?void 0:et.ad_width,be=(ee=V.config)==null?void 0:ee.ad_height,K=k&&!isNaN(Number(k))?String(parseInt(String(k),10)):"",Re=be&&!isNaN(Number(be))?String(parseInt(String(be),10)):"";w.value.adSize=K&&Re?`${K}x${Re}`:""}function D(){w.value.open=!1}function F(V){return`<script src="${bt(`/embed/${V}/script.js`)}"><\/script>`}async function ue(){m.value=null,y.value=!0;try{const V={integration_key:w.value.integrationKey,name:w.value.name,is_active:w.value.isActive,config:w.value.integrationKey==="website_embed"?{embed_token:w.value.embedToken||null,ad_width:w.value.adSize?Number(String(w.value.adSize).split("x")[0]):null,ad_height:w.value.adSize?Number(String(w.value.adSize).split("x")[1]):null}:null};w.value.mode==="create"?(await ph(V),m.value="Integration oprettet"):w.value.id&&(await gh(w.value.id,V),m.value="Integration opdateret"),await T(),D()}catch(V){m.value=V instanceof Error?V.message:"Fejl"}finally{y.value=!1}}async function ce(V){if(confirm("Er du sikker?")){m.value=null,y.value=!0;try{await mh(V),m.value="Integration slettet",await T(),D()}catch(k){m.value=k instanceof Error?k.message:"Fejl"}finally{y.value=!1}}}async function Ae(){i.value=!0,o.value=null;try{const V=new FormData;V.set("companyName",t.value.companyName),t.value.websiteUrl&&V.set("websiteUrl",t.value.websiteUrl),V.set("companyDescription",t.value.companyDescription),V.set("audienceDescription",t.value.audienceDescription),V.set("primaryColor1",t.value.primaryColor1),V.set("primaryColor2",t.value.primaryColor2),V.set("primaryColor3",t.value.primaryColor3),V.set("primaryColor4",t.value.primaryColor4),V.set("fonts",t.value.fonts),V.set("slogan",t.value.slogan),V.set("visual_guidelines",t.value.visual_guidelines),n.value&&V.set("logo",n.value);const k=await fh(V);s.value=k.logoPath?bt(k.logoPath):s.value,o.value="Gemt"}catch(V){o.value=V instanceof Error?V.message:"Fejl"}finally{i.value=!1}}return It(()=>{A().catch(V=>{o.value=V instanceof Error?V.message:"Kunne ikke hente brand"})}),(V,k)=>{var be;return P(),R("div",Vh,[f("form",{onSubmit:Ot(Ae,["prevent"]),class:"space-y-6"},[f("div",qh,[k[25]||(k[25]=f("div",null,[f("h2",{class:"text-lg font-semibold"},"Firmaoplysninger"),f("p",{class:"mt-1 text-sm text-gray-600"},"Beskriv dit firma og din mlgruppe, s AI'en kan skrive bedre annoncetekster.")],-1)),f("div",zh,[k[17]||(k[17]=f("label",{class:"text-sm font-medium",for:"companyName"},"Firmanavn",-1)),xe(f("input",{id:"companyName","onUpdate:modelValue":k[0]||(k[0]=K=>t.value.companyName=K),class:"w-full rounded border px-3 py-2",required:""},null,512),[[De,t.value.companyName]]),k[18]||(k[18]=f("p",{class:"text-xs text-gray-600"},"Dit officielle firmanavn.",-1))]),f("div",Kh,[k[19]||(k[19]=f("label",{class:"text-sm font-medium",for:"websiteUrl"},"Website",-1)),xe(f("input",{id:"websiteUrl","onUpdate:modelValue":k[1]||(k[1]=K=>t.value.websiteUrl=K),class:"w-full rounded border px-3 py-2",type:"url",placeholder:"https://..."},null,512),[[De,t.value.websiteUrl]]),k[20]||(k[20]=f("p",{class:"text-xs text-gray-600"},"Angiv dit firmas hjemmeside.",-1))]),f("div",Gh,[k[21]||(k[21]=f("label",{class:"text-sm font-medium",for:"companyDescription"},"Firma beskrivelse",-1)),xe(f("textarea",{id:"companyDescription","onUpdate:modelValue":k[2]||(k[2]=K=>t.value.companyDescription=K),class:"min-h-24 w-full rounded border px-3 py-2"},null,512),[[De,t.value.companyDescription]]),k[22]||(k[22]=f("p",{class:"text-xs text-gray-600"},"Beskriv kort, hvad dit firma laver. Bruges af AI'en til at skrive annoncetekster.",-1))]),f("div",Wh,[k[23]||(k[23]=f("label",{class:"text-sm font-medium",for:"audienceDescription"},"Mlgruppe beskrivelse",-1)),xe(f("textarea",{id:"audienceDescription","onUpdate:modelValue":k[3]||(k[3]=K=>t.value.audienceDescription=K),class:"min-h-24 w-full rounded border px-3 py-2"},null,512),[[De,t.value.audienceDescription]]),k[24]||(k[24]=f("p",{class:"text-xs text-gray-600"},"Hvem er dine kunder? Beskriv dem her, s AI'en kan ramme den rigtige tone.",-1))])]),f("details",Jh,[k[39]||(k[39]=ar('<summary class="cursor-pointer list-none [&amp;::-webkit-details-marker]:hidden"><div class="flex items-center justify-between gap-4"><div><h2 class="text-lg font-semibold">Branding</h2><p class="mt-1 text-sm text-gray-600">Definr farver, logo og vrige branding-elementer.</p></div><svg class="h-5 w-5 shrink-0 text-gray-500 transition-transform group-open:rotate-180" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 0 1 1.06.02L10 10.94l3.71-3.71a.75.75 0 1 1 1.06 1.06l-4.24 4.24a.75.75 0 0 1-1.06 0L5.21 8.29a.75.75 0 0 1 .02-1.08Z" clip-rule="evenodd"></path></svg></div></summary>',1)),f("fieldset",Xh,[k[30]||(k[30]=f("div",null,[f("legend",{class:"text-sm font-semibold text-gray-900"},"Farver"),f("p",{class:"mt-1 text-xs text-gray-600"},"Vlg 2 primre farver og (valgfrit) 2 sekundre farver.")],-1)),f("div",Qh,[f("div",Yh,[k[26]||(k[26]=f("label",{class:"text-sm font-medium",for:"primaryColor1"},"Primr farve 1",-1)),xe(f("input",{id:"primaryColor1","onUpdate:modelValue":k[4]||(k[4]=K=>t.value.primaryColor1=K),class:"h-10 w-full",type:"color",required:""},null,512),[[De,t.value.primaryColor1]])]),f("div",Zh,[k[27]||(k[27]=f("label",{class:"text-sm font-medium",for:"primaryColor2"},"Primr farve 2",-1)),xe(f("input",{id:"primaryColor2","onUpdate:modelValue":k[5]||(k[5]=K=>t.value.primaryColor2=K),class:"h-10 w-full",type:"color",required:""},null,512),[[De,t.value.primaryColor2]])]),f("div",ep,[k[28]||(k[28]=f("label",{class:"text-sm font-medium",for:"primaryColor3"},"Sekundr 1",-1)),xe(f("input",{id:"primaryColor3","onUpdate:modelValue":k[6]||(k[6]=K=>t.value.primaryColor3=K),class:"h-10 w-full",type:"color"},null,512),[[De,t.value.primaryColor3]])]),f("div",tp,[k[29]||(k[29]=f("label",{class:"text-sm font-medium",for:"primaryColor4"},"Sekundr 2",-1)),xe(f("input",{id:"primaryColor4","onUpdate:modelValue":k[7]||(k[7]=K=>t.value.primaryColor4=K),class:"h-10 w-full",type:"color"},null,512),[[De,t.value.primaryColor4]])])])]),f("div",np,[k[31]||(k[31]=f("label",{class:"text-sm font-medium",for:"logo"},"Logo (jpg/png/webp)",-1)),f("input",{id:"logo",class:"w-full",type:"file",accept:".png,.jpg,.jpeg,.svg,.webp",onChange:E},null,32),k[32]||(k[32]=f("p",{class:"text-xs text-gray-600"},"Upload dit logo. Kvadratiske formater virker bedst.",-1))]),f("div",sp,[k[33]||(k[33]=f("label",{class:"text-sm font-medium",for:"fonts"},"Skrifttyper",-1)),xe(f("input",{id:"fonts","onUpdate:modelValue":k[8]||(k[8]=K=>t.value.fonts=K),class:"w-full rounded border px-3 py-2"},null,512),[[De,t.value.fonts]]),k[34]||(k[34]=f("p",{class:"text-xs text-gray-600"},"Angiv navnene p dine brand-skrifttyper, f.eks. 'Montserrat' eller 'Lato'.",-1))]),f("div",rp,[k[35]||(k[35]=f("label",{class:"text-sm font-medium",for:"slogan"},"Slogan",-1)),xe(f("input",{id:"slogan","onUpdate:modelValue":k[9]||(k[9]=K=>t.value.slogan=K),class:"w-full rounded border px-3 py-2"},null,512),[[De,t.value.slogan]]),k[36]||(k[36]=f("p",{class:"text-xs text-gray-600"},"Dit firmas officielle slogan eller tagline.",-1))]),f("div",ip,[k[37]||(k[37]=f("label",{class:"text-sm font-medium",for:"visual_guidelines"},"Beskrivelse (visuelle guidelines)",-1)),xe(f("textarea",{id:"visual_guidelines","onUpdate:modelValue":k[10]||(k[10]=K=>t.value.visual_guidelines=K),class:"min-h-24 w-full rounded border px-3 py-2"},null,512),[[De,t.value.visual_guidelines]]),k[38]||(k[38]=f("p",{class:"text-xs text-gray-600"},"Her kan du beskrive specifikke nsker til det visuelle udtryk. F.eks. 'Brug altid en lys baggrund' eller 'Placer logoet i verste hjre hjrne'.",-1))])]),f("details",op,[k[50]||(k[50]=ar('<summary class="cursor-pointer list-none [&amp;::-webkit-details-marker]:hidden"><div class="flex items-center justify-between gap-4"><div><h2 class="text-lg font-semibold">Integrationer</h2><p class="mt-1 text-sm text-gray-600">Opret og administrr integrationer (fx website embed).</p></div><svg class="h-5 w-5 shrink-0 text-gray-500 transition-transform group-open:rotate-180" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 0 1 1.06.02L10 10.94l3.71-3.71a.75.75 0 1 1 1.06 1.06l-4.24 4.24a.75.75 0 0 1-1.06 0L5.21 8.29a.75.75 0 0 1 .02-1.08Z" clip-rule="evenodd"></path></svg></div></summary>',1)),d.value?(P(),R("div",lp,"Indlser...")):(P(),R("div",ap,[f("div",{class:"flex items-center justify-between gap-3"},[k[40]||(k[40]=f("div",{class:"text-sm text-gray-700"}," Integrationer bruges som targets, nr du publicerer en annonce. ",-1)),f("button",{class:"rounded bg-gray-900 px-3 py-2 text-xs font-semibold text-white hover:bg-gray-800",type:"button",onClick:C}," Tilfj integration ")]),m.value?(P(),R("div",up,te(m.value),1)):re("",!0),w.value.open?(P(),R("div",cp,[f("div",dp,[f("div",fp,te(w.value.mode==="create"?"Opret integration":"Rediger integration"),1),f("button",{type:"button",class:"text-xs text-gray-600 hover:text-gray-900",onClick:D},"Luk")]),f("div",hp,[k[41]||(k[41]=f("label",{class:"text-sm font-medium",for:"integrationKey"},"Integrationstype",-1)),xe(f("select",{id:"integrationKey","onUpdate:modelValue":k[11]||(k[11]=K=>w.value.integrationKey=K),class:"w-full rounded border px-3 py-2"},[(P(!0),R(Fe,null,At(h.value,K=>(P(),R("option",{key:K.key,value:K.key},te(K.name),9,pp))),128))],512),[[Ar,w.value.integrationKey]])]),f("div",gp,[k[42]||(k[42]=f("label",{class:"text-sm font-medium",for:"integrationName"},"Navn",-1)),xe(f("input",{id:"integrationName","onUpdate:modelValue":k[12]||(k[12]=K=>w.value.name=K),class:"w-full rounded border px-3 py-2"},null,512),[[De,w.value.name]])]),f("div",mp,[xe(f("input",{id:"integrationActive","onUpdate:modelValue":k[13]||(k[13]=K=>w.value.isActive=K),type:"checkbox",class:"h-4 w-4"},null,512),[[Hs,w.value.isActive]]),k[43]||(k[43]=f("label",{class:"text-sm text-gray-700",for:"integrationActive"},"Aktiv",-1))]),w.value.integrationKey==="website_embed"?(P(),R("div",vp,[k[49]||(k[49]=f("div",null,[f("div",{class:"text-sm font-semibold text-gray-900"},"Embed"),f("p",{class:"mt-1 text-xs text-gray-600"},"Brug embed-koden p dit website. Viser alle annoncer der er valgt til denne integration.")],-1)),f("div",yp,[k[45]||(k[45]=f("label",{class:"text-sm font-medium",for:"embedAdSize"},"Annonceformat",-1)),xe(f("select",{id:"embedAdSize","onUpdate:modelValue":k[14]||(k[14]=K=>w.value.adSize=K),class:"w-full rounded border px-3 py-2"},[k[44]||(k[44]=f("option",{value:""},"Ingen krav",-1)),(P(!0),R(Fe,null,At(_.value,K=>(P(),R("option",{key:`${K.width}x${K.height}`,value:`${K.width}x${K.height}`},te(K.width)+""+te(K.height),9,bp))),128))],512),[[Ar,w.value.adSize]]),k[46]||(k[46]=f("p",{class:"text-xs text-gray-600"},"Hvis du vlger en strrelse, kan kun annoncer i den strrelse udgives til integrationen.",-1))]),f("div",_p,[k[47]||(k[47]=f("label",{class:"text-sm font-medium",for:"embedToken"},"Embed token",-1)),xe(f("input",{id:"embedToken","onUpdate:modelValue":k[15]||(k[15]=K=>w.value.embedToken=K),class:"w-full rounded border px-3 py-2 font-mono text-xs"},null,512),[[De,w.value.embedToken]])]),w.value.id?(P(),R("div",xp,[k[48]||(k[48]=f("label",{class:"text-sm font-medium",for:"embedCode"},"Embed-kode",-1)),f("textarea",{id:"embedCode",readonly:"",class:"min-h-16 w-full rounded border px-3 py-2 font-mono text-xs",value:F(w.value.id)},null,8,wp)])):re("",!0)])):re("",!0),f("div",Sp,[f("button",{class:"rounded bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 disabled:opacity-50",type:"button",disabled:y.value,onClick:ue}," Gem ",8,kp),f("button",{class:"rounded border px-4 py-2 text-sm font-medium",type:"button",onClick:D}," Annuller "),w.value.mode==="edit"&&w.value.id?(P(),R("button",{key:0,class:"ml-auto rounded bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",type:"button",onClick:k[16]||(k[16]=K=>ce(w.value.id))}," Slet ")):re("",!0)])])):re("",!0),g.value.length===0?(P(),R("div",Cp,"Ingen integrationer endnu.")):(P(),R("div",Tp,[(P(!0),R(Fe,null,At(g.value,K=>(P(),R("button",{key:K.id,type:"button",class:"flex items-start justify-between gap-4 rounded border bg-white p-4 text-left hover:bg-gray-50",onClick:Re=>M(K)},[f("div",Ap,[f("div",Pp,te(K.name),1),f("div",Rp,te(K.integration_key),1)]),f("div",null,[K.is_active?(P(),R("span",Ip,"Aktiv")):(P(),R("span",Op,"Inaktiv"))])],8,Ep))),128))]))]))]),f("details",Np,[k[59]||(k[59]=ar('<summary class="cursor-pointer list-none [&amp;::-webkit-details-marker]:hidden"><div class="flex items-center justify-between gap-4"><div><h2 class="text-lg font-semibold">Abonnement</h2><p class="mt-1 text-sm text-gray-600">Overblik over din nuvrende pakke og dit token-forbrug denne mned.</p></div><svg class="h-5 w-5 shrink-0 text-gray-500 transition-transform group-open:rotate-180" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 0 1 1.06.02L10 10.94l3.71-3.71a.75.75 0 1 1 1.06 1.06l-4.24 4.24a.75.75 0 0 1-1.06 0L5.21 8.29a.75.75 0 0 1 .02-1.08Z" clip-rule="evenodd"></path></svg></div></summary>',1)),f("div",Lp,[f("fieldset",$p,[k[54]||(k[54]=f("div",null,[f("legend",{class:"text-sm font-semibold text-gray-900"},"Subscription")],-1)),u.value?(P(),R("div",Dp,[f("div",null,[k[51]||(k[51]=f("div",{class:"text-xs text-gray-600"},"Pakke",-1)),f("div",jp,te(((be=u.value.plan)==null?void 0:be.name)??"-"),1)]),f("div",null,[k[52]||(k[52]=f("div",{class:"text-xs text-gray-600"},"Status",-1)),f("div",Up,[u.value.status==="active"?(P(),R("span",Mp,"Aktiv")):u.value.status==="expired"?(P(),R("span",Hp,"Udlbet")):(P(),R("span",Fp,"Ingen"))])]),u.value.status!=="none"?(P(),R("div",Bp,[k[53]||(k[53]=f("div",{class:"text-xs text-gray-600"},"Token limit pr. mned",-1)),f("div",Vp,te(u.value.tokens_limit.toLocaleString("da-DK")),1)])):re("",!0)])):(P(),R("div",qp,"Indlser..."))]),f("fieldset",zp,[k[58]||(k[58]=f("div",null,[f("legend",{class:"text-sm font-semibold text-gray-900"},"Tokens (denne mned)")],-1)),c.value?(P(),R("div",Kp,[f("div",Gp,[f("div",null,[k[55]||(k[55]=f("div",{class:"text-xs text-gray-600"},"Brugt",-1)),f("div",Wp,te(c.value.used.toLocaleString("da-DK")),1)]),f("div",null,[k[56]||(k[56]=f("div",{class:"text-xs text-gray-600"},"Limit",-1)),f("div",Jp,te(c.value.limit.toLocaleString("da-DK")),1)]),f("div",null,[k[57]||(k[57]=f("div",{class:"text-xs text-gray-600"},"Tilbage",-1)),f("div",Xp,te(c.value.remaining.toLocaleString("da-DK")),1)])]),f("div",Qp,[f("div",Yp,[f("div",null,te(Math.round(c.value.usage_percentage))+"%",1),f("div",null,te(c.value.period),1)]),f("div",Zp,[f("div",{class:mn(["h-2 rounded",c.value.usage_percentage>80?"bg-red-600":c.value.usage_percentage>60?"bg-yellow-500":"bg-green-600"]),style:en({width:Math.min(100,Math.max(0,c.value.usage_percentage))+"%"})},null,6)])]),c.value.status==="none"?(P(),R("div",eg," Ingen aktivt abonnement fundet ")):re("",!0)])):(P(),R("div",tg,"Indlser..."))])])]),f("div",ng,[f("button",{class:"rounded bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 disabled:opacity-50",type:"submit",disabled:i.value}," Gem firma ",8,sg),o.value?(P(),R("div",rg,te(o.value),1)):re("",!0)])],32),f("div",ig,[f("div",og,[k[60]||(k[60]=f("div",{class:"text-sm font-medium"},"Preview",-1)),f("div",lg,[f("div",{class:"h-6 w-6 rounded",style:en({backgroundColor:t.value.primaryColor1})},null,4),f("div",{class:"h-6 w-6 rounded",style:en({backgroundColor:t.value.primaryColor2})},null,4),t.value.primaryColor3?(P(),R("div",{key:0,class:"h-6 w-6 rounded",style:en({backgroundColor:t.value.primaryColor3})},null,4)):re("",!0),t.value.primaryColor4?(P(),R("div",{key:1,class:"h-6 w-6 rounded",style:en({backgroundColor:t.value.primaryColor4})},null,4)):re("",!0)])]),f("div",ag,[f("div",ug,[s.value?(P(),R("img",{key:0,src:s.value,class:"max-h-24 max-w-full"},null,8,cg)):(P(),R("div",dg,"Ingen logo"))]),f("div",fg,[f("div",hg,te(t.value.companyName),1),f("div",pg,te(t.value.companyDescription),1),f("div",gg,te(t.value.audienceDescription),1)])])])])}}}),vg={class:"space-y-6"},yg={class:"grid gap-4 rounded-lg border bg-white p-4"},bg={key:0,class:"rounded border bg-gray-50 p-3 text-sm text-gray-800"},_g={class:"flex items-center justify-between gap-3"},xg={class:"text-xs text-gray-600"},wg={class:"mt-2 grid grid-cols-3 gap-3 text-sm"},Sg={class:"font-semibold"},kg={class:"font-semibold"},Cg={class:"font-semibold"},Tg={key:0,class:"mt-3 rounded bg-yellow-50 p-3 text-sm text-yellow-900"},Eg={class:"grid gap-2"},Ag={class:"grid gap-2"},Pg={key:0,class:"text-xs text-gray-600"},Rg={class:"flex items-center gap-3"},Ig=["disabled"],Og={class:"ml-2 inline-flex items-center gap-2 text-sm text-gray-700"},Ng={key:0,class:"flex items-center gap-2 text-sm text-gray-700"},Lg={key:1,class:"text-sm text-gray-700"},$g={key:0,class:"rounded-lg border bg-white p-4"},Dg={class:"mt-3 whitespace-pre-wrap rounded bg-gray-50 p-3 text-xs text-gray-800"},jg={key:1,class:"rounded-lg border bg-white p-4"},Ug={class:"flex items-center justify-between"},Mg={class:"text-sm text-gray-600"},Hg={key:0,class:"mt-3 rounded border border-red-200 bg-red-50 p-3 text-sm text-red-700"},Fg={key:1,class:"mt-4 space-y-3"},Bg={key:0,class:"flex items-center gap-3"},Vg=["href"],qg=["src"],_o=1e3,zg=mt({__name:"AdPage",setup(e){const t=B(""),n=B(!1),s=B(null),i=B(null),o=B(null),u=B(null),c=B(!1),d=B(null),m=B([]),h=B(null);function g(D){const F=D.target,ue=Array.from(F.files??[]).slice(0,3);m.value=ue}const y=Ne(()=>{if(!d.value)return"";const D=d.value.nanobananaRequest??d.value;return JSON.stringify(D,null,2)}),_=Ne(()=>{var D;return n.value||((D=i.value)==null?void 0:D.status)==="generating"}),w=Ne(()=>h.value?h.value.status!=="active"?!1:h.value.remaining>=_o:!0);async function E(){try{h.value=await ei()}catch{h.value=null}}let A=null;function T(){A&&(window.clearInterval(A),A=null)}async function C(D){const F=await Gl(D);i.value=F.ad,o.value=F.downloadUrl?bt(F.downloadUrl):null,u.value=F.previewUrl?bt(F.previewUrl):null,i.value.status==="success"||i.value.status==="failed"?(T(),s.value=null):s.value="Genererer..."}async function M(){n.value=!0,s.value=null,i.value=null,o.value=null,u.value=null,d.value=null,T();try{const D=await Kl(t.value,{debug:c.value,images:m.value});s.value=D.status,c.value&&(d.value=D.debug??null),await C(D.adId),A=window.setInterval(()=>{C(D.adId).catch(()=>{s.value="Kunne ikke hente status"})},2500)}catch(D){s.value=D instanceof Error?D.message:"Fejl"}finally{n.value=!1}}return On(()=>{T()}),It(()=>{E()}),(D,F)=>(P(),R("div",vg,[F[12]||(F[12]=f("div",null,[f("h1",{class:"text-xl font-semibold"},"Annonce"),f("p",{class:"mt-1 text-sm text-gray-600"},"Skriv teksten til annoncen og generr en PNG.")],-1)),f("div",yg,[h.value?(P(),R("div",bg,[f("div",_g,[F[2]||(F[2]=f("div",{class:"font-medium"},"Tokens (denne mned)",-1)),f("div",xg,te(h.value.period),1)]),f("div",wg,[f("div",null,[F[3]||(F[3]=f("div",{class:"text-xs text-gray-600"},"Brugt",-1)),f("div",Sg,te(h.value.used.toLocaleString("da-DK")),1)]),f("div",null,[F[4]||(F[4]=f("div",{class:"text-xs text-gray-600"},"Limit",-1)),f("div",kg,te(h.value.limit.toLocaleString("da-DK")),1)]),f("div",null,[F[5]||(F[5]=f("div",{class:"text-xs text-gray-600"},"Tilbage",-1)),f("div",Cg,te(h.value.remaining.toLocaleString("da-DK")),1)])]),w.value?re("",!0):(P(),R("div",Tg," Du har ikke nok tokens tilbage til at oprette en annonce. Der krves mindst "+te(_o.toLocaleString("da-DK"))+" tokens. ",1))])):re("",!0),f("div",Eg,[F[6]||(F[6]=f("label",{class:"text-sm font-medium",for:"text"},"Annonce tekst",-1)),xe(f("textarea",{id:"text","onUpdate:modelValue":F[0]||(F[0]=ue=>t.value=ue),class:"min-h-28 w-full rounded border px-3 py-2"},null,512),[[De,t.value]])]),f("div",Ag,[F[7]||(F[7]=f("label",{class:"text-sm font-medium",for:"images"},"Reference billeder (op til 3)",-1)),f("input",{id:"images",class:"w-full",type:"file",accept:".png,.jpg,.jpeg,.webp",multiple:"",onChange:g},null,32),m.value.length?(P(),R("div",Pg,"Valgt: "+te(m.value.length),1)):re("",!0)]),f("div",Rg,[f("button",{class:"rounded bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 disabled:opacity-50",disabled:n.value||t.value.trim()===""||!w.value,onClick:M}," Generr annonce ",8,Ig),f("label",Og,[xe(f("input",{"onUpdate:modelValue":F[1]||(F[1]=ue=>c.value=ue),type:"checkbox",class:"h-4 w-4"},null,512),[[Hs,c.value]]),F[8]||(F[8]=at(" Debug prompt ",-1))]),_.value?(P(),R("div",Ng,[...F[9]||(F[9]=[f("span",{class:"inline-block h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-gray-900"},null,-1),f("span",null,"Genererer annonce...",-1)])])):s.value?(P(),R("div",Lg,te(s.value),1)):re("",!0)])]),d.value?(P(),R("div",$g,[F[10]||(F[10]=f("div",{class:"text-sm font-medium"},"Debug (NanoBanana request JSON)",-1)),f("pre",Dg,te(y.value),1)])):re("",!0),i.value?(P(),R("div",jg,[f("div",Ug,[F[11]||(F[11]=f("div",{class:"text-sm font-medium"},"Status",-1)),f("div",Mg,te(i.value.status),1)]),i.value.status==="failed"?(P(),R("div",Hg,te(i.value.error||"Fejl"),1)):re("",!0),i.value.status==="success"?(P(),R("div",Fg,[o.value?(P(),R("div",Bg,[f("a",{class:"inline-flex rounded bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",href:o.value,target:"_blank",rel:"noopener",download:""},"Download PNG",8,Vg)])):re("",!0),u.value?(P(),R("img",{key:1,src:u.value,class:"w-full max-w-md rounded border"},null,8,qg)):re("",!0)])):re("",!0)])):re("",!0)]))}});function Kg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wl={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(e,t){(function(s,i){e.exports=i()})(window,function(){return function(n){var s={};function i(o){if(s[o])return s[o].exports;var u=s[o]={i:o,l:!1,exports:{}};return n[o].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=n,i.c=s,i.d=function(o,u,c){i.o(o,u)||Object.defineProperty(o,u,{enumerable:!0,get:c})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,u){if(u&1&&(o=i(o)),u&8||u&4&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),u&2&&typeof o!="string")for(var d in o)i.d(c,d,(function(m){return o[m]}).bind(null,d));return c},i.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(u,"a",u),u},i.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},i.p="",i(i.s=2)}([function(n,s,i){var o=this&&this.__extends||function(){var E=function(A,T){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,M){C.__proto__=M}||function(C,M){for(var D in M)M.hasOwnProperty(D)&&(C[D]=M[D])},E(A,T)};return function(A,T){E(A,T);function C(){this.constructor=A}A.prototype=T===null?Object.create(T):(C.prototype=T.prototype,new C)}}();Object.defineProperty(s,"__esModule",{value:!0});var u=256,c=function(){function E(A){A===void 0&&(A="="),this._paddingCharacter=A}return E.prototype.encodedLength=function(A){return this._paddingCharacter?(A+2)/3*4|0:(A*8+5)/6|0},E.prototype.encode=function(A){for(var T="",C=0;C<A.length-2;C+=3){var M=A[C]<<16|A[C+1]<<8|A[C+2];T+=this._encodeByte(M>>>3*6&63),T+=this._encodeByte(M>>>2*6&63),T+=this._encodeByte(M>>>1*6&63),T+=this._encodeByte(M>>>0*6&63)}var D=A.length-C;if(D>0){var M=A[C]<<16|(D===2?A[C+1]<<8:0);T+=this._encodeByte(M>>>3*6&63),T+=this._encodeByte(M>>>2*6&63),D===2?T+=this._encodeByte(M>>>1*6&63):T+=this._paddingCharacter||"",T+=this._paddingCharacter||""}return T},E.prototype.maxDecodedLength=function(A){return this._paddingCharacter?A/4*3|0:(A*6+7)/8|0},E.prototype.decodedLength=function(A){return this.maxDecodedLength(A.length-this._getPaddingLength(A))},E.prototype.decode=function(A){if(A.length===0)return new Uint8Array(0);for(var T=this._getPaddingLength(A),C=A.length-T,M=new Uint8Array(this.maxDecodedLength(C)),D=0,F=0,ue=0,ce=0,Ae=0,V=0,k=0;F<C-4;F+=4)ce=this._decodeChar(A.charCodeAt(F+0)),Ae=this._decodeChar(A.charCodeAt(F+1)),V=this._decodeChar(A.charCodeAt(F+2)),k=this._decodeChar(A.charCodeAt(F+3)),M[D++]=ce<<2|Ae>>>4,M[D++]=Ae<<4|V>>>2,M[D++]=V<<6|k,ue|=ce&u,ue|=Ae&u,ue|=V&u,ue|=k&u;if(F<C-1&&(ce=this._decodeChar(A.charCodeAt(F)),Ae=this._decodeChar(A.charCodeAt(F+1)),M[D++]=ce<<2|Ae>>>4,ue|=ce&u,ue|=Ae&u),F<C-2&&(V=this._decodeChar(A.charCodeAt(F+2)),M[D++]=Ae<<4|V>>>2,ue|=V&u),F<C-3&&(k=this._decodeChar(A.charCodeAt(F+3)),M[D++]=V<<6|k,ue|=k&u),ue!==0)throw new Error("Base64Coder: incorrect characters for decoding");return M},E.prototype._encodeByte=function(A){var T=A;return T+=65,T+=25-A>>>8&6,T+=51-A>>>8&-75,T+=61-A>>>8&-15,T+=62-A>>>8&3,String.fromCharCode(T)},E.prototype._decodeChar=function(A){var T=u;return T+=(42-A&A-44)>>>8&-u+A-43+62,T+=(46-A&A-48)>>>8&-u+A-47+63,T+=(47-A&A-58)>>>8&-u+A-48+52,T+=(64-A&A-91)>>>8&-u+A-65+0,T+=(96-A&A-123)>>>8&-u+A-97+26,T},E.prototype._getPaddingLength=function(A){var T=0;if(this._paddingCharacter){for(var C=A.length-1;C>=0&&A[C]===this._paddingCharacter;C--)T++;if(A.length<4||T>2)throw new Error("Base64Coder: incorrect padding")}return T},E}();s.Coder=c;var d=new c;function m(E){return d.encode(E)}s.encode=m;function h(E){return d.decode(E)}s.decode=h;var g=function(E){o(A,E);function A(){return E!==null&&E.apply(this,arguments)||this}return A.prototype._encodeByte=function(T){var C=T;return C+=65,C+=25-T>>>8&6,C+=51-T>>>8&-75,C+=61-T>>>8&-13,C+=62-T>>>8&49,String.fromCharCode(C)},A.prototype._decodeChar=function(T){var C=u;return C+=(44-T&T-46)>>>8&-u+T-45+62,C+=(94-T&T-96)>>>8&-u+T-95+63,C+=(47-T&T-58)>>>8&-u+T-48+52,C+=(64-T&T-91)>>>8&-u+T-65+0,C+=(96-T&T-123)>>>8&-u+T-97+26,C},A}(c);s.URLSafeCoder=g;var y=new g;function _(E){return y.encode(E)}s.encodeURLSafe=_;function w(E){return y.decode(E)}s.decodeURLSafe=w,s.encodedLength=function(E){return d.encodedLength(E)},s.maxDecodedLength=function(E){return d.maxDecodedLength(E)},s.decodedLength=function(E){return d.decodedLength(E)}},function(n,s,i){Object.defineProperty(s,"__esModule",{value:!0});var o="utf8: invalid string",u="utf8: invalid source encoding";function c(h){for(var g=new Uint8Array(d(h)),y=0,_=0;_<h.length;_++){var w=h.charCodeAt(_);w<128?g[y++]=w:w<2048?(g[y++]=192|w>>6,g[y++]=128|w&63):w<55296?(g[y++]=224|w>>12,g[y++]=128|w>>6&63,g[y++]=128|w&63):(_++,w=(w&1023)<<10,w|=h.charCodeAt(_)&1023,w+=65536,g[y++]=240|w>>18,g[y++]=128|w>>12&63,g[y++]=128|w>>6&63,g[y++]=128|w&63)}return g}s.encode=c;function d(h){for(var g=0,y=0;y<h.length;y++){var _=h.charCodeAt(y);if(_<128)g+=1;else if(_<2048)g+=2;else if(_<55296)g+=3;else if(_<=57343){if(y>=h.length-1)throw new Error(o);y++,g+=4}else throw new Error(o)}return g}s.encodedLength=d;function m(h){for(var g=[],y=0;y<h.length;y++){var _=h[y];if(_&128){var w=void 0;if(_<224){if(y>=h.length)throw new Error(u);var E=h[++y];if((E&192)!==128)throw new Error(u);_=(_&31)<<6|E&63,w=128}else if(_<240){if(y>=h.length-1)throw new Error(u);var E=h[++y],A=h[++y];if((E&192)!==128||(A&192)!==128)throw new Error(u);_=(_&15)<<12|(E&63)<<6|A&63,w=2048}else if(_<248){if(y>=h.length-2)throw new Error(u);var E=h[++y],A=h[++y],T=h[++y];if((E&192)!==128||(A&192)!==128||(T&192)!==128)throw new Error(u);_=(_&15)<<18|(E&63)<<12|(A&63)<<6|T&63,w=65536}else throw new Error(u);if(_<w||_>=55296&&_<=57343)throw new Error(u);if(_>=65536){if(_>1114111)throw new Error(u);_-=65536,g.push(String.fromCharCode(55296|_>>10)),_=56320|_&1023}}g.push(String.fromCharCode(_))}return g.join("")}s.decode=m},function(n,s,i){n.exports=i(3).default},function(n,s,i){i.r(s);class o{constructor(r,l){this.lastId=0,this.prefix=r,this.name=l}create(r){this.lastId++;var l=this.lastId,p=this.prefix+l,b=this.name+"["+l+"]",I=!1,q=function(){I||(r.apply(null,arguments),I=!0)};return this[l]=q,{number:l,id:p,name:b,callback:q}}remove(r){delete this[r.number]}}var u=new o("_pusher_script_","Pusher.ScriptReceivers"),c={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},d=c;class m{constructor(r){this.options=r,this.receivers=r.receivers||u,this.loading={}}load(r,l,p){var b=this;if(b.loading[r]&&b.loading[r].length>0)b.loading[r].push(p);else{b.loading[r]=[p];var I=pe.createScriptRequest(b.getPath(r,l)),q=b.receivers.create(function(ne){if(b.receivers.remove(q),b.loading[r]){var fe=b.loading[r];delete b.loading[r];for(var we=function(He){He||I.cleanup()},Pe=0;Pe<fe.length;Pe++)fe[Pe](ne,we)}});I.send(q)}}getRoot(r){var l,p=pe.getDocument().location.protocol;return r&&r.useTLS||p==="https:"?l=this.options.cdn_https:l=this.options.cdn_http,l.replace(/\/*$/,"")+"/"+this.options.version}getPath(r,l){return this.getRoot(l)+"/"+r+this.options.suffix+".js"}}var h=new o("_pusher_dependencies","Pusher.DependenciesReceivers"),g=new m({cdn_http:d.cdn_http,cdn_https:d.cdn_https,version:d.VERSION,suffix:d.dependency_suffix,receivers:h});const y={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var w={buildLogSuffix:function(a){const r="See:",l=y.urls[a];if(!l)return"";let p;return l.fullUrl?p=l.fullUrl:l.path&&(p=y.baseUrl+l.path),p?`${r} ${p}`:""}},E;(function(a){a.UserAuthentication="user-authentication",a.ChannelAuthorization="channel-authorization"})(E||(E={}));class A extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class T extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class M extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class D extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class F extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class ue extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class ce extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class Ae extends Error{constructor(r,l){super(l),this.status=r,Object.setPrototypeOf(this,new.target.prototype)}}var k=function(a,r,l,p,b){const I=pe.createXHR();I.open("POST",l.endpoint,!0),I.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var q in l.headers)I.setRequestHeader(q,l.headers[q]);if(l.headersProvider!=null){let ne=l.headersProvider();for(var q in ne)I.setRequestHeader(q,ne[q])}return I.onreadystatechange=function(){if(I.readyState===4)if(I.status===200){let ne,fe=!1;try{ne=JSON.parse(I.responseText),fe=!0}catch{b(new Ae(200,`JSON returned from ${p.toString()} endpoint was invalid, yet status code was 200. Data was: ${I.responseText}`),null)}fe&&b(null,ne)}else{let ne="";switch(p){case E.UserAuthentication:ne=w.buildLogSuffix("authenticationEndpoint");break;case E.ChannelAuthorization:ne=`Clients must be authorized to join private or presence channels. ${w.buildLogSuffix("authorizationEndpoint")}`;break}b(new Ae(I.status,`Unable to retrieve auth string from ${p.toString()} endpoint - received status: ${I.status} from ${l.endpoint}. ${ne}`),null)}},I.send(r),I};function be(a){return j(et(a))}var K=String.fromCharCode,Re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ze=function(a){var r=a.charCodeAt(0);return r<128?a:r<2048?K(192|r>>>6)+K(128|r&63):K(224|r>>>12&15)+K(128|r>>>6&63)+K(128|r&63)},et=function(a){return a.replace(/[^\x00-\x7F]/g,Ze)},ee=function(a){var r=[0,2,1][a.length%3],l=a.charCodeAt(0)<<16|(a.length>1?a.charCodeAt(1):0)<<8|(a.length>2?a.charCodeAt(2):0),p=[Re.charAt(l>>>18),Re.charAt(l>>>12&63),r>=2?"=":Re.charAt(l>>>6&63),r>=1?"=":Re.charAt(l&63)];return p.join("")},j=window.btoa||function(a){return a.replace(/[\s\S]{1,3}/g,ee)};class U{constructor(r,l,p,b){this.clear=l,this.timer=r(()=>{this.timer&&(this.timer=b(this.timer))},p)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var Q=U;function de(a){window.clearTimeout(a)}function Se(a){window.clearInterval(a)}class me extends Q{constructor(r,l){super(setTimeout,de,r,function(p){return l(),null})}}class le extends Q{constructor(r,l){super(setInterval,Se,r,function(p){return l(),p})}}var Ke={now(){return Date.now?Date.now():new Date().valueOf()},defer(a){return new me(0,a)},method(a,...r){var l=Array.prototype.slice.call(arguments,1);return function(p){return p[a].apply(p,l.concat(arguments))}}},ge=Ke;function _e(a,...r){for(var l=0;l<r.length;l++){var p=r[l];for(var b in p)p[b]&&p[b].constructor&&p[b].constructor===Object?a[b]=_e(a[b]||{},p[b]):a[b]=p[b]}return a}function N(){for(var a=["Pusher"],r=0;r<arguments.length;r++)typeof arguments[r]=="string"?a.push(arguments[r]):a.push(X(arguments[r]));return a.join(" : ")}function Z(a,r){var l=Array.prototype.indexOf;if(a===null)return-1;if(l&&a.indexOf===l)return a.indexOf(r);for(var p=0,b=a.length;p<b;p++)if(a[p]===r)return p;return-1}function G(a,r){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&r(a[l],l,a)}function se(a){var r=[];return G(a,function(l,p){r.push(p)}),r}function ve(a){var r=[];return G(a,function(l){r.push(l)}),r}function v(a,r,l){for(var p=0;p<a.length;p++)r.call(l||window,a[p],p,a)}function x(a,r){for(var l=[],p=0;p<a.length;p++)l.push(r(a[p],p,a,l));return l}function S(a,r){var l={};return G(a,function(p,b){l[b]=r(p)}),l}function O(a,r){r=r||function(b){return!!b};for(var l=[],p=0;p<a.length;p++)r(a[p],p,a,l)&&l.push(a[p]);return l}function $(a,r){var l={};return G(a,function(p,b){(r&&r(p,b,a,l)||p)&&(l[b]=p)}),l}function L(a){var r=[];return G(a,function(l,p){r.push([p,l])}),r}function J(a,r){for(var l=0;l<a.length;l++)if(r(a[l],l,a))return!0;return!1}function W(a,r){for(var l=0;l<a.length;l++)if(!r(a[l],l,a))return!1;return!0}function z(a){return S(a,function(r){return typeof r=="object"&&(r=X(r)),encodeURIComponent(be(r.toString()))})}function H(a){var r=$(a,function(p){return p!==void 0}),l=x(L(z(r)),ge.method("join","=")).join("&");return l}function oe(a){var r=[],l=[];return function p(b,I){var q,ne,fe;switch(typeof b){case"object":if(!b)return null;for(q=0;q<r.length;q+=1)if(r[q]===b)return{$ref:l[q]};if(r.push(b),l.push(I),Object.prototype.toString.apply(b)==="[object Array]")for(fe=[],q=0;q<b.length;q+=1)fe[q]=p(b[q],I+"["+q+"]");else{fe={};for(ne in b)Object.prototype.hasOwnProperty.call(b,ne)&&(fe[ne]=p(b[ne],I+"["+JSON.stringify(ne)+"]"))}return fe;case"number":case"string":case"boolean":return b}}(a,"$")}function X(a){try{return JSON.stringify(a)}catch{return JSON.stringify(oe(a))}}class ie{constructor(){this.globalLog=r=>{window.console&&window.console.log&&window.console.log(r)}}debug(...r){this.log(this.globalLog,r)}warn(...r){this.log(this.globalLogWarn,r)}error(...r){this.log(this.globalLogError,r)}globalLogWarn(r){window.console&&window.console.warn?window.console.warn(r):this.globalLog(r)}globalLogError(r){window.console&&window.console.error?window.console.error(r):this.globalLogWarn(r)}log(r,...l){var p=N.apply(this,arguments);Ys.log?Ys.log(p):Ys.logToConsole&&r.bind(this)(p)}}var Y=new ie,ye=function(a,r,l,p,b){(l.headers!==void 0||l.headersProvider!=null)&&Y.warn(`To send headers with the ${p.toString()} request, you must use AJAX, rather than JSONP.`);var I=a.nextAuthCallbackID.toString();a.nextAuthCallbackID++;var q=a.getDocument(),ne=q.createElement("script");a.auth_callbacks[I]=function(Pe){b(null,Pe)};var fe="Pusher.auth_callbacks['"+I+"']";ne.src=l.endpoint+"?callback="+encodeURIComponent(fe)+"&"+r;var we=q.getElementsByTagName("head")[0]||q.documentElement;we.insertBefore(ne,we.firstChild)},Ie=ye;class ke{constructor(r){this.src=r}send(r){var l=this,p="Error loading "+l.src;l.script=document.createElement("script"),l.script.id=r.id,l.script.src=l.src,l.script.type="text/javascript",l.script.charset="UTF-8",l.script.addEventListener?(l.script.onerror=function(){r.callback(p)},l.script.onload=function(){r.callback(null)}):l.script.onreadystatechange=function(){(l.script.readyState==="loaded"||l.script.readyState==="complete")&&r.callback(null)},l.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(l.errorScript=document.createElement("script"),l.errorScript.id=r.id+"_error",l.errorScript.text=r.name+"('"+p+"');",l.script.async=l.errorScript.async=!1):l.script.async=!0;var b=document.getElementsByTagName("head")[0];b.insertBefore(l.script,b.firstChild),l.errorScript&&b.insertBefore(l.errorScript,l.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Ge{constructor(r,l){this.url=r,this.data=l}send(r){if(!this.request){var l=H(this.data),p=this.url+"/"+r.number+"?"+l;this.request=pe.createScriptRequest(p),this.request.send(r)}}cleanup(){this.request&&this.request.cleanup()}}var We=function(a,r){return function(l,p){var b="http"+(r?"s":"")+"://",I=b+(a.host||a.options.host)+a.options.path,q=pe.createJSONPRequest(I,l),ne=pe.ScriptReceivers.create(function(fe,we){u.remove(ne),q.cleanup(),we&&we.host&&(a.host=we.host),p&&p(fe,we)});q.send(ne)}},dt={name:"jsonp",getAgent:We},ft=dt;function Nt(a,r,l){var p=a+(r.useTLS?"s":""),b=r.useTLS?r.hostTLS:r.hostNonTLS;return p+"://"+b+l}function vn(a,r){var l="/app/"+a,p="?protocol="+d.PROTOCOL+"&client=js&version="+d.VERSION+(r?"&"+r:"");return l+p}var tt={getInitial:function(a,r){var l=(r.httpPath||"")+vn(a,"flash=false");return Nt("ws",r,l)}},ht={getInitial:function(a,r){var l=(r.httpPath||"/pusher")+vn(a);return Nt("http",r,l)}},os={getInitial:function(a,r){return Nt("http",r,r.httpPath||"/pusher")},getPath:function(a,r){return vn(a)}};class ls{constructor(){this._callbacks={}}get(r){return this._callbacks[qs(r)]}add(r,l,p){var b=qs(r);this._callbacks[b]=this._callbacks[b]||[],this._callbacks[b].push({fn:l,context:p})}remove(r,l,p){if(!r&&!l&&!p){this._callbacks={};return}var b=r?[qs(r)]:se(this._callbacks);l||p?this.removeCallback(b,l,p):this.removeAllCallbacks(b)}removeCallback(r,l,p){v(r,function(b){this._callbacks[b]=O(this._callbacks[b]||[],function(I){return l&&l!==I.fn||p&&p!==I.context}),this._callbacks[b].length===0&&delete this._callbacks[b]},this)}removeAllCallbacks(r){v(r,function(l){delete this._callbacks[l]},this)}}function qs(a){return"_"+a}class Lt{constructor(r){this.callbacks=new ls,this.global_callbacks=[],this.failThrough=r}bind(r,l,p){return this.callbacks.add(r,l,p),this}bind_global(r){return this.global_callbacks.push(r),this}unbind(r,l,p){return this.callbacks.remove(r,l,p),this}unbind_global(r){return r?(this.global_callbacks=O(this.global_callbacks||[],l=>l!==r),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(r,l,p){for(var b=0;b<this.global_callbacks.length;b++)this.global_callbacks[b](r,l);var I=this.callbacks.get(r),q=[];if(p?q.push(l,p):l&&q.push(l),I&&I.length>0)for(var b=0;b<I.length;b++)I[b].fn.apply(I[b].context||window,q);else this.failThrough&&this.failThrough(r,l);return this}}class Xl extends Lt{constructor(r,l,p,b,I){super(),this.initialize=pe.transportConnectionInitializer,this.hooks=r,this.name=l,this.priority=p,this.key=b,this.options=I,this.state="new",this.timeline=I.timeline,this.activityTimeout=I.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var r=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(r,this.options)}catch(l){return ge.defer(()=>{this.onError(l),this.changeState("closed")}),!1}return this.bindListeners(),Y.debug("Connecting",{transport:this.name,url:r}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(r){return this.state==="open"?(ge.defer(()=>{this.socket&&this.socket.send(r)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(r){this.emit("error",{type:"WebSocketError",error:r}),this.timeline.error(this.buildTimelineMessage({error:r.toString()}))}onClose(r){r?this.changeState("closed",{code:r.code,reason:r.reason,wasClean:r.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(r){this.emit("message",r)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=r=>{this.onError(r)},this.socket.onclose=r=>{this.onClose(r)},this.socket.onmessage=r=>{this.onMessage(r)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(r,l){this.state=r,this.timeline.info(this.buildTimelineMessage({state:r,params:l})),this.emit(r,l)}buildTimelineMessage(r){return _e({cid:this.id},r)}}class yn{constructor(r){this.hooks=r}isSupported(r){return this.hooks.isSupported(r)}createConnection(r,l,p,b){return new Xl(this.hooks,r,l,p,b)}}var Ql=new yn({urls:tt,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!pe.getWebSocketAPI()},isSupported:function(){return!!pe.getWebSocketAPI()},getSocket:function(a){return pe.createWebSocket(a)}}),ni={urls:ht,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},si=_e({getSocket:function(a){return pe.HTTPFactory.createStreamingSocket(a)}},ni),ri=_e({getSocket:function(a){return pe.HTTPFactory.createPollingSocket(a)}},ni),ii={isSupported:function(){return pe.isXHRSupported()}},Yl=new yn(_e({},si,ii)),Zl=new yn(_e({},ri,ii)),ea={ws:Ql,xhr_streaming:Yl,xhr_polling:Zl},as=ea,ta=new yn({file:"sockjs",urls:os,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(a,r){return new window.SockJS(a,null,{js_path:g.getPath("sockjs",{useTLS:r.useTLS}),ignore_null_origin:r.ignoreNullOrigin})},beforeOpen:function(a,r){a.send(JSON.stringify({path:r}))}}),oi={isSupported:function(a){var r=pe.isXDRSupported(a.useTLS);return r}},na=new yn(_e({},si,oi)),sa=new yn(_e({},ri,oi));as.xdr_streaming=na,as.xdr_polling=sa,as.sockjs=ta;var ra=as;class ia extends Lt{constructor(){super();var r=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){r.emit("online")},!1),window.addEventListener("offline",function(){r.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var oa=new ia;class la{constructor(r,l,p){this.manager=r,this.transport=l,this.minPingDelay=p.minPingDelay,this.maxPingDelay=p.maxPingDelay,this.pingDelay=void 0}createConnection(r,l,p,b){b=_e({},b,{activityTimeout:this.pingDelay});var I=this.transport.createConnection(r,l,p,b),q=null,ne=function(){I.unbind("open",ne),I.bind("closed",fe),q=ge.now()},fe=we=>{if(I.unbind("closed",fe),we.code===1002||we.code===1003)this.manager.reportDeath();else if(!we.wasClean&&q){var Pe=ge.now()-q;Pe<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(Pe/2,this.minPingDelay))}};return I.bind("open",ne),I}isSupported(r){return this.manager.isAlive()&&this.transport.isSupported(r)}}const li={decodeMessage:function(a){try{var r=JSON.parse(a.data),l=r.data;if(typeof l=="string")try{l=JSON.parse(r.data)}catch{}var p={event:r.event,channel:r.channel,data:l};return r.user_id&&(p.user_id=r.user_id),p}catch(b){throw{type:"MessageParseError",error:b,data:a.data}}},encodeMessage:function(a){return JSON.stringify(a)},processHandshake:function(a){var r=li.decodeMessage(a);if(r.event==="pusher:connection_established"){if(!r.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:r.data.socket_id,activityTimeout:r.data.activity_timeout*1e3}}else{if(r.event==="pusher:error")return{action:this.getCloseAction(r.data),error:this.getCloseError(r.data)};throw"Invalid handshake"}},getCloseAction:function(a){return a.code<4e3?a.code>=1002&&a.code<=1004?"backoff":null:a.code===4e3?"tls_only":a.code<4100?"refused":a.code<4200?"backoff":a.code<4300?"retry":"refused"},getCloseError:function(a){return a.code!==1e3&&a.code!==1001?{type:"PusherError",data:{code:a.code,message:a.reason||a.message}}:null}};var rn=li;class aa extends Lt{constructor(r,l){super(),this.id=r,this.transport=l,this.activityTimeout=l.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(r){return this.transport.send(r)}send_event(r,l,p){var b={event:r,data:l};return p&&(b.channel=p),Y.debug("Event sent",b),this.send(rn.encodeMessage(b))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var r={message:p=>{var b;try{b=rn.decodeMessage(p)}catch(I){this.emit("error",{type:"MessageParseError",error:I,data:p.data})}if(b!==void 0){switch(Y.debug("Event recd",b),b.event){case"pusher:error":this.emit("error",{type:"PusherError",data:b.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",b)}},activity:()=>{this.emit("activity")},error:p=>{this.emit("error",p)},closed:p=>{l(),p&&p.code&&this.handleCloseEvent(p),this.transport=null,this.emit("closed")}},l=()=>{G(r,(p,b)=>{this.transport.unbind(b,p)})};G(r,(p,b)=>{this.transport.bind(b,p)})}handleCloseEvent(r){var l=rn.getCloseAction(r),p=rn.getCloseError(r);p&&this.emit("error",p),l&&this.emit(l,{action:l,error:p})}}class ua{constructor(r,l){this.transport=r,this.callback=l,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=r=>{this.unbindListeners();var l;try{l=rn.processHandshake(r)}catch(p){this.finish("error",{error:p}),this.transport.close();return}l.action==="connected"?this.finish("connected",{connection:new aa(l.id,this.transport),activityTimeout:l.activityTimeout}):(this.finish(l.action,{error:l.error}),this.transport.close())},this.onClosed=r=>{this.unbindListeners();var l=rn.getCloseAction(r)||"backoff",p=rn.getCloseError(r);this.finish(l,{error:p})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(r,l){this.callback(_e({transport:this.transport,action:r},l))}}class ca{constructor(r,l){this.timeline=r,this.options=l||{}}send(r,l){this.timeline.isEmpty()||this.timeline.send(pe.TimelineTransport.getAgent(this,r),l)}}class zs extends Lt{constructor(r,l){super(function(p,b){Y.debug("No callbacks on "+r+" for "+p)}),this.name=r,this.pusher=l,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(r,l){return l(null,{auth:""})}trigger(r,l){if(r.indexOf("client-")!==0)throw new A("Event '"+r+"' does not start with 'client-'");if(!this.subscribed){var p=w.buildLogSuffix("triggeringClientEvents");Y.warn(`Client event triggered before channel 'subscription_succeeded' event . ${p}`)}return this.pusher.send_event(r,l,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(r){var l=r.event,p=r.data;if(l==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(r);else if(l==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(r);else if(l.indexOf("pusher_internal:")!==0){var b={};this.emit(l,p,b)}}handleSubscriptionSucceededEvent(r){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",r.data)}handleSubscriptionCountEvent(r){r.data.subscription_count&&(this.subscriptionCount=r.data.subscription_count),this.emit("pusher:subscription_count",r.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(r,l)=>{r?(this.subscriptionPending=!1,Y.error(r.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:r.message},r instanceof Ae?{status:r.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:l.auth,channel_data:l.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Ks extends zs{authorize(r,l){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:r},l)}}class da{constructor(){this.reset()}get(r){return Object.prototype.hasOwnProperty.call(this.members,r)?{id:r,info:this.members[r]}:null}each(r){G(this.members,(l,p)=>{r(this.get(p))})}setMyID(r){this.myID=r}onSubscription(r){this.members=r.presence.hash,this.count=r.presence.count,this.me=this.get(this.myID)}addMember(r){return this.get(r.user_id)===null&&this.count++,this.members[r.user_id]=r.user_info,this.get(r.user_id)}removeMember(r){var l=this.get(r.user_id);return l&&(delete this.members[r.user_id],this.count--),l}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var fa=function(a,r,l,p){function b(I){return I instanceof l?I:new l(function(q){q(I)})}return new(l||(l=Promise))(function(I,q){function ne(Pe){try{we(p.next(Pe))}catch(He){q(He)}}function fe(Pe){try{we(p.throw(Pe))}catch(He){q(He)}}function we(Pe){Pe.done?I(Pe.value):b(Pe.value).then(ne,fe)}we((p=p.apply(a,r||[])).next())})};class ha extends Ks{constructor(r,l){super(r,l),this.members=new da}authorize(r,l){super.authorize(r,(p,b)=>fa(this,void 0,void 0,function*(){if(!p)if(b=b,b.channel_data!=null){var I=JSON.parse(b.channel_data);this.members.setMyID(I.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let q=w.buildLogSuffix("authorizationEndpoint");Y.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${q}, or the user should be signed in.`),l("Invalid auth response");return}l(p,b)}))}handleEvent(r){var l=r.event;if(l.indexOf("pusher_internal:")===0)this.handleInternalEvent(r);else{var p=r.data,b={};r.user_id&&(b.user_id=r.user_id),this.emit(l,p,b)}}handleInternalEvent(r){var l=r.event,p=r.data;switch(l){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(r);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(r);break;case"pusher_internal:member_added":var b=this.members.addMember(p);this.emit("pusher:member_added",b);break;case"pusher_internal:member_removed":var I=this.members.removeMember(p);I&&this.emit("pusher:member_removed",I);break}}handleSubscriptionSucceededEvent(r){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(r.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var pa=i(1),Gs=i(0);class ga extends Ks{constructor(r,l,p){super(r,l),this.key=null,this.nacl=p}authorize(r,l){super.authorize(r,(p,b)=>{if(p){l(p,b);return}let I=b.shared_secret;if(!I){l(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Gs.decode)(I),delete b.shared_secret,l(null,b)})}trigger(r,l){throw new F("Client events are not currently supported for encrypted channels")}handleEvent(r){var l=r.event,p=r.data;if(l.indexOf("pusher_internal:")===0||l.indexOf("pusher:")===0){super.handleEvent(r);return}this.handleEncryptedEvent(l,p)}handleEncryptedEvent(r,l){if(!this.key){Y.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!l.ciphertext||!l.nonce){Y.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+l);return}let p=Object(Gs.decode)(l.ciphertext);if(p.length<this.nacl.secretbox.overheadLength){Y.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${p.length}`);return}let b=Object(Gs.decode)(l.nonce);if(b.length<this.nacl.secretbox.nonceLength){Y.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${b.length}`);return}let I=this.nacl.secretbox.open(p,b,this.key);if(I===null){Y.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(q,ne)=>{if(q){Y.error(`Failed to make a request to the authEndpoint: ${ne}. Unable to fetch new key, so dropping encrypted event`);return}if(I=this.nacl.secretbox.open(p,b,this.key),I===null){Y.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(r,this.getDataToEmit(I))});return}this.emit(r,this.getDataToEmit(I))}getDataToEmit(r){let l=Object(pa.decode)(r);try{return JSON.parse(l)}catch{return l}}}class ma extends Lt{constructor(r,l){super(),this.state="initialized",this.connection=null,this.key=r,this.options=l,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var p=pe.getNetwork();p.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),p.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(r){return this.connection?this.connection.send(r):!1}send_event(r,l,p){return this.connection?this.connection.send_event(r,l,p):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var r=(l,p)=>{l?this.runner=this.strategy.connect(0,r):p.action==="error"?(this.emit("error",{type:"HandshakeError",error:p.error}),this.timeline.error({handshakeError:p.error})):(this.abortConnecting(),this.handshakeCallbacks[p.action](p))};this.runner=this.strategy.connect(0,r)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var r=this.abandonConnection();r.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(r){this.timeline.info({action:"retry",delay:r}),r>0&&this.emit("connecting_in",Math.round(r/1e3)),this.retryTimer=new me(r||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new me(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new me(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new me(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(r){return _e({},r,{message:l=>{this.resetActivityCheck(),this.emit("message",l)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:l=>{this.emit("error",l)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(r){return _e({},r,{connected:l=>{this.activityTimeout=Math.min(this.options.activityTimeout,l.activityTimeout,l.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(l.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let r=l=>p=>{p.error&&this.emit("error",{type:"WebSocketError",error:p.error}),l(p)};return{tls_only:r(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:r(()=>{this.disconnect()}),backoff:r(()=>{this.retryIn(1e3)}),retry:r(()=>{this.retryIn(0)})}}setConnection(r){this.connection=r;for(var l in this.connectionCallbacks)this.connection.bind(l,this.connectionCallbacks[l]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var r in this.connectionCallbacks)this.connection.unbind(r,this.connectionCallbacks[r]);var l=this.connection;return this.connection=null,l}}updateState(r,l){var p=this.state;if(this.state=r,p!==r){var b=r;b==="connected"&&(b+=" with new socket ID "+l.socket_id),Y.debug("State changed",p+" -> "+b),this.timeline.info({state:r,params:l}),this.emit("state_change",{previous:p,current:r}),this.emit(r,l)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class va{constructor(){this.channels={}}add(r,l){return this.channels[r]||(this.channels[r]=ya(r,l)),this.channels[r]}all(){return ve(this.channels)}find(r){return this.channels[r]}remove(r){var l=this.channels[r];return delete this.channels[r],l}disconnect(){G(this.channels,function(r){r.disconnect()})}}function ya(a,r){if(a.indexOf("private-encrypted-")===0){if(r.config.nacl)return $t.createEncryptedChannel(a,r,r.config.nacl);let l="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",p=w.buildLogSuffix("encryptedChannelSupport");throw new F(`${l}. ${p}`)}else{if(a.indexOf("private-")===0)return $t.createPrivateChannel(a,r);if(a.indexOf("presence-")===0)return $t.createPresenceChannel(a,r);if(a.indexOf("#")===0)throw new T('Cannot create a channel with name "'+a+'".');return $t.createChannel(a,r)}}var ba={createChannels(){return new va},createConnectionManager(a,r){return new ma(a,r)},createChannel(a,r){return new zs(a,r)},createPrivateChannel(a,r){return new Ks(a,r)},createPresenceChannel(a,r){return new ha(a,r)},createEncryptedChannel(a,r,l){return new ga(a,r,l)},createTimelineSender(a,r){return new ca(a,r)},createHandshake(a,r){return new ua(a,r)},createAssistantToTheTransportManager(a,r,l){return new la(a,r,l)}},$t=ba;class ai{constructor(r){this.options=r||{},this.livesLeft=this.options.lives||1/0}getAssistant(r){return $t.createAssistantToTheTransportManager(this,r,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class on{constructor(r,l){this.strategies=r,this.loop=!!l.loop,this.failFast=!!l.failFast,this.timeout=l.timeout,this.timeoutLimit=l.timeoutLimit}isSupported(){return J(this.strategies,ge.method("isSupported"))}connect(r,l){var p=this.strategies,b=0,I=this.timeout,q=null,ne=(fe,we)=>{we?l(null,we):(b=b+1,this.loop&&(b=b%p.length),b<p.length?(I&&(I=I*2,this.timeoutLimit&&(I=Math.min(I,this.timeoutLimit))),q=this.tryStrategy(p[b],r,{timeout:I,failFast:this.failFast},ne)):l(!0))};return q=this.tryStrategy(p[b],r,{timeout:I,failFast:this.failFast},ne),{abort:function(){q.abort()},forceMinPriority:function(fe){r=fe,q&&q.forceMinPriority(fe)}}}tryStrategy(r,l,p,b){var I=null,q=null;return p.timeout>0&&(I=new me(p.timeout,function(){q.abort(),b(!0)})),q=r.connect(l,function(ne,fe){ne&&I&&I.isRunning()&&!p.failFast||(I&&I.ensureAborted(),b(ne,fe))}),{abort:function(){I&&I.ensureAborted(),q.abort()},forceMinPriority:function(ne){q.forceMinPriority(ne)}}}}class Ws{constructor(r){this.strategies=r}isSupported(){return J(this.strategies,ge.method("isSupported"))}connect(r,l){return _a(this.strategies,r,function(p,b){return function(I,q){if(b[p].error=I,I){xa(b)&&l(!0);return}v(b,function(ne){ne.forceMinPriority(q.transport.priority)}),l(null,q)}})}}function _a(a,r,l){var p=x(a,function(b,I,q,ne){return b.connect(r,l(I,ne))});return{abort:function(){v(p,wa)},forceMinPriority:function(b){v(p,function(I){I.forceMinPriority(b)})}}}function xa(a){return W(a,function(r){return!!r.error})}function wa(a){!a.error&&!a.aborted&&(a.abort(),a.aborted=!0)}class Sa{constructor(r,l,p){this.strategy=r,this.transports=l,this.ttl=p.ttl||1800*1e3,this.usingTLS=p.useTLS,this.timeline=p.timeline}isSupported(){return this.strategy.isSupported()}connect(r,l){var p=this.usingTLS,b=ka(p),I=b&&b.cacheSkipCount?b.cacheSkipCount:0,q=[this.strategy];if(b&&b.timestamp+this.ttl>=ge.now()){var ne=this.transports[b.transport];ne&&(["ws","wss"].includes(b.transport)||I>3?(this.timeline.info({cached:!0,transport:b.transport,latency:b.latency}),q.push(new on([ne],{timeout:b.latency*2+1e3,failFast:!0}))):I++)}var fe=ge.now(),we=q.pop().connect(r,function Pe(He,ds){He?(ui(p),q.length>0?(fe=ge.now(),we=q.pop().connect(r,Pe)):l(He)):(Ca(p,ds.transport.name,ge.now()-fe,I),l(null,ds))});return{abort:function(){we.abort()},forceMinPriority:function(Pe){r=Pe,we&&we.forceMinPriority(Pe)}}}}function Js(a){return"pusherTransport"+(a?"TLS":"NonTLS")}function ka(a){var r=pe.getLocalStorage();if(r)try{var l=r[Js(a)];if(l)return JSON.parse(l)}catch{ui(a)}return null}function Ca(a,r,l,p){var b=pe.getLocalStorage();if(b)try{b[Js(a)]=X({timestamp:ge.now(),transport:r,latency:l,cacheSkipCount:p})}catch{}}function ui(a){var r=pe.getLocalStorage();if(r)try{delete r[Js(a)]}catch{}}class us{constructor(r,{delay:l}){this.strategy=r,this.options={delay:l}}isSupported(){return this.strategy.isSupported()}connect(r,l){var p=this.strategy,b,I=new me(this.options.delay,function(){b=p.connect(r,l)});return{abort:function(){I.ensureAborted(),b&&b.abort()},forceMinPriority:function(q){r=q,b&&b.forceMinPriority(q)}}}}class Nn{constructor(r,l,p){this.test=r,this.trueBranch=l,this.falseBranch=p}isSupported(){var r=this.test()?this.trueBranch:this.falseBranch;return r.isSupported()}connect(r,l){var p=this.test()?this.trueBranch:this.falseBranch;return p.connect(r,l)}}class Ta{constructor(r){this.strategy=r}isSupported(){return this.strategy.isSupported()}connect(r,l){var p=this.strategy.connect(r,function(b,I){I&&p.abort(),l(b,I)});return p}}function Ln(a){return function(){return a.isSupported()}}var Ea=function(a,r,l){var p={};function b(_i,Tu,Eu,Au,Pu){var xi=l(a,_i,Tu,Eu,Au,Pu);return p[_i]=xi,xi}var I=Object.assign({},r,{hostNonTLS:a.wsHost+":"+a.wsPort,hostTLS:a.wsHost+":"+a.wssPort,httpPath:a.wsPath}),q=Object.assign({},I,{useTLS:!0}),ne=Object.assign({},r,{hostNonTLS:a.httpHost+":"+a.httpPort,hostTLS:a.httpHost+":"+a.httpsPort,httpPath:a.httpPath}),fe={loop:!0,timeout:15e3,timeoutLimit:6e4},we=new ai({minPingDelay:1e4,maxPingDelay:a.activityTimeout}),Pe=new ai({lives:2,minPingDelay:1e4,maxPingDelay:a.activityTimeout}),He=b("ws","ws",3,I,we),ds=b("wss","ws",3,q,we),xu=b("sockjs","sockjs",1,ne),pi=b("xhr_streaming","xhr_streaming",1,ne,Pe),wu=b("xdr_streaming","xdr_streaming",1,ne,Pe),gi=b("xhr_polling","xhr_polling",1,ne),Su=b("xdr_polling","xdr_polling",1,ne),mi=new on([He],fe),ku=new on([ds],fe),Cu=new on([xu],fe),vi=new on([new Nn(Ln(pi),pi,wu)],fe),yi=new on([new Nn(Ln(gi),gi,Su)],fe),bi=new on([new Nn(Ln(vi),new Ws([vi,new us(yi,{delay:4e3})]),yi)],fe),Zs=new Nn(Ln(bi),bi,Cu),er;return r.useTLS?er=new Ws([mi,new us(Zs,{delay:2e3})]):er=new Ws([mi,new us(ku,{delay:2e3}),new us(Zs,{delay:5e3})]),new Sa(new Ta(new Nn(Ln(He),er,Zs)),p,{ttl:18e5,timeline:r.timeline,useTLS:r.useTLS})},Aa=Ea,Pa=function(){var a=this;a.timeline.info(a.buildTimelineMessage({transport:a.name+(a.options.useTLS?"s":"")})),a.hooks.isInitialized()?a.changeState("initialized"):a.hooks.file?(a.changeState("initializing"),g.load(a.hooks.file,{useTLS:a.options.useTLS},function(r,l){a.hooks.isInitialized()?(a.changeState("initialized"),l(!0)):(r&&a.onError(r),a.onClose(),l(!1))})):a.onClose()},Ra={getRequest:function(a){var r=new window.XDomainRequest;return r.ontimeout=function(){a.emit("error",new C),a.close()},r.onerror=function(l){a.emit("error",l),a.close()},r.onprogress=function(){r.responseText&&r.responseText.length>0&&a.onChunk(200,r.responseText)},r.onload=function(){r.responseText&&r.responseText.length>0&&a.onChunk(200,r.responseText),a.emit("finished",200),a.close()},r},abortRequest:function(a){a.ontimeout=a.onerror=a.onprogress=a.onload=null,a.abort()}},Ia=Ra;const Oa=256*1024;class Na extends Lt{constructor(r,l,p){super(),this.hooks=r,this.method=l,this.url=p}start(r){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},pe.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(r)}close(){this.unloader&&(pe.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(r,l){for(;;){var p=this.advanceBuffer(l);if(p)this.emit("chunk",{status:r,data:p});else break}this.isBufferTooLong(l)&&this.emit("buffer_too_long")}advanceBuffer(r){var l=r.slice(this.position),p=l.indexOf(`
`);return p!==-1?(this.position+=p+1,l.slice(0,p)):null}isBufferTooLong(r){return this.position===r.length&&r.length>Oa}}var Xs;(function(a){a[a.CONNECTING=0]="CONNECTING",a[a.OPEN=1]="OPEN",a[a.CLOSED=3]="CLOSED"})(Xs||(Xs={}));var ln=Xs,La=1;class $a{constructor(r,l){this.hooks=r,this.session=di(1e3)+"/"+Ma(8),this.location=Da(l),this.readyState=ln.CONNECTING,this.openStream()}send(r){return this.sendRaw(JSON.stringify([r]))}ping(){this.hooks.sendHeartbeat(this)}close(r,l){this.onClose(r,l,!0)}sendRaw(r){if(this.readyState===ln.OPEN)try{return pe.createSocketRequest("POST",ci(ja(this.location,this.session))).start(r),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(r,l,p){this.closeStream(),this.readyState=ln.CLOSED,this.onclose&&this.onclose({code:r,reason:l,wasClean:p})}onChunk(r){if(r.status===200){this.readyState===ln.OPEN&&this.onActivity();var l,p=r.data.slice(0,1);switch(p){case"o":l=JSON.parse(r.data.slice(1)||"{}"),this.onOpen(l);break;case"a":l=JSON.parse(r.data.slice(1)||"[]");for(var b=0;b<l.length;b++)this.onEvent(l[b]);break;case"m":l=JSON.parse(r.data.slice(1)||"null"),this.onEvent(l);break;case"h":this.hooks.onHeartbeat(this);break;case"c":l=JSON.parse(r.data.slice(1)||"[]"),this.onClose(l[0],l[1],!0);break}}}onOpen(r){this.readyState===ln.CONNECTING?(r&&r.hostname&&(this.location.base=Ua(this.location.base,r.hostname)),this.readyState=ln.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(r){this.readyState===ln.OPEN&&this.onmessage&&this.onmessage({data:r})}onActivity(){this.onactivity&&this.onactivity()}onError(r){this.onerror&&this.onerror(r)}openStream(){this.stream=pe.createSocketRequest("POST",ci(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",r=>{this.onChunk(r)}),this.stream.bind("finished",r=>{this.hooks.onFinished(this,r)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(r){ge.defer(()=>{this.onError(r),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Da(a){var r=/([^\?]*)\/*(\??.*)/.exec(a);return{base:r[1],queryString:r[2]}}function ja(a,r){return a.base+"/"+r+"/xhr_send"}function ci(a){var r=a.indexOf("?")===-1?"?":"&";return a+r+"t="+ +new Date+"&n="+La++}function Ua(a,r){var l=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(a);return l[1]+r+l[3]}function di(a){return pe.randomInt(a)}function Ma(a){for(var r=[],l=0;l<a;l++)r.push(di(32).toString(32));return r.join("")}var Ha=$a,Fa={getReceiveURL:function(a,r){return a.base+"/"+r+"/xhr_streaming"+a.queryString},onHeartbeat:function(a){a.sendRaw("[]")},sendHeartbeat:function(a){a.sendRaw("[]")},onFinished:function(a,r){a.onClose(1006,"Connection interrupted ("+r+")",!1)}},Ba=Fa,Va={getReceiveURL:function(a,r){return a.base+"/"+r+"/xhr"+a.queryString},onHeartbeat:function(){},sendHeartbeat:function(a){a.sendRaw("[]")},onFinished:function(a,r){r===200?a.reconnect():a.onClose(1006,"Connection interrupted ("+r+")",!1)}},qa=Va,za={getRequest:function(a){var r=pe.getXHRAPI(),l=new r;return l.onreadystatechange=l.onprogress=function(){switch(l.readyState){case 3:l.responseText&&l.responseText.length>0&&a.onChunk(l.status,l.responseText);break;case 4:l.responseText&&l.responseText.length>0&&a.onChunk(l.status,l.responseText),a.emit("finished",l.status),a.close();break}},l},abortRequest:function(a){a.onreadystatechange=null,a.abort()}},Ka=za,Ga={createStreamingSocket(a){return this.createSocket(Ba,a)},createPollingSocket(a){return this.createSocket(qa,a)},createSocket(a,r){return new Ha(a,r)},createXHR(a,r){return this.createRequest(Ka,a,r)},createRequest(a,r,l){return new Na(a,r,l)}},fi=Ga;fi.createXDR=function(a,r){return this.createRequest(Ia,a,r)};var Wa=fi,Ja={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u,DependenciesReceivers:h,getDefaultStrategy:Aa,Transports:ra,transportConnectionInitializer:Pa,HTTPFactory:Wa,TimelineTransport:ft,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(a){window.Pusher=a;var r=()=>{this.onDocumentBody(a.ready)};window.JSON?r():g.load("json2",{},r)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:k,jsonp:Ie}},onDocumentBody(a){document.body?a():setTimeout(()=>{this.onDocumentBody(a)},0)},createJSONPRequest(a,r){return new Ge(a,r)},createScriptRequest(a){return new ke(a)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var a=this.getXHRAPI();return new a},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return oa},createWebSocket(a){var r=this.getWebSocketAPI();return new r(a)},createSocketRequest(a,r){if(this.isXHRSupported())return this.HTTPFactory.createXHR(a,r);if(this.isXDRSupported(r.indexOf("https:")===0))return this.HTTPFactory.createXDR(a,r);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var a=this.getXHRAPI();return!!a&&new a().withCredentials!==void 0},isXDRSupported(a){var r=a?"https:":"http:",l=this.getProtocol();return!!window.XDomainRequest&&l===r},addUnloadListener(a){window.addEventListener!==void 0?window.addEventListener("unload",a,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",a)},removeUnloadListener(a){window.addEventListener!==void 0?window.removeEventListener("unload",a,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",a)},randomInt(a){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*a)}},pe=Ja,Qs;(function(a){a[a.ERROR=3]="ERROR",a[a.INFO=6]="INFO",a[a.DEBUG=7]="DEBUG"})(Qs||(Qs={}));var cs=Qs;class Xa{constructor(r,l,p){this.key=r,this.session=l,this.events=[],this.options=p||{},this.sent=0,this.uniqueID=0}log(r,l){r<=this.options.level&&(this.events.push(_e({},l,{timestamp:ge.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(r){this.log(cs.ERROR,r)}info(r){this.log(cs.INFO,r)}debug(r){this.log(cs.DEBUG,r)}isEmpty(){return this.events.length===0}send(r,l){var p=_e({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],r(p,(b,I)=>{b||this.sent++,l&&l(b,I)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Qa{constructor(r,l,p,b){this.name=r,this.priority=l,this.transport=p,this.options=b||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(r,l){if(this.isSupported()){if(this.priority<r)return hi(new M,l)}else return hi(new ce,l);var p=!1,b=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),I=null,q=function(){b.unbind("initialized",q),b.connect()},ne=function(){I=$t.createHandshake(b,function(He){p=!0,Pe(),l(null,He)})},fe=function(He){Pe(),l(He)},we=function(){Pe();var He;He=X(b),l(new D(He))},Pe=function(){b.unbind("initialized",q),b.unbind("open",ne),b.unbind("error",fe),b.unbind("closed",we)};return b.bind("initialized",q),b.bind("open",ne),b.bind("error",fe),b.bind("closed",we),b.initialize(),{abort:()=>{p||(Pe(),I?I.close():b.close())},forceMinPriority:He=>{p||this.priority<He&&(I?I.close():b.close())}}}}function hi(a,r){return ge.defer(function(){r(a)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Ya}=pe;var Za=function(a,r,l,p,b,I){var q=Ya[l];if(!q)throw new ue(l);var ne=(!a.enabledTransports||Z(a.enabledTransports,r)!==-1)&&(!a.disabledTransports||Z(a.disabledTransports,r)===-1),fe;return ne?(b=Object.assign({ignoreNullOrigin:a.ignoreNullOrigin},b),fe=new Qa(r,p,I?I.getAssistant(q):q,b)):fe=eu,fe},eu={isSupported:function(){return!1},connect:function(a,r){var l=ge.defer(function(){r(new ce)});return{abort:function(){l.ensureAborted()},forceMinPriority:function(){}}}};function tu(a){if(a==null)throw"You must pass an options object";if(a.cluster==null)throw"Options object must provide a cluster";"disableStats"in a&&Y.warn("The disableStats option is deprecated in favor of enableStats")}const nu=(a,r)=>{var l="socket_id="+encodeURIComponent(a.socketId);for(var p in r.params)l+="&"+encodeURIComponent(p)+"="+encodeURIComponent(r.params[p]);if(r.paramsProvider!=null){let b=r.paramsProvider();for(var p in b)l+="&"+encodeURIComponent(p)+"="+encodeURIComponent(b[p])}return l};var su=a=>{if(typeof pe.getAuthorizers()[a.transport]>"u")throw`'${a.transport}' is not a recognized auth transport`;return(r,l)=>{const p=nu(r,a);pe.getAuthorizers()[a.transport](pe,p,a,E.UserAuthentication,l)}};const ru=(a,r)=>{var l="socket_id="+encodeURIComponent(a.socketId);l+="&channel_name="+encodeURIComponent(a.channelName);for(var p in r.params)l+="&"+encodeURIComponent(p)+"="+encodeURIComponent(r.params[p]);if(r.paramsProvider!=null){let b=r.paramsProvider();for(var p in b)l+="&"+encodeURIComponent(p)+"="+encodeURIComponent(b[p])}return l};var iu=a=>{if(typeof pe.getAuthorizers()[a.transport]>"u")throw`'${a.transport}' is not a recognized auth transport`;return(r,l)=>{const p=ru(r,a);pe.getAuthorizers()[a.transport](pe,p,a,E.ChannelAuthorization,l)}};const ou=(a,r,l)=>{const p={authTransport:r.transport,authEndpoint:r.endpoint,auth:{params:r.params,headers:r.headers}};return(b,I)=>{const q=a.channel(b.channelName);l(q,p).authorize(b.socketId,I)}};function lu(a,r){let l={activityTimeout:a.activityTimeout||d.activityTimeout,cluster:a.cluster,httpPath:a.httpPath||d.httpPath,httpPort:a.httpPort||d.httpPort,httpsPort:a.httpsPort||d.httpsPort,pongTimeout:a.pongTimeout||d.pongTimeout,statsHost:a.statsHost||d.stats_host,unavailableTimeout:a.unavailableTimeout||d.unavailableTimeout,wsPath:a.wsPath||d.wsPath,wsPort:a.wsPort||d.wsPort,wssPort:a.wssPort||d.wssPort,enableStats:fu(a),httpHost:au(a),useTLS:du(a),wsHost:uu(a),userAuthenticator:hu(a),channelAuthorizer:gu(a,r)};return"disabledTransports"in a&&(l.disabledTransports=a.disabledTransports),"enabledTransports"in a&&(l.enabledTransports=a.enabledTransports),"ignoreNullOrigin"in a&&(l.ignoreNullOrigin=a.ignoreNullOrigin),"timelineParams"in a&&(l.timelineParams=a.timelineParams),"nacl"in a&&(l.nacl=a.nacl),l}function au(a){return a.httpHost?a.httpHost:a.cluster?`sockjs-${a.cluster}.pusher.com`:d.httpHost}function uu(a){return a.wsHost?a.wsHost:cu(a.cluster)}function cu(a){return`ws-${a}.pusher.com`}function du(a){return pe.getProtocol()==="https:"?!0:a.forceTLS!==!1}function fu(a){return"enableStats"in a?a.enableStats:"disableStats"in a?!a.disableStats:!1}function hu(a){const r=Object.assign(Object.assign({},d.userAuthentication),a.userAuthentication);return"customHandler"in r&&r.customHandler!=null?r.customHandler:su(r)}function pu(a,r){let l;return"channelAuthorization"in a?l=Object.assign(Object.assign({},d.channelAuthorization),a.channelAuthorization):(l={transport:a.authTransport||d.authTransport,endpoint:a.authEndpoint||d.authEndpoint},"auth"in a&&("params"in a.auth&&(l.params=a.auth.params),"headers"in a.auth&&(l.headers=a.auth.headers)),"authorizer"in a&&(l.customHandler=ou(r,l,a.authorizer))),l}function gu(a,r){const l=pu(a,r);return"customHandler"in l&&l.customHandler!=null?l.customHandler:iu(l)}class mu extends Lt{constructor(r){super(function(l,p){Y.debug(`No callbacks on watchlist events for ${l}`)}),this.pusher=r,this.bindWatchlistInternalEvent()}handleEvent(r){r.data.events.forEach(l=>{this.emit(l.name,l)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",r=>{var l=r.event;l==="pusher_internal:watchlist_events"&&this.handleEvent(r)})}}function vu(){let a,r;return{promise:new Promise((p,b)=>{a=p,r=b}),resolve:a,reject:r}}var yu=vu;class bu extends Lt{constructor(r){super(function(l,p){Y.debug("No callbacks on user for "+l)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(l,p)=>{if(l){Y.warn(`Error during signin: ${l}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:p.auth,user_data:p.user_data})},this.pusher=r,this.pusher.connection.bind("state_change",({previous:l,current:p})=>{l!=="connected"&&p==="connected"&&this._signin(),l==="connected"&&p!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new mu(r),this.pusher.connection.bind("message",l=>{var p=l.event;p==="pusher:signin_success"&&this._onSigninSuccess(l.data),this.serverToUserChannel&&this.serverToUserChannel.name===l.channel&&this.serverToUserChannel.handleEvent(l)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(r){try{this.user_data=JSON.parse(r.user_data)}catch{Y.error(`Failed parsing user data after signin: ${r.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Y.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const r=l=>{l.subscriptionPending&&l.subscriptionCancelled?l.reinstateSubscription():!l.subscriptionPending&&this.pusher.connection.state==="connected"&&l.subscribe()};this.serverToUserChannel=new zs(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((l,p)=>{l.indexOf("pusher_internal:")===0||l.indexOf("pusher:")===0||this.emit(l,p)}),r(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:r,resolve:l}=yu();r.done=!1;const p=()=>{r.done=!0};r.then(p).catch(p),this.signinDonePromise=r,this._signinDoneResolve=l}}class qe{static ready(){qe.isReady=!0;for(var r=0,l=qe.instances.length;r<l;r++)qe.instances[r].connect()}static getClientFeatures(){return se($({ws:pe.Transports.ws},function(r){return r.isSupported({})}))}constructor(r,l){_u(r),tu(l),this.key=r,this.config=lu(l,this),this.channels=$t.createChannels(),this.global_emitter=new Lt,this.sessionID=pe.randomInt(1e9),this.timeline=new Xa(this.key,this.sessionID,{cluster:this.config.cluster,features:qe.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:cs.INFO,version:d.VERSION}),this.config.enableStats&&(this.timelineSender=$t.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+pe.TimelineTransport.name}));var p=b=>pe.getDefaultStrategy(this.config,b,Za);this.connection=$t.createConnectionManager(this.key,{getStrategy:p,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",b=>{var I=b.event,q=I.indexOf("pusher_internal:")===0;if(b.channel){var ne=this.channel(b.channel);ne&&ne.handleEvent(b)}q||this.global_emitter.emit(b.event,b.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",b=>{Y.warn(b)}),qe.instances.push(this),this.timeline.info({instances:qe.instances.length}),this.user=new bu(this),qe.isReady&&this.connect()}channel(r){return this.channels.find(r)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var r=this.connection.isUsingTLS(),l=this.timelineSender;this.timelineSenderTimer=new le(6e4,function(){l.send(r)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(r,l,p){return this.global_emitter.bind(r,l,p),this}unbind(r,l,p){return this.global_emitter.unbind(r,l,p),this}bind_global(r){return this.global_emitter.bind_global(r),this}unbind_global(r){return this.global_emitter.unbind_global(r),this}unbind_all(r){return this.global_emitter.unbind_all(),this}subscribeAll(){var r;for(r in this.channels.channels)this.channels.channels.hasOwnProperty(r)&&this.subscribe(r)}subscribe(r){var l=this.channels.add(r,this);return l.subscriptionPending&&l.subscriptionCancelled?l.reinstateSubscription():!l.subscriptionPending&&this.connection.state==="connected"&&l.subscribe(),l}unsubscribe(r){var l=this.channels.find(r);l&&l.subscriptionPending?l.cancelSubscription():(l=this.channels.remove(r),l&&l.subscribed&&l.unsubscribe())}send_event(r,l,p){return this.connection.send_event(r,l,p)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}qe.instances=[],qe.isReady=!1,qe.logToConsole=!1,qe.Runtime=pe,qe.ScriptReceivers=pe.ScriptReceivers,qe.DependenciesReceivers=pe.DependenciesReceivers,qe.auth_callbacks=pe.auth_callbacks;var Ys=s.default=qe;function _u(a){if(a==null)throw"You must pass your app key when you instantiate Pusher."}pe.setup(qe)}])})})(Wl);var Gg=Wl.exports;const Wg=Kg(Gg),Jg={class:"space-y-6"},Xg={class:"md:flex md:items-start md:justify-between md:gap-4"},Qg={class:"mt-4 md:mt-0"},Yg={key:1,class:"space-y-2"},Zg={key:0,class:"rounded border border-red-200 bg-red-50 p-3 text-sm text-red-700"},em={key:0,class:"px-4 py-6 text-sm text-gray-700"},tm={key:1,class:"px-4 py-6 text-sm text-gray-700"},nm={key:2,class:"grid grid-cols-1 items-start gap-4 sm:grid-cols-2 md:grid-cols-3"},sm={class:"w-full bg-gray-100 relative"},rm=["src"],im={key:1,class:"flex min-h-[220px] w-full items-center justify-center"},om={class:"text-center text-xs text-gray-500"},lm={key:0,class:"flex flex-col items-center gap-2"},am={key:1},um={key:2},cm={class:"absolute bottom-2 right-2 flex items-center justify-end gap-2"},dm=["href"],fm=["onClick"],hm=["disabled","onClick"],pm=["disabled","onClick"],gm={key:0,class:"border-t bg-white px-3 py-2 text-xs text-gray-600"},mm={key:1,class:"border-t bg-white px-3 py-2"},vm={class:"space-y-1 text-xs text-gray-700"},ym={key:0},bm={class:"w-full max-w-3xl rounded-lg bg-white shadow"},_m={class:"p-4"},xm=["src"],wm={class:"mt-4 flex items-center justify-between gap-2"},Sm={key:0,class:"mb-3 text-xs text-gray-600"},km=["href"],Cm={class:"w-full max-w-xl rounded-lg bg-white shadow"},Tm={class:"p-4"},Em={key:0,class:"mb-4 rounded border border-red-200 bg-red-50 p-3 text-sm text-red-700"},Am={key:1,class:"text-sm text-gray-700"},Pm={key:2},Rm={key:0,class:"text-sm text-gray-700"},Im={key:1,class:"space-y-3"},Om=["value"],Nm={class:"min-w-0"},Lm={class:"text-sm font-medium text-gray-900"},$m={class:"text-xs text-gray-500"},Dm={class:"ml-auto"},jm={key:0,class:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20"},Um={key:1,class:"inline-flex items-center rounded-full bg-gray-50 px-2 py-1 text-xs font-medium text-gray-700 ring-1 ring-inset ring-gray-600/20"},Mm={class:"mt-4 flex items-center justify-end gap-2"},Hm=["disabled"],Fm=1e3,Bm=mt({__name:"AdsPage",setup(e){const t=Fl(),n=B([]),s=B(!0),i=B(null),o=B(!1),u=B(null),c=B(null),d=B(null),m=B(!1),h=B(!1),g=B(!1),y=B(null),_=B(null),w=B([]),E=B([]),A=Ne(()=>{const U=fn.value;return U?U.status!=="active"?!1:U.remaining>=Fm:!0}),T=Ne(()=>n.value.some(U=>U.status==="generating"||U.status==="creating"));function C(U){const Q=U.localFilePath;Q&&(u.value=bt(Q),c.value=U,o.value=!0)}function M(U){const Q=U.localFilePath;if(Q)return bt(Q)}function D(){o.value=!1,u.value=null,c.value=null}async function F(U){m.value=!0,y.value=null,_.value=U.id,E.value=(U.integrationInstances??[]).map(Q=>Q.id),h.value=!0;try{const Q=await ql();w.value=Q.instances.filter(de=>de.is_active)}catch(Q){y.value=Q instanceof Error?Q.message:"Kunne ikke hente integrationer",w.value=[]}finally{h.value=!1}}function ue(){m.value=!1,y.value=null,_.value=null,w.value=[],E.value=[]}async function ce(){if(_.value){g.value=!0,y.value=null;try{const U=Array.from(new Set(E.value.map(me=>Number(me)))),Q=await bh(_.value,U),de=[...n.value],Se=de.findIndex(me=>me.id===_.value);Se!==-1?(de[Se]={...de[Se],...Q.ad},n.value=de):await V(),ue()}catch(U){y.value=U instanceof Error?U.message:"Kunne ikke gemme"}finally{g.value=!1}}}async function Ae(U){if(window.confirm("Vil du slette annoncen?")){d.value=U.id;try{await yh(U.id),await V()}catch(de){i.value=de instanceof Error?de.message:"Kunne ikke slette annoncen"}finally{d.value=null}}}async function V(){s.value=!0,i.value=null;try{const U=await vh();console.log("API response for ads:",U.ads),n.value=U.ads,j()}catch(U){i.value=U instanceof Error?U.message:"Kunne ikke hente annoncer",n.value=[]}finally{s.value=!1}}let k=null,be=null,K=null,Re=!1;function Ze(){if(K&&be)try{be.unsubscribe(K.name)}catch{}if(K=null,be)try{be.disconnect()}catch{}be=null,Re=!1}function et(){const U=rt.value,Q=Ft.value,de="84e9dd9f14680550e07d",Se="eu";if(!U||!Q||!de||!Se){Re=!1;return}Re=!0,ee(),be=new Wg(de,{cluster:Se,channelAuthorization:{endpoint:`${window.location.origin}/api/broadcasting/auth`,transport:"ajax",headers:{authorization:`Bearer ${Q}`}}});const me=`private-company.${U}`;K=be.subscribe(me),K.bind("ad.updated",le=>{const Ke=String((le==null?void 0:le.id)??"");if(!Ke)return;const ge=[...n.value],_e=ge.findIndex(N=>N.id===Ke);_e!==-1?(ge[_e]={...ge[_e],status:(le==null?void 0:le.status)??ge[_e].status,localFilePath:(le==null?void 0:le.localFilePath)??ge[_e].localFilePath,updatedAt:(le==null?void 0:le.updatedAt)??ge[_e].updatedAt},n.value=ge):V().catch(()=>{})})}function ee(){k&&(window.clearInterval(k),k=null)}function j(){ee(),!Re&&T.value&&(k=window.setInterval(()=>{V().catch(()=>{})},1e4))}return It(async()=>{await V(),et(),t.query.created}),On(()=>{ee(),Ze()}),It(()=>{V(),ti().catch(()=>null)}),(U,Q)=>{var Se,me;const de=rl("RouterLink");return P(),R("div",Jg,[f("div",Xg,[Q[3]||(Q[3]=f("div",null,[f("h1",{class:"text-xl font-semibold"},"Annoncer"),f("p",{class:"mt-1 text-sm text-gray-600"},"Oversigt over dine annoncer og deres status.")],-1)),f("div",Qg,[A.value?(P(),Xr(de,{key:0,class:"flex w-full justify-center rounded bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 md:w-auto",to:"/ads/new"},{default:kt(()=>[...Q[1]||(Q[1]=[at(" Opret annonce ",-1)])]),_:1})):(P(),R("div",Yg,[...Q[2]||(Q[2]=[f("button",{class:"flex w-full cursor-not-allowed justify-center rounded bg-green-600 px-4 py-2 text-sm font-medium text-white opacity-50 md:w-auto",type:"button",disabled:""}," Opret annonce ",-1)])]))])]),i.value?(P(),R("div",Zg,te(i.value),1)):re("",!0),f("div",null,[s.value?(P(),R("div",em,"Henter...")):n.value.length===0?(P(),R("div",tm,"Ingen annoncer endnu.")):(P(),R("div",nm,[(P(!0),R(Fe,null,At(n.value,le=>{var Ke;return P(),R("div",{key:le.id,class:"overflow-hidden rounded-lg border bg-white shadow-sm"},[f("div",sm,[le.localFilePath?(P(),R("img",{key:0,src:Je(bt)(le.localFilePath),class:"block w-full h-auto object-contain"},null,8,rm)):(P(),R("div",im,[f("div",om,[le.status==="creating"||le.status==="generating"?(P(),R("div",lm,[...Q[4]||(Q[4]=[f("span",{class:"h-6 w-6 animate-spin rounded-full border-2 border-gray-300 border-t-gray-600"},null,-1),f("span",null,"Genererer...",-1)])])):le.status==="failed"?(P(),R("span",am,"Fejlet")):(P(),R("span",um,"Intet billede"))])])),f("div",cm,[le.status==="success"&&le.localFilePath?(P(),R("a",{key:0,href:M(le),class:"rounded bg-white/80 p-2 text-gray-700 hover:bg-white",title:"Download",download:""},[...Q[5]||(Q[5]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f("polyline",{points:"7 10 12 15 17 10"}),f("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1)])],8,dm)):re("",!0),le.status==="success"&&le.localFilePath?(P(),R("button",{key:1,class:"rounded bg-white/80 p-2 text-gray-700 hover:bg-white",type:"button",title:"Vis",onClick:ge=>C(le)},[...Q[6]||(Q[6]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,fm)):re("",!0),f("button",{class:"rounded bg-white/80 p-2 text-gray-700 hover:bg-white disabled:opacity-50",type:"button",title:"Publicr",disabled:g.value,onClick:ge=>F(le)},[...Q[7]||(Q[7]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f("polyline",{points:"17 8 12 3 7 8"}),f("line",{x1:"12",y1:"3",x2:"12",y2:"15"})],-1)])],8,hm),f("button",{class:"rounded bg-white/80 p-2 text-red-700 hover:bg-white disabled:opacity-50",type:"button",title:"Slet",disabled:d.value===le.id,onClick:ge=>Ae(le)},[...Q[8]||(Q[8]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,pm)])]),le.imageWidth&&le.imageHeight?(P(),R("div",gm," Strrelse: "+te(le.imageWidth)+""+te(le.imageHeight)+" px ",1)):re("",!0),(((Ke=le.integrationInstances)==null?void 0:Ke.length)??0)>0?(P(),R("div",mm,[f("div",vm,[(P(!0),R(Fe,null,At(le.integrationInstances,ge=>(P(),R("div",{key:ge.id},[at(" Udgivet p "+te(ge.name)+" ",1),ge.published_at?(P(),R("span",ym,"d. "+te(new Date(ge.published_at).toLocaleDateString("da-DK")),1)):re("",!0)]))),128))])])):re("",!0)])}),128))]))]),o.value?(P(),R("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:Ot(D,["self"])},[f("div",bm,[f("div",{class:"flex items-center justify-between border-b px-4 py-3"},[Q[9]||(Q[9]=f("div",{class:"text-sm font-medium"},"Annonce preview",-1)),f("button",{class:"rounded px-2 py-1 text-sm hover:bg-gray-100",type:"button",onClick:D}," Luk ")]),f("div",_m,[u.value?(P(),R("img",{key:0,src:u.value,class:"mx-auto max-h-[70vh] w-auto rounded border"},null,8,xm)):re("",!0),f("div",wm,[(Se=c.value)!=null&&Se.imageWidth&&((me=c.value)!=null&&me.imageHeight)?(P(),R("div",Sm," Strrelse: "+te(c.value.imageWidth)+""+te(c.value.imageHeight)+" px ",1)):re("",!0),u.value?(P(),R("a",{key:1,class:"inline-flex rounded bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",href:u.value,target:"_blank",rel:"noopener",download:""}," Download ",8,km)):re("",!0)])])])])):re("",!0),m.value?(P(),R("div",{key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:Ot(ue,["self"])},[f("div",Cm,[f("div",{class:"flex items-center justify-between border-b px-4 py-3"},[Q[10]||(Q[10]=f("div",{class:"text-sm font-medium"},"Publicr annonce",-1)),f("button",{class:"rounded px-2 py-1 text-sm hover:bg-gray-100",type:"button",onClick:ue}," Luk ")]),f("div",Tm,[y.value?(P(),R("div",Em,te(y.value),1)):re("",!0),h.value?(P(),R("div",Am,"Henter...")):(P(),R("div",Pm,[w.value.length===0?(P(),R("div",Rm,"Ingen integrationer endnu.")):(P(),R("div",Im,[(P(!0),R(Fe,null,At(w.value,le=>(P(),R("label",{key:le.id,class:"flex items-start gap-3 rounded border p-3"},[xe(f("input",{type:"checkbox",class:"mt-1 h-4 w-4",value:le.id,"onUpdate:modelValue":Q[0]||(Q[0]=Ke=>E.value=Ke)},null,8,Om),[[Hs,E.value]]),f("div",Nm,[f("div",Lm,te(le.name),1),f("div",$m,te(le.integration_key),1)]),f("div",Dm,[le.is_active?(P(),R("span",jm,"Aktiv")):(P(),R("span",Um,"Inaktiv"))])]))),128))])),f("div",Mm,[f("button",{class:"inline-flex rounded bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 disabled:opacity-50",type:"button",disabled:g.value,onClick:ce}," Gem ",8,Hm),f("button",{class:"inline-flex rounded border px-4 py-2 text-sm font-medium",type:"button",onClick:ue}," Annuller ")])]))])])])):re("",!0)])}}}),Vm=["disabled","title"],qm={key:0,class:"absolute inline-block h-2 w-2 translate-x-3 -translate-y-3 rounded-full bg-red-600"},zm={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-4 w-4","aria-hidden":"true"},Km={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-4 w-4","aria-hidden":"true"},xo=mt({__name:"SpeechToTextButton",props:{modelValue:{},lang:{default:"da-DK"},mode:{default:"append"}},emits:["update:modelValue","error"],setup(e,{emit:t}){const n=e,s=t,i=B(!1);let o=null;const u=Ne(()=>{const _=window;return _.SpeechRecognition??_.webkitSpeechRecognition??null}),c=Ne(()=>!!u.value),d=Ne(()=>c.value?i.value?"Stop optagelse":"Start optagelse":"Talegenkendelse er ikke understttet i denne browser");function m(_){const w=_.trim();if(!w)return n.modelValue;if(n.mode==="replace")return w;const E=n.modelValue??"";return E.trim()?`${E.trim()} ${w}`:w}function h(){if(!u.value)return;const _=new u.value;_.lang=n.lang,_.continuous=!0,_.interimResults=!0,_.onresult=w=>{var A;let E="";for(let T=w.resultIndex;T<w.results.length;T+=1){const C=w.results[T],M=String(((A=C==null?void 0:C[0])==null?void 0:A.transcript)??"");C!=null&&C.isFinal&&(E+=M)}E&&s("update:modelValue",m(E))},_.onerror=w=>{const E=String((w==null?void 0:w.error)??"Unknown speech error");s("error",E),i.value=!1},_.onend=()=>{i.value=!1},o=_,i.value=!0;try{o.start()}catch(w){i.value=!1,s("error",w instanceof Error?w.message:"Could not start speech recognition")}}function g(){if(o)try{o.stop()}finally{o=null,i.value=!1}}function y(){c.value&&(i.value?g():h())}return On(()=>{g()}),(_,w)=>(P(),R("button",{class:"inline-flex h-8 w-8 items-center justify-center rounded border bg-white text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",type:"button",disabled:!c.value,title:d.value,onClick:y},[i.value?(P(),R("span",qm)):re("",!0),i.value?(P(),R("svg",Km,[...w[1]||(w[1]=[f("rect",{x:"7",y:"7",width:"10",height:"10",rx:"2"},null,-1)])])):(P(),R("svg",zm,[...w[0]||(w[0]=[f("path",{d:"M12 14a3 3 0 0 0 3-3V5a3 3 0 0 0-6 0v6a3 3 0 0 0 3 3z"},null,-1),f("path",{d:"M19 11a7 7 0 0 1-14 0"},null,-1),f("line",{x1:"12",y1:"19",x2:"12",y2:"23"},null,-1),f("line",{x1:"8",y1:"23",x2:"16",y2:"23"},null,-1)])]))],8,Vm))}}),Gm={class:"space-y-6"},Wm={class:"grid gap-4 rounded-lg border bg-white p-4"},Jm={class:"grid gap-2"},Xm={class:"flex items-center justify-between gap-3"},Qm={class:"rounded p-3"},Ym={class:"mt-3 grid gap-2"},Zm={class:"flex items-center justify-between gap-3"},ev={class:"rounded border bg-gray-50 p-3"},tv={class:"grid gap-2"},nv={class:"grid gap-1"},sv=["value"],rv={class:"text-xs text-gray-600"},iv={key:0,class:"rounded border border-red-200 bg-red-50 p-3 text-sm text-red-700"},ov={class:"rounded border bg-gray-50 p-3"},lv={class:"grid gap-2"},av={key:0,class:"grid gap-2"},uv={class:"grid grid-cols-3 gap-2 md:grid-cols-6"},cv=["onDragstart","onDrop"],dv=["onClick"],fv=["src"],hv={class:"absolute left-1 top-1 rounded bg-black/70 px-1.5 py-0.5 text-[10px] text-white"},pv={class:"p-1 text-[10px] text-gray-700"},gv={class:"truncate"},mv={class:"space-y-3"},vv={class:"flex flex-col-reverse sm:flex-row gap-3"},yv=["disabled"],bv={class:"hidden ml-2 items-center gap-2 text-sm text-gray-700"},_v={key:0,class:"flex items-center gap-2 text-sm text-gray-700"},xv={key:1,class:"text-sm text-gray-700"},wv={key:0,class:"rounded-lg border bg-white p-4"},Sv={class:"mt-3 whitespace-pre-wrap rounded bg-gray-50 p-3 text-xs text-gray-800"},kv={key:1,class:"rounded-lg border bg-white p-4"},Cv={class:"flex items-center justify-between"},Tv={class:"text-sm text-gray-600"},Ev={key:0,class:"mt-3 rounded border border-red-200 bg-red-50 p-3 text-sm text-red-700"},Av={key:1,class:"mt-4 space-y-3"},Pv={key:0,class:"flex items-center gap-3"},Rv=["href"],Iv=["src"],Ov=1e3,Nv=mt({__name:"CreateAdPage",setup(e){const t=is(),n=B(""),s=B(""),i=B(""),o=B(800),u=B(800),c=B(!1),d=B(null),m=B(null),h=B(null),g=B(null),y=B(!1),_=B(null),w=B(null),E=B([]),A=B(null),T=B([]);Bt(i,ee=>{const j=T.value.find(U=>U.value===ee);j&&(o.value=j.width,u.value=j.height)},{immediate:!0});async function C(){const j=((await zl()).sizes??[]).map(de=>{const Se=Number(de.width),me=Number(de.height);return{value:`${Se}x${me}`,label:`${Se}${me}`,width:Se,height:me}});T.value=j;const U=String(i.value||"");!j.some(de=>de.value===U)&&j.length>0&&(i.value=j[0].value)}function M(ee){const j=ee.target,U=Array.from(j.files??[]).slice(0,5);for(const Q of E.value)URL.revokeObjectURL(Q.url);E.value=U.map((Q,de)=>({id:`${Date.now()}-${de}`,file:Q,url:URL.createObjectURL(Q)}))}function D(ee){const j=E.value.findIndex(de=>de.id===ee);if(j===-1)return;const U=[...E.value],[Q]=U.splice(j,1);Q!=null&&Q.url&&URL.revokeObjectURL(Q.url),E.value=U}function F(ee){A.value=ee}function ue(ee){const j=A.value;if(!j||j===ee)return;const U=[...E.value],Q=U.findIndex(me=>me.id===j),de=U.findIndex(me=>me.id===ee);if(Q===-1||de===-1)return;const[Se]=U.splice(Q,1);U.splice(de,0,Se),E.value=U,A.value=null}function ce(ee){w.value=ee}const Ae=Ne(()=>E.value.map(ee=>ee.file)),V=Ne(()=>{if(!_.value)return"";const ee=_.value.nanobananaRequest??_.value;return JSON.stringify(ee,null,2)}),k=Ne(()=>{var ee;return c.value||((ee=m.value)==null?void 0:ee.status)==="generating"}),be=Ne(()=>{const ee=fn.value;return ee?ee.status!=="active"?!1:ee.remaining>=Ov:!0});let K=null;C();function Re(){K&&(window.clearInterval(K),K=null)}async function Ze(ee){const j=await Gl(ee);m.value=j.ad,h.value=j.downloadUrl?bt(j.downloadUrl):null,g.value=j.previewUrl?bt(j.previewUrl):null,m.value.status==="success"||m.value.status==="failed"?(Re(),d.value=null):d.value="Genererer..."}async function et(){c.value=!0,d.value=null,m.value=null,h.value=null,g.value=null,_.value=null,Re();try{const ee=await Kl(n.value,{debug:y.value,images:Ae.value,instructions:s.value,imageWidth:o.value,imageHeight:u.value});y.value&&(_.value=ee.debug??null),await Ze(ee.adId),K=window.setInterval(()=>{Ze(ee.adId).catch(()=>{d.value="Kunne ikke hente status"})},2500),t.replace({path:"/ads",query:{created:ee.adId}})}catch(ee){const j=ee instanceof Error?ee.message:String(ee);if(j.includes("insufficient_tokens")){const U=j.match(/"remaining_tokens"\s*:\s*(\d+)/),Q=j.match(/"required_tokens"\s*:\s*(\d+)/),de=U?Number(U[1]):null,Se=Q?Number(Q[1]):1e3;d.value=de===null?`Du har ikke nok tokens tilbage til at oprette en annonce. Der krves mindst ${Se.toLocaleString("da-DK")} tokens.`:`Du har ${de.toLocaleString("da-DK")} tokens tilbage. Der krves mindst ${Se.toLocaleString("da-DK")} tokens for at oprette en annonce.`}else d.value=j}finally{c.value=!1}}return It(()=>{ti().catch(()=>null)}),On(()=>{Re();for(const ee of E.value)URL.revokeObjectURL(ee.url)}),(ee,j)=>(P(),R("div",Gm,[j[21]||(j[21]=f("div",null,[f("h1",{class:"text-xl font-semibold"},"Opret annonce"),f("p",{class:"mt-1 text-sm text-gray-600"},"Upload billeder og skriv en tekst for at generere en ny annonce.")],-1)),f("div",Wm,[f("div",Jm,[f("div",Xm,[j[7]||(j[7]=f("label",{class:"text-sm font-medium",for:"text"},"Annonce tekst",-1)),je(xo,{modelValue:n.value,"onUpdate:modelValue":j[0]||(j[0]=U=>n.value=U),onError:ce},null,8,["modelValue"])]),xe(f("textarea",{id:"text","onUpdate:modelValue":j[1]||(j[1]=U=>n.value=U),class:"min-h-[18rem] w-full rounded border px-3 py-2"},null,512),[[De,n.value]]),j[8]||(j[8]=f("p",{class:"text-xs text-gray-600"}," Skriv den tekst der skal st p annoncen. AI'en m ikke ndre teksten, s tjek stavning og tegnstning. ",-1))]),f("details",Qm,[j[11]||(j[11]=f("summary",{class:"cursor-pointer select-none text-sm font-medium text-gray-900"}," Instrukser til AI (valgfrit) ",-1)),f("div",Ym,[f("div",Zm,[j[9]||(j[9]=f("label",{class:"text-sm font-medium",for:"instructions"},"Instrukser",-1)),je(xo,{modelValue:s.value,"onUpdate:modelValue":j[2]||(j[2]=U=>s.value=U),onError:ce},null,8,["modelValue"])]),xe(f("textarea",{id:"instructions","onUpdate:modelValue":j[3]||(j[3]=U=>s.value=U),class:"min-h-24 w-full rounded border bg-white px-3 py-2"},null,512),[[De,s.value]]),j[10]||(j[10]=f("p",{class:"text-xs text-gray-600"},' Beskriv hvordan annoncen skal se ud. Fx "minimalistisk", "ingen mennesker", "stort CTA", "lys baggrund". ',-1))])]),f("div",ev,[f("div",tv,[j[13]||(j[13]=f("div",{class:"text-sm font-medium text-gray-900"},"Annonce strrelse (px)",-1)),f("div",nv,[j[12]||(j[12]=f("label",{class:"sr-only",for:"sizePreset"},"Format",-1)),xe(f("select",{id:"sizePreset","onUpdate:modelValue":j[4]||(j[4]=U=>i.value=U),class:"w-full rounded border bg-white px-3 py-2"},[(P(!0),R(Fe,null,At(T.value,U=>(P(),R("option",{key:U.value,value:U.value},te(U.label),9,sv))),128))],512),[[Ar,i.value]])]),f("div",rv,"Strrelse: "+te(o.value)+""+te(u.value)+" px",1)])]),w.value?(P(),R("div",iv,te(w.value),1)):re("",!0),f("div",ov,[f("div",lv,[j[15]||(j[15]=f("label",{class:"text-sm font-medium",for:"images"},"Billeder til annoncen (op til 5)",-1)),f("input",{id:"images",class:"w-full",type:"file",accept:".png,.jpg,.jpeg,.webp",multiple:"",onChange:M},null,32),j[16]||(j[16]=f("p",{class:"text-xs text-gray-600"}," Upload billeder der skal bruges i annoncen. ",-1)),E.value.length?(P(),R("div",av,[j[14]||(j[14]=f("div",{class:"text-xs text-gray-600"},"Trk og slip for at ndre rkkeflgen (1 = primr).",-1)),f("div",uv,[(P(!0),R(Fe,null,At(E.value,(U,Q)=>(P(),R("div",{key:U.id,class:"relative cursor-grab overflow-hidden rounded border bg-white active:cursor-grabbing",draggable:"true",onDragstart:de=>F(U.id),onDragover:j[5]||(j[5]=Ot(()=>{},["prevent"])),onDrop:de=>ue(U.id)},[f("button",{type:"button",class:"absolute right-1 top-1 rounded bg-black/70 px-1.5 py-0.5 text-[10px] text-white",onClick:Ot(de=>D(U.id),["stop"])}," X ",8,dv),f("img",{src:U.url,class:"aspect-square w-full object-cover"},null,8,fv),f("div",hv,te(Q+1),1),f("div",pv,[f("div",gv,te(U.file.name),1)])],40,cv))),128))])])):re("",!0)])]),f("div",mv,[f("div",vv,[f("button",{class:"flex w-full justify-center rounded bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50 sm:w-auto",disabled:c.value||n.value.trim()===""||!be.value,onClick:et}," Generr annonce ",8,yv)]),f("label",bv,[xe(f("input",{"onUpdate:modelValue":j[6]||(j[6]=U=>y.value=U),type:"checkbox",class:"h-4 w-4"},null,512),[[Hs,y.value]]),j[17]||(j[17]=at(" Debug prompt ",-1))]),k.value?(P(),R("div",_v,[...j[18]||(j[18]=[f("span",{class:"inline-block h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-gray-900"},null,-1),f("span",null,"Genererer annonce...",-1)])])):d.value?(P(),R("div",xv,te(d.value),1)):re("",!0)])]),_.value?(P(),R("div",wv,[j[19]||(j[19]=f("div",{class:"text-sm font-medium"},"Debug",-1)),f("pre",Sv,te(V.value),1)])):re("",!0),m.value?(P(),R("div",kv,[f("div",Cv,[j[20]||(j[20]=f("div",{class:"text-sm font-medium"},"Status",-1)),f("div",Tv,te(m.value.status),1)]),m.value.status==="failed"?(P(),R("div",Ev,te(m.value.error||"Fejl"),1)):re("",!0),m.value.status==="success"?(P(),R("div",Av,[h.value?(P(),R("div",Pv,[f("a",{class:"inline-flex rounded bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800",href:h.value,target:"_blank",rel:"noopener",download:""}," Download PNG ",8,Rv)])):re("",!0),g.value?(P(),R("img",{key:1,src:g.value,class:"w-full max-w-md rounded border"},null,8,Iv)):re("",!0)])):re("",!0)])):re("",!0)]))}}),Lv={class:"mx-auto max-w-md rounded-lg border bg-white p-6"},$v={key:0},Dv={class:"grid gap-2"},jv={class:"grid gap-2"},Uv={class:"flex items-center gap-3"},Mv=["disabled"],Hv={key:0,class:"text-sm text-gray-700"},Fv={class:"mt-4 text-center"},Bv={key:1},Vv={class:"grid gap-2"},qv={class:"flex items-center gap-3"},zv=["disabled"],Kv={key:0,class:"text-sm text-gray-700"},Gv={class:"mt-4 text-center"},Wv=mt({__name:"LoginPage",setup(e){const t=is(),n=B(""),s=B(""),i=B(!1),o=B(null),u=B(!1),c=B(""),d=B(!1),m=B(null);async function h(){i.value=!0,o.value=null;try{await sh(n.value,s.value);const y=await Vs();if(y.companies.length===1){Vl(y.companies[0].id),await t.replace("/");return}await t.replace("/select-company")}catch(y){o.value=y instanceof Error?y.message:"Login failed"}finally{i.value=!1}}async function g(){d.value=!0,m.value=null;try{await rh(c.value),m.value="Hvis emailen findes i vores system, vil du modtage et reset link.",c.value="",setTimeout(()=>{u.value=!1,m.value=null},3e3)}catch(y){m.value=y instanceof Error?y.message:"Failed to send reset email"}finally{d.value=!1}}return(y,_)=>(P(),R("div",Lv,[u.value?(P(),R("div",Bv,[_[10]||(_[10]=f("h1",{class:"text-xl font-semibold"},"Nulstil adgangskode",-1)),_[11]||(_[11]=f("p",{class:"mt-1 text-sm text-gray-600"},"Indtast din email for at modtage et link til at nulstille din adgangskode.",-1)),f("form",{class:"mt-6 grid gap-4",onSubmit:Ot(g,["prevent"])},[f("div",Vv,[_[9]||(_[9]=f("label",{class:"text-sm font-medium",for:"reset-email"},"Email",-1)),xe(f("input",{id:"reset-email","onUpdate:modelValue":_[3]||(_[3]=w=>c.value=w),class:"w-full rounded border px-3 py-2",type:"email",required:""},null,512),[[De,c.value]])]),f("div",qv,[f("button",{class:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50",type:"submit",disabled:d.value}," Send reset link ",8,zv),m.value?(P(),R("div",Kv,te(m.value),1)):re("",!0)])],32),f("div",Gv,[f("button",{type:"button",onClick:_[4]||(_[4]=w=>u.value=!1),class:"text-sm text-gray-600 hover:text-gray-800"}," Tilbage til login ")])])):(P(),R("div",$v,[_[7]||(_[7]=f("h1",{class:"text-xl font-semibold"},"Login",-1)),_[8]||(_[8]=f("p",{class:"mt-1 text-sm text-gray-600"},"Log ind for at redigere brand og annoncetekster.",-1)),f("form",{class:"mt-6 grid gap-4",onSubmit:Ot(h,["prevent"])},[f("div",Dv,[_[5]||(_[5]=f("label",{class:"text-sm font-medium",for:"email"},"Email",-1)),xe(f("input",{id:"email","onUpdate:modelValue":_[0]||(_[0]=w=>n.value=w),class:"w-full rounded border px-3 py-2",type:"email",required:""},null,512),[[De,n.value]])]),f("div",jv,[_[6]||(_[6]=f("label",{class:"text-sm font-medium",for:"password"},"Password",-1)),xe(f("input",{id:"password","onUpdate:modelValue":_[1]||(_[1]=w=>s.value=w),class:"w-full rounded border px-3 py-2",type:"password",required:""},null,512),[[De,s.value]])]),f("div",Uv,[f("button",{class:"rounded bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 disabled:opacity-50",type:"submit",disabled:i.value}," Login ",8,Mv),o.value?(P(),R("div",Hv,te(o.value),1)):re("",!0)])],32),f("div",Fv,[f("button",{type:"button",onClick:_[2]||(_[2]=w=>u.value=!0),class:"text-sm text-blue-600 hover:text-blue-800"}," Glemt din adgangskode? ")])]))]))}}),Jv={class:"mx-auto max-w-md rounded-lg border bg-white p-6"},Xv={class:"grid gap-2"},Qv={class:"grid gap-2"},Yv={class:"flex items-center gap-3"},Zv=["disabled"],ey={class:"mt-4 text-center"},ty=mt({__name:"ResetPasswordPage",setup(e){const t=is(),n=Fl(),s=B(""),i=B(""),o=B(!1),u=B(null),c=B("success");It(()=>{const m=n.query.token,h=n.query.email;(!m||!h)&&(u.value="Ugyldigt reset link. Anmod om et nyt link.",c.value="error")});async function d(){if(s.value!==i.value){u.value="Adgangskoderne matcher ikke.",c.value="error";return}o.value=!0,u.value=null;try{const m=n.query.token,h=n.query.email,g=await fetch("https://smartadd.ddev.site:33005/api/auth/reset-password",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({token:m,email:h,password:s.value,password_confirmation:i.value})});if(!g.ok){const y=await g.text();throw new Error(y||`HTTP ${g.status}`)}u.value="Adgangskoden er blevet nulstillet. Du bliver viderestillet til login...",c.value="success",setTimeout(()=>{t.push("/login")},2e3)}catch(m){u.value=m instanceof Error?m.message:"Failed to reset password",c.value="error"}finally{o.value=!1}}return(m,h)=>{const g=rl("router-link");return P(),R("div",Jv,[h[5]||(h[5]=f("h1",{class:"text-xl font-semibold"},"Nulstil adgangskode",-1)),h[6]||(h[6]=f("p",{class:"mt-1 text-sm text-gray-600"},"Indtast din nye adgangskode.",-1)),f("form",{class:"mt-6 grid gap-4",onSubmit:Ot(d,["prevent"])},[f("div",Xv,[h[2]||(h[2]=f("label",{class:"text-sm font-medium",for:"password"},"Ny adgangskode",-1)),xe(f("input",{id:"password","onUpdate:modelValue":h[0]||(h[0]=y=>s.value=y),class:"w-full rounded border px-3 py-2",type:"password",required:"",minlength:"8"},null,512),[[De,s.value]])]),f("div",Qv,[h[3]||(h[3]=f("label",{class:"text-sm font-medium",for:"password_confirmation"},"Bekrft adgangskode",-1)),xe(f("input",{id:"password_confirmation","onUpdate:modelValue":h[1]||(h[1]=y=>i.value=y),class:"w-full rounded border px-3 py-2",type:"password",required:"",minlength:"8"},null,512),[[De,i.value]])]),f("div",Yv,[f("button",{class:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50",type:"submit",disabled:o.value}," Nulstil adgangskode ",8,Zv),u.value?(P(),R("div",{key:0,class:mn(["text-sm",c.value==="error"?"text-red-600":"text-green-600"])},te(u.value),3)):re("",!0)])],32),f("div",ey,[je(g,{to:"/login",class:"text-sm text-gray-600 hover:text-gray-800"},{default:kt(()=>[...h[4]||(h[4]=[at(" Tilbage til login ",-1)])]),_:1})])])}}}),ny={class:"mx-auto max-w-md rounded-lg border bg-white p-6"},sy={class:"mt-6 grid gap-6"},ry={class:"grid gap-3"},iy=["onClick"],oy=["src","onError"],ly={key:1,class:"flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-full bg-gray-100 text-sm font-semibold text-gray-600"},ay={class:"font-medium"},uy={key:0,class:"text-sm text-gray-700"},cy=mt({__name:"SelectCompanyPage",setup(e){const t=is(),n=B([]),s=B(null),i=B(null),o=B(!1),u=B(new Set);function c(h){u.value=new Set([...u.value,h])}async function d(){var _;const h=await Vs();n.value=h.companies;const g=rt.value?Number(rt.value):null,y=g&&!Number.isNaN(g)?g:null;if(y&&h.companies.some(w=>w.id===y)){s.value=y;return}s.value=((_=h.companies[0])==null?void 0:_.id)??null}async function m(h){if(!o.value){o.value=!0,i.value=null,s.value=h;try{Vl(h),await t.replace("/")}catch(g){i.value=g instanceof Error?g.message:"Kunne ikke vlge company"}finally{o.value=!1}}}return It(()=>{d().catch(h=>{i.value=h instanceof Error?h.message:"Kunne ikke hente companies"})}),(h,g)=>(P(),R("div",ny,[g[0]||(g[0]=f("h1",{class:"text-xl font-semibold"},"Vlg company",-1)),g[1]||(g[1]=f("p",{class:"mt-1 text-sm text-gray-600"},"Du har adgang til flere companies. Vlg hvilket du vil arbejde i.",-1)),f("div",sy,[f("div",ry,[(P(!0),R(Fe,null,At(n.value,y=>(P(),R("button",{key:y.id,class:mn(["flex w-full items-center gap-4 rounded-lg border p-2 text-left hover:border-green-600 hover:bg-green-50",s.value===y.id?"border-green-600 bg-green-50":""]),type:"button",onClick:_=>m(y.id)},[y.logo_path&&!u.value.has(y.id)?(P(),R("img",{key:0,src:Je(bt)(y.logo_path),class:"h-16 w-16 rounded-full object-contain",onError:_=>c(y.id)},null,40,oy)):(P(),R("div",ly,te((y.name||"?").trim().slice(0,2).toUpperCase()),1)),f("div",ay,te(y.name),1)],10,iy))),128))]),i.value?(P(),R("div",uy,te(i.value),1)):re("",!0)])]))}}),dy={class:"space-y-6"},fy={class:"grid gap-2"},hy={class:"grid gap-2"},py={class:"flex items-center gap-3"},gy=["disabled"],my={key:0,class:"text-sm text-gray-700"},vy={class:"grid gap-2"},yy={class:"grid gap-2"},by={class:"grid gap-2"},_y={class:"flex items-center gap-3"},xy=["disabled"],wy={key:0,class:"text-sm text-gray-700"},Sy=mt({__name:"ProfilePage",setup(e){const t=B({name:"",email:""}),n=B({current_password:"",password:"",password_confirmation:""}),s=B(!1),i=B(!1),o=B(null),u=B(null);async function c(){const h=await Vs();t.value.name=h.user.name,t.value.email=h.user.email}async function d(){s.value=!0,o.value=null;try{await oh({name:t.value.name,email:t.value.email}),o.value="Gemt"}catch(h){o.value=h instanceof Error?h.message:"Fejl"}finally{s.value=!1}}async function m(){i.value=!0,u.value=null;try{await lh({current_password:n.value.current_password,password:n.value.password,password_confirmation:n.value.password_confirmation}),n.value.current_password="",n.value.password="",n.value.password_confirmation="",u.value="Gemt"}catch(h){u.value=h instanceof Error?h.message:"Fejl"}finally{i.value=!1}}return It(c),(h,g)=>(P(),R("div",dy,[g[11]||(g[11]=f("div",null,[f("h1",{class:"text-xl font-semibold"},"User"),f("p",{class:"mt-1 text-sm text-gray-600"},"Opdatr dine brugeroplysninger.")],-1)),f("form",{class:"grid gap-4 rounded-lg border bg-white p-4",onSubmit:Ot(d,["prevent"])},[f("div",fy,[g[5]||(g[5]=f("label",{class:"text-sm font-medium",for:"name"},"Navn",-1)),xe(f("input",{id:"name","onUpdate:modelValue":g[0]||(g[0]=y=>t.value.name=y),class:"w-full rounded border px-3 py-2",required:""},null,512),[[De,t.value.name]])]),f("div",hy,[g[6]||(g[6]=f("label",{class:"text-sm font-medium",for:"email"},"Email",-1)),xe(f("input",{id:"email","onUpdate:modelValue":g[1]||(g[1]=y=>t.value.email=y),type:"email",class:"w-full rounded border px-3 py-2",required:""},null,512),[[De,t.value.email]])]),f("div",py,[f("button",{class:"rounded bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 disabled:opacity-50",disabled:s.value}," Gem profil ",8,gy),o.value?(P(),R("div",my,te(o.value),1)):re("",!0)])],32),f("form",{class:"grid gap-4 rounded-lg border bg-white p-4",onSubmit:Ot(m,["prevent"])},[g[10]||(g[10]=f("div",{class:"text-sm font-medium"},"Skift password",-1)),f("div",vy,[g[7]||(g[7]=f("label",{class:"text-sm font-medium",for:"current_password"},"Nuvrende password",-1)),xe(f("input",{id:"current_password","onUpdate:modelValue":g[2]||(g[2]=y=>n.value.current_password=y),type:"password",class:"w-full rounded border px-3 py-2",required:""},null,512),[[De,n.value.current_password]])]),f("div",yy,[g[8]||(g[8]=f("label",{class:"text-sm font-medium",for:"password"},"Nyt password",-1)),xe(f("input",{id:"password","onUpdate:modelValue":g[3]||(g[3]=y=>n.value.password=y),type:"password",class:"w-full rounded border px-3 py-2",required:""},null,512),[[De,n.value.password]])]),f("div",by,[g[9]||(g[9]=f("label",{class:"text-sm font-medium",for:"password_confirmation"},"Gentag nyt password",-1)),xe(f("input",{id:"password_confirmation","onUpdate:modelValue":g[4]||(g[4]=y=>n.value.password_confirmation=y),type:"password",class:"w-full rounded border px-3 py-2",required:""},null,512),[[De,n.value.password_confirmation]])]),f("div",_y,[f("button",{class:"rounded bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-800 disabled:opacity-50",disabled:i.value}," Opdatr password ",8,xy),u.value?(P(),R("div",wy,te(u.value),1)):re("",!0)])],32)]))}}),Jl=th({history:$f(),routes:[{path:"/login",component:Wv},{path:"/reset-password",component:ty},{path:"/select-company",component:cy},{path:"/profile",component:Sy},{path:"/",redirect:"/ads"},{path:"/company",component:mg},{path:"/ads",component:Bm},{path:"/ads/new",component:Nv},{path:"/ad",redirect:"/ads/new"},{path:"/ad/legacy",component:zg}]});Jl.beforeEach(e=>{const t=e.path==="/login"||e.path==="/reset-password",n=!!Ft.value;return!t&&!n?{path:"/login"}:e.path==="/login"&&n?{path:"/"}:!0});Wd(Bh).use(Jl).mount("#app");
